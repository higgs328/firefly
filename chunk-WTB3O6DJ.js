import{a as w,c as f}from"./chunk-UST6HCE7.js";import{b as g}from"./chunk-X2B63YVS.js";import{o as h}from"./chunk-AUAZP44J.js";import{b as s}from"./chunk-YOFFGXOB.js";import{f as c}from"./chunk-VTHXE323.js";function y(r,e,t,o){return c(this,null,function*(){let n=e.exec(t);if(!n)throw new s("esri-intl:invalid-bundle",`Bundle id "${t}" is not compatible with the pattern "${e}"`);let a=n[1]?`${n[1]}/`:"",d=n[2],u=f(o),i=`${a}${d}.json`,p=u?`${a}${d}_${u}.json`:i,l;try{l=yield L(r(p))}catch(B){if(p===i)throw new s("intl:unknown-bundle",`Bundle "${t}" cannot be loaded`,{error:B});try{l=yield L(r(i))}catch(b){throw new s("intl:unknown-bundle",`Bundle "${t}" cannot be loaded`,{error:b})}}return l})}function L(r){return c(this,null,function*(){if($.fetchBundleAsset!=null)return $.fetchBundleAsset(r);let e=yield h(r,{responseType:"text"});return JSON.parse(e.data)})}var m=class{constructor({base:e="",pattern:t,location:o=new URL(window.location.href)}){let n;n=typeof o=="string"?a=>new URL(a,new URL(o,window.location.href)).href:o instanceof URL?a=>new URL(a,o).href:o,this.pattern=typeof t=="string"?new RegExp(`^${t}`):t,this.getAssetUrl=n,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return y(this.getAssetUrl,this.matcher,e,t)}};function x(r){return new m(r)}var $={};w(x({pattern:"esri/",location:g}));export{x as a};
