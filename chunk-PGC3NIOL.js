import{a as $}from"./chunk-RKGIXLMM.js";import"./chunk-QW25UBG2.js";import"./chunk-7XYYDAZO.js";import"./chunk-DXT3NBO5.js";import"./chunk-LAX5536Z.js";import"./chunk-N3HRYLNW.js";import"./chunk-4DBMALZW.js";import"./chunk-CVWWHM2V.js";import"./chunk-6OQYVEQJ.js";import"./chunk-YOXOWGT6.js";import"./chunk-EFZOSMYP.js";import"./chunk-WI7F4ZKJ.js";import"./chunk-MJ7M24NH.js";import"./chunk-GJH4QFRX.js";import"./chunk-T63F7663.js";import"./chunk-O4V2VBSK.js";import"./chunk-5TKRKB5E.js";import"./chunk-XAGMDNNR.js";import"./chunk-OP2TLIUN.js";import"./chunk-T2THIR6K.js";import"./chunk-LORHDXEB.js";import"./chunk-BBBPJI4H.js";import"./chunk-45BTW5EG.js";import"./chunk-TPFBHGDM.js";import"./chunk-73NLRHJD.js";import"./chunk-PNFEUBDF.js";import"./chunk-6RCCEJDL.js";import"./chunk-PQ2TNDUX.js";import"./chunk-6X6MKRQ3.js";import"./chunk-FQFHMHYU.js";import"./chunk-SZMEI3WL.js";import"./chunk-KKVGD67U.js";import"./chunk-MYOJWRDU.js";import"./chunk-L7UKJKHG.js";import"./chunk-V2IENAEU.js";import"./chunk-QAGQFNF2.js";import"./chunk-SY7JS2VW.js";import"./chunk-WK57SDN6.js";import"./chunk-AG4V3ZUO.js";import"./chunk-YWLMJ26A.js";import"./chunk-QAWNU3UJ.js";import"./chunk-HRQT4R6X.js";import"./chunk-44BHLWQ4.js";import"./chunk-5BPM64SU.js";import"./chunk-PMVHHMQJ.js";import"./chunk-NAFOM5UA.js";import"./chunk-DO7UF2F2.js";import"./chunk-ZTR6OS44.js";import"./chunk-VRTKAD2J.js";import"./chunk-DBLKLHK2.js";import"./chunk-UTE3ASAZ.js";import"./chunk-2AFEAPEX.js";import"./chunk-GNGXUEWV.js";import"./chunk-QBI5NDCA.js";import"./chunk-NOHW2DKR.js";import"./chunk-HVJAAM3A.js";import"./chunk-ACPEJEHK.js";import"./chunk-I7B3LWNP.js";import"./chunk-YP2E5N4E.js";import"./chunk-QLMNLSCT.js";import"./chunk-P55G5ATK.js";import"./chunk-JT3K52KQ.js";import"./chunk-SPLEGG4R.js";import"./chunk-Y4TJDUGP.js";import"./chunk-6PAFOJ4W.js";import"./chunk-74SDGE57.js";import"./chunk-FRXWHX3T.js";import"./chunk-DTDQ5X42.js";import"./chunk-RX2HFR4X.js";import"./chunk-AZW7YPTQ.js";import"./chunk-NJLJX4X6.js";import"./chunk-DZHFTD24.js";import"./chunk-K57Z4J34.js";import"./chunk-VWG3KVOU.js";import"./chunk-JOEUVLAN.js";import"./chunk-JZQDGIDQ.js";import"./chunk-CZ6CGC7I.js";import"./chunk-7B6U3N62.js";import"./chunk-46WDO5LS.js";import"./chunk-G5EYK5KM.js";import"./chunk-YJKJQU3F.js";import"./chunk-OK4K3OQT.js";import"./chunk-BPWNCOXC.js";import"./chunk-VNS4CQ27.js";import{a as D}from"./chunk-AVMO6LCR.js";import"./chunk-TEGPMVWT.js";import{a as U}from"./chunk-CLQRQC3Y.js";import"./chunk-KSNU73LO.js";import"./chunk-FACEVGRE.js";import"./chunk-5XTCPT52.js";import"./chunk-JQAW4OB5.js";import"./chunk-TC77DYTW.js";import"./chunk-F2BQ2GD6.js";import"./chunk-R3XLNYYB.js";import"./chunk-BMYVPMAK.js";import{a as P}from"./chunk-6F25LG6O.js";import"./chunk-GJ2QRXGN.js";import"./chunk-3JGYBNJA.js";import"./chunk-ZC6EBRE4.js";import"./chunk-KALOJIUA.js";import"./chunk-KMMTNF7G.js";import"./chunk-MIS6QMFE.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import"./chunk-7QNKS2X6.js";import"./chunk-VCCMJ6BV.js";import"./chunk-QK56OQGR.js";import"./chunk-FXCL7YYQ.js";import"./chunk-QKO56XO6.js";import"./chunk-JRGT3GTH.js";import"./chunk-K75TK42V.js";import"./chunk-CELWVZPW.js";import"./chunk-VV5G7VY5.js";import"./chunk-OLOKUDVI.js";import"./chunk-DYTVXYAV.js";import"./chunk-ZTOZWLEE.js";import"./chunk-RJWOVI3M.js";import"./chunk-RSDQHAJX.js";import"./chunk-BOVYXYHK.js";import"./chunk-KVM6SHDX.js";import"./chunk-HX2VGIR2.js";import"./chunk-ERDKAICI.js";import"./chunk-EQZWYK27.js";import"./chunk-JLPLCY2B.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import{a as S}from"./chunk-AXYQJCCX.js";import{a as e}from"./chunk-5XCFNEYX.js";import{a as C}from"./chunk-GQL2MBZT.js";import{b as x}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import{b as M}from"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{a as N,c as T,j as L}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as o}from"./chunk-QGVBCWUY.js";import{H as _}from"./chunk-MYO4NP2N.js";import{e as n}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as u}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{f}from"./chunk-VTHXE323.js";var p=class extends _{constructor(t){super(t),this.arrowsToggle=!1,this.capSelect=!1,this.colorPicker=!0,this.stylePicker=!0,this.widthInput=!0}};o([n({type:Boolean,nonNullable:!0})],p.prototype,"arrowsToggle",void 0),o([n({type:Boolean,nonNullable:!0})],p.prototype,"capSelect",void 0),o([n({type:Boolean,nonNullable:!0})],p.prototype,"colorPicker",void 0),o([n({type:Boolean,nonNullable:!0})],p.prototype,"stylePicker",void 0),o([n({type:Boolean,nonNullable:!0})],p.prototype,"widthInput",void 0),p=o([u("esri.widgets.UtilityNetworkAssociations.VisibleElementsSettingsPane")],p);var w=p;var A="esri-un-associations",b={divControlsSymbolPicker:`${A}__div-controls-symbol-picker`,dropdown:`${A}__dropdown`,dropdownItemLineCap:`${A}__dropdown-item-line-cap`,dropdownItemLinePattern:`${A}__dropdown-item-line-pattern`,dropdownSelectedItemLineCap:`${A}__dropdown-selected-item-line-cap`,dropdownSelectedItemLinePattern:`${A}__dropdown-selected-item-line-pattern`,dropdownTrigger:`${A}__dropdown-trigger`,labelAndToggle:`${A}__label-and-toggle`},y=class extends C{constructor(t,i){super(t,i),this._lineCapTypes=["butt","round","square"],this._lineStyleTypes=["solid","dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","short-dash","short-dash-dot","short-dash-dot-dot","short-dot"],this.lineSymbol=new D,this.messages=null,this.showArrows=!1,this.visibleElements=new w,this._afterComponentCreate=this._afterComponentCreate.bind(this)}render(){let{messages:{input:{lineCap:t,lineColor:i,lineStyle:s,lineWidth:a,showArrows:d}},visibleElements:m}=this,h=this.lineSymbol;return e("div",{class:b.divControlsSymbolPicker},m.arrowsToggle?this._renderToggle(d,this.showArrows,h,"marker"):void 0,m.capSelect?this._renderLineStylePicker(t,this._lineCapTypes,h,"cap"):void 0,m.colorPicker&&h.color?this._renderColorPicker(i,h.color.toHex(),h,"color"):void 0,m.stylePicker?this._renderLineStylePicker(s,this._lineStyleTypes,h,"style"):void 0,m.widthInput?this._renderNumberInput(a,h.width.toString(),h,"width"):void 0)}loadDependencies(){return x({dropdown:()=>import("./chunk-F6T2J7EG.js"),"dropdown-group":()=>import("./chunk-KPY43GC2.js"),"dropdown-item":()=>import("./chunk-XJK7VSUG.js"),input:()=>import("./chunk-SS6GQCI6.js"),"input-number":()=>import("./chunk-M6HYH3SF.js"),label:()=>import("./chunk-S24JESVO.js"),switch:()=>import("./chunk-IIWK5IA5.js")})}_afterComponentCreate(t){"value"in t&&t.value!=null&&"setNumberValue"in t&&t.setNumberValue({committing:!1,value:t.value,origin:"direct"})}_renderColorPicker(t,i,s,a){return e("calcite-label",{scale:"s"},t,e("calcite-input",{scale:"s",type:"color",value:i,onCalciteInputInput:d=>{let m=d.currentTarget;s.set(a,new P(m.value))}}))}_renderLineStylePicker(t,i,s,a){let d=a==="style",m="esri/widgets/UtilityNetworkAssociations/assets/img";function h(g,k){return e("calcite-dropdown-item",{label:g,selected:s[k]===g},e("div",{class:d?b.dropdownItemLinePattern:b.dropdownItemLineCap,style:`background-image:url(${M(`${m}/line-${d?"patterns":"caps"}/${g}.png`)})`}))}return e("calcite-label",{scale:"s"},t,e("calcite-dropdown",{class:b.dropdown,onCalciteDropdownSelect:g=>{let k=g.currentTarget;s.set(a,k.selectedItems[0].label)}},e("div",{class:b.dropdownTrigger,role:"button",slot:"trigger"},e("div",{class:d?b.dropdownSelectedItemLinePattern:b.dropdownSelectedItemLineCap,style:`background-image:url(${M(`${m}/line-${d?"patterns":"caps"}/${s[a]}.png`)})`})),e("calcite-dropdown-group",null,i.map(g=>h(g,a)))))}_renderNumberInput(t,i,s,a){return e("calcite-label",{scale:"s"},t,e("calcite-input-number",{afterCreate:this._afterComponentCreate,max:10,min:1,scale:"s",step:1,type:"number",value:i,onCalciteInputNumberChange:d=>{let m=d.currentTarget;s.set(a,m.value)}}))}_renderToggle(t,i,s,a){return e("div",{class:b.labelAndToggle},e("calcite-label",{scale:"s"},t),e("calcite-switch",{bind:this,checked:i,onCalciteSwitchChange:d=>{d.currentTarget.checked?s.set(a,new U({style:"arrow"})):s.set(a,null)}}))}};o([n()],y.prototype,"lineSymbol",void 0),o([n(),S("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],y.prototype,"messages",void 0),o([n()],y.prototype,"showArrows",void 0),o([n({type:w,nonNullable:!0})],y.prototype,"visibleElements",void 0),y=o([u("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsLineSymbolPicker")],y);var E=y;var v=class extends _{constructor(t){super(t),this.maxAllowableAssociationsSlider=!1,this.connectivityAssociationsSettings=new w,this.structuralAttachmentAssociationsSettings=new w}};o([n({type:Boolean,nonNullable:!0})],v.prototype,"maxAllowableAssociationsSlider",void 0),o([n({type:w,nonNullable:!0})],v.prototype,"connectivityAssociationsSettings",void 0),o([n({type:w,nonNullable:!0})],v.prototype,"structuralAttachmentAssociationsSettings",void 0),v=o([u("esri.widgets.UtilityNetworkAssociations.VisibleElements")],v);var I=v;var c="esri-un-associations",l={action:`${c}__action`,actionRefresh:`${c}__action-refresh`,blockContent:`${c}__block-content`,blockSectionSettings:`${c}__block-section-settings`,combobox:`${c}__combobox`,comboboxItem:`${c}__combobox-item`,divControlsMain:`${c}__div-controls-main`,label:`${c}__label`,labelAndCombobox:`${c}__label-and-combobox`,labelAndSlider:`${c}__label-and-slider`,labelAndToggle:`${c}__label-and-toggle`,panel:`${c}__panel`,slider:`${c}__slider`,statusIconContainer:`${c}__status-icon-container`,statusIconWarning:`${c}__status-icon-warning`,switch:`${c}__switch`,switchContainer:`${c}__switch-container`,widgetContainer:`${c}__widget-container`},r=class extends C{constructor(t,i){super(t,i),this._autoRefreshAssociations=!0,this._associationsOptionsEnabled=!1,this._maxAllowableAssociationsSliderMax=1e3,this._maxAllowableAssociationsSliderMin=250,this._maxAllowableAssociationsSliderStep=250,this.messages=null,this.messagesCommon=null,this.viewModel=new $,this.visibleElements=new I}initialize(){this.addHandles([N(()=>[this.view?.stationary,this.showAssociationsEnabled,this.includeConnectivityAssociations,this.includeStructuralAttachmentAssociations,this.maxAllowableAssociations],()=>{this.autoRefreshAssociations===!0&&(this.showAssociationsEnabled===!0?this.viewModel.showAssociations():this.viewModel.removeAssociations())}),N(()=>this.view?.map?.utilityNetworks,t=>{t?.items.forEach((i,s)=>f(this,null,function*(){i.loaded||(yield i.load()),s===0&&(this.utilityNetwork=i)}))},L),T(()=>this.view?.map?.utilityNetworks,"change",t=>{let i=t.target;t.added.forEach(s=>f(this,null,function*(){s.loaded||(yield s.load())})),t.removed.some(s=>s.layerUrl===this.utilityNetwork?.layerUrl)&&(this.utilityNetwork=null),this.utilityNetwork=i.length?i.getItemAt(0):null})])}get autoRefreshAssociations(){return this._autoRefreshAssociations}set autoRefreshAssociations(t){this._autoRefreshAssociations=t}get connectivityAssociationsLineSymbol(){return this.viewModel.connectivityAssociationsLineSymbol}set connectivityAssociationsLineSymbol(t){this.viewModel.connectivityAssociationsLineSymbol=t}get icon(){return"view-associations"}set icon(t){this._overrideIfSome("icon",t)}get includeConnectivityAssociations(){return this.viewModel.includeConnectivityAssociations}set includeConnectivityAssociations(t){this.viewModel.includeConnectivityAssociations=t}get includeStructuralAttachmentAssociations(){return this.viewModel.includeStructuralAttachmentAssociations}set includeStructuralAttachmentAssociations(t){this.viewModel.includeStructuralAttachmentAssociations=t}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get maxAllowableAssociations(){return this.viewModel.maxAllowableAssociations}set maxAllowableAssociations(t){this.viewModel.maxAllowableAssociations=t}get maxAllowableAssociationsSliderMax(){return this._maxAllowableAssociationsSliderMax}set maxAllowableAssociationsSliderMax(t){t<=this.maxAllowableAssociationsSliderMin||(this._maxAllowableAssociationsSliderMax=t)}get maxAllowableAssociationsSliderMin(){return this._maxAllowableAssociationsSliderMin}set maxAllowableAssociationsSliderMin(t){t<0||t>=this.maxAllowableAssociationsSliderMax||(this._maxAllowableAssociationsSliderMin=t)}get maxAllowableAssociationsSliderStep(){return this._maxAllowableAssociationsSliderStep}set maxAllowableAssociationsSliderStep(t){this._maxAllowableAssociationsSliderStep=t}get showArrowsConnectivity(){return this.viewModel.showArrowsConnectivity}set showArrowsConnectivity(t){this.viewModel.showArrowsConnectivity=t}get showArrowsStructuralAttachment(){return this.viewModel.showArrowsStructuralAttachment}set showArrowsStructuralAttachment(t){this.viewModel.showArrowsStructuralAttachment=t}get showAssociationsEnabled(){return this.viewModel.showAssociationsEnabled}set showAssociationsEnabled(t){this.viewModel.showAssociationsEnabled=t}get structuralAttachmentAssociationsLineSymbol(){return this.viewModel.structuralAttachmentAssociationsLineSymbol}set structuralAttachmentAssociationsLineSymbol(t){this.viewModel.structuralAttachmentAssociationsLineSymbol=t}get utilityNetwork(){return this.viewModel.utilityNetwork}set utilityNetwork(t){this.viewModel.utilityNetwork=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){let{label:t}=this;return e("div",{class:l.widgetContainer},e("calcite-block",{class:l.blockContent,collapsible:!0,heading:t},this._renderStatusIcon(),this.autoRefreshAssociations?this._renderShowAssociationsSwitch():this._renderRefreshAssociationsAction(),this._renderContent()))}loadDependencies(){return x({action:()=>import("./chunk-X23M5IZ6.js"),block:()=>import("./chunk-LVVNNI43.js"),"block-section":()=>import("./chunk-VJ6UDM3T.js"),icon:()=>import("./chunk-7Z2RNQA3.js"),combobox:()=>import("./chunk-UQBNFKHV.js"),"combobox-item":()=>import("./chunk-L2XDWQVU.js"),label:()=>import("./chunk-S24JESVO.js"),notice:()=>import("./chunk-PEKK3NZO.js"),panel:()=>import("./chunk-GS5FRZ5P.js"),slider:()=>import("./chunk-WZXNPN5A.js"),switch:()=>import("./chunk-IIWK5IA5.js"),tooltip:()=>import("./chunk-24BDRL23.js")})}_connectivityAssociationsSwitchChange(t){this.includeConnectivityAssociations=t.currentTarget.checked}_getLoadErrorMessagesAsNotices(t,i){return e("calcite-notice",{closable:!1,key:`error-notice-${i}`,kind:"warning",open:!0,scale:"s"},e("div",{slot:"message"},t))}_maxAllowableAssociationsSliderChange(t){this.maxAllowableAssociations=Number(t.currentTarget.value)}_refreshAssociations(){let{viewModel:t,viewModel:{state:i}}=this;i!=="ready"&&i!=="warning"||t.showAssociations()}_renderConnectivityAssociationsSettings(){let{messages:{input:{enableConnectivity:t}},visibleElements:{connectivityAssociationsSettings:i}}=this;if(i)return e("calcite-block-section",{class:l.blockSectionSettings,text:t},e(E,{id:`${this.id}-symbol-picker-connectivity`,lineSymbol:this.connectivityAssociationsLineSymbol,showArrows:this.showArrowsConnectivity,visibleElements:i}))}_renderConnectivityAssociationsToggle(){let{messages:{input:{enableConnectivity:t}}}=this;return e("div",{class:l.labelAndToggle,key:"connectivityAssociationsToggleDiv"},e("calcite-label",{class:l.label},t),e("calcite-switch",{bind:this,checked:this.includeConnectivityAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._connectivityAssociationsSwitchChange}))}_renderComboboxItem({heading:t,value:i,selected:s}){return e("calcite-combobox-item",{class:l.comboboxItem,heading:t,selected:s,textLabel:t,value:i})}_renderContent(){let{viewModel:{loadErrors:t,state:i}}=this;return i==="disabled"?e("div",{class:l.divControlsMain,key:"loadErrorsDiv"},t.items.map(this._getLoadErrorMessagesAsNotices)):e("calcite-panel",{class:l.panel,disabled:i==="loading"},e("div",{class:l.divControlsMain},this._renderConnectivityAssociationsToggle(),this._renderStructuralAttachmentAssociationsToggle(),this._renderSettingsPane()))}_renderLoadingAction(t,i,s){return e("div",{key:t,slot:"control"},e("calcite-action",{id:i,loading:!0,text:s}),e("calcite-tooltip",{overlayPositioning:"fixed",referenceElement:i},e("span",null,s)))}_renderMaxAllowableAssociationsSlider(){let{messages:{input:{maxAllowableAssociations:t}},visibleElements:{maxAllowableAssociationsSlider:i}}=this;if(i)return e("div",{class:l.labelAndSlider,key:"maxAllowableAssociationsSliderDiv"},e("calcite-label",{class:l.label},t),e("calcite-slider",{bind:this,class:l.slider,labelTicks:!0,max:this.maxAllowableAssociationsSliderMax,min:this.maxAllowableAssociationsSliderMin,scale:"s",snap:!0,step:this.maxAllowableAssociationsSliderStep,ticks:this.maxAllowableAssociationsSliderStep,value:this.maxAllowableAssociations,onCalciteSliderChange:this._maxAllowableAssociationsSliderChange}))}_renderRefreshAssociationsAction(){let{messages:{input:{refreshAssociations:t}},messagesCommon:{loading:i},viewModel:{state:s}}=this,a=`${this.id}-refresh-action`;if(s!=="disabled")return e("div",{class:l.actionRefresh,slot:"control"},e("calcite-action",{bind:this,class:l.action,icon:"refresh-f",id:a,loading:s==="loading",onclick:this._refreshAssociations,text:t}),e("calcite-tooltip",{overlayPositioning:"fixed",referenceElement:a},e("span",null,s==="loading"?i:t)))}_renderSettingsPane(){let{messagesCommon:{settings:t},visibleElements:{maxAllowableAssociationsSlider:i,connectivityAssociationsSettings:s,structuralAttachmentAssociationsSettings:a}}=this;if((this.view?.map).utilityNetworks?.items?.length!==1||i||s||a)return e("calcite-block",{class:l.blockContent,collapsible:!0,heading:t},e("div",{class:l.divControlsMain},this._renderUtilityNetworkSettings(),this._renderMaxAllowableAssociationsSlider()),this._renderConnectivityAssociationsSettings(),this._renderStructuralAttachmentAssociationsSettings())}_renderShowAssociationsSwitch(){let{messages:{input:{enableAssociations:t}},messagesCommon:{loading:i},viewModel:{state:s}}=this,a=`${this.id}-show-associations-switch`;if(s!=="disabled")return s==="loading"?this._renderLoadingAction("loadingActionDiv",`${this.id}-loading-action`,i):e("div",{class:l.switchContainer,key:"switchDiv",slot:"control"},e("calcite-switch",{bind:this,checked:this.showAssociationsEnabled,class:l.switch,id:a,onCalciteSwitchChange:this._showAssociationsSwitchChange}),e("calcite-tooltip",{overlayPositioning:"fixed",referenceElement:a},e("span",null,t)))}_renderStatusIcon(){let{messagesCommon:{executing:t},viewModel:{executionError:i,state:s}}=this;switch(s){case"disabled":return this._renderWarningIcon("statusDiv",`${this.id}-disabled-icon`,null);case"warning":return this._renderWarningIcon("statusDiv",`${this.id}-warning-icon`,i);case"executing":return this._renderLoadingAction("executingActionDiv",`${this.id}-executing-action`,t);default:return}}_renderStructuralAttachmentAssociationsSettings(){let{messages:{input:{enableStructuralAttachment:t}},visibleElements:{structuralAttachmentAssociationsSettings:i}}=this;if(i)return e("calcite-block-section",{class:l.blockSectionSettings,text:t},e(E,{id:`${this.id}-symbol-picker-structural-attachment`,lineSymbol:this.structuralAttachmentAssociationsLineSymbol,showArrows:this.showArrowsStructuralAttachment,visibleElements:i}))}_renderStructuralAttachmentAssociationsToggle(){let{messages:{input:{enableStructuralAttachment:t}}}=this;return e("div",{class:l.labelAndToggle,key:"structuralAttachmentAssociationsToggleDiv"},e("calcite-label",{class:l.label},t),e("calcite-switch",{bind:this,checked:this.includeStructuralAttachmentAssociations,disabled:!this._associationsOptionsEnabled&&this.autoRefreshAssociations,onCalciteSwitchChange:this._structuralAttAssociationsSwitchChange}))}_renderUtilityNetworkSettings(){let{messages:{input:{utilityNetwork:t}}}=this,i=(this.view?.map).utilityNetworks?.items;if(i?.length===1)return null;let s=i?.map(a=>{let d=a.title,m=a.layerUrl,h=a.layerUrl===this.utilityNetwork?.layerUrl;return this._renderComboboxItem({heading:d,value:m,selected:h})});return e("div",{class:l.labelAndCombobox,key:"utilityNetworkComboboxDiv"},e("calcite-label",{class:l.label},t),e("calcite-combobox",{class:l.combobox,clearDisabled:!0,label:"",maxItems:3,overlayPositioning:"fixed",selectionMode:"single-persist",onCalciteComboboxChange:a=>{let d=i?.find(m=>m.layerUrl===a.currentTarget.value);this.utilityNetwork=d}},s))}_showAssociationsSwitchChange({currentTarget:t}){let{viewModel:i}=this;this.showAssociationsEnabled=t.checked,this._associationsOptionsEnabled=t.checked,this.showAssociationsEnabled||i.removeAssociations()}_structuralAttAssociationsSwitchChange(t){this.includeStructuralAttachmentAssociations=t.currentTarget.checked}_renderWarningIcon(t,i,s){return s?e("div",{class:l.statusIconContainer,key:t,slot:"control"},e("calcite-icon",{class:l.statusIconWarning,icon:"exclamation-mark-triangle",id:i,scale:"s"}),e("calcite-tooltip",{overlayPositioning:"fixed",referenceElement:i},e("span",null,s))):e("div",{class:l.statusIconContainer,key:t,slot:"control"},e("calcite-icon",{class:l.statusIconWarning,icon:"exclamation-mark-triangle",id:i,scale:"s"}))}};o([n()],r.prototype,"autoRefreshAssociations",null),o([n()],r.prototype,"connectivityAssociationsLineSymbol",null),o([n()],r.prototype,"icon",null),o([n()],r.prototype,"includeConnectivityAssociations",null),o([n()],r.prototype,"includeStructuralAttachmentAssociations",null),o([n()],r.prototype,"label",null),o([n()],r.prototype,"maxAllowableAssociations",null),o([n()],r.prototype,"maxAllowableAssociationsSliderMax",null),o([n()],r.prototype,"maxAllowableAssociationsSliderMin",null),o([n()],r.prototype,"maxAllowableAssociationsSliderStep",null),o([n(),S("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],r.prototype,"messages",void 0),o([n(),S("esri/t9n/common")],r.prototype,"messagesCommon",void 0),o([n()],r.prototype,"showArrowsConnectivity",null),o([n()],r.prototype,"showArrowsStructuralAttachment",null),o([n()],r.prototype,"showAssociationsEnabled",null),o([n()],r.prototype,"structuralAttachmentAssociationsLineSymbol",null),o([n()],r.prototype,"utilityNetwork",null),o([n()],r.prototype,"view",null),o([n({type:$})],r.prototype,"viewModel",void 0),o([n({type:I,nonNullable:!0})],r.prototype,"visibleElements",void 0),r=o([u("esri.widgets.UtilityNetworkAssociations")],r);var Ut=r;export{Ut as default};
