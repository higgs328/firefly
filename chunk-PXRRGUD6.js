import{a as s}from"./chunk-4H2GKFBZ.js";import{b as t}from"./chunk-26JWDTE3.js";import{a as o}from"./chunk-YW3L7OMP.js";var a=class{constructor(e){if(this.totalMemory=0,this.usedMemory=0,this.quality=1,this.load=0,this.terrainMemory=0,this.edgesMemory=0,this.layerPerformanceInfos=new Array,this.cachedMemory=0,this.fboMemory=0,e.resourceController!=null){let r=e.resourceController.memoryController;this.totalMemory=(r.maxMemory??0)*o.MEGABYTES,this.usedMemory=Math.round(r.usedMemory*this.totalMemory),this.quality=e.quality,this.load=e.resourceController.scheduler.load,this.cachedMemory=r.usedCacheMemory}this.terrainMemory=e.basemapTerrain?.usedMemory??0,this.edgesMemory=e._stage?.renderer.usedMemory.edges??0,this.fboMemory=e._stage?.renderer.usedMemory.fbos??0,e.allLayerViews?.items.forEach(r=>{t(r)&&this.layerPerformanceInfos.push(new s(r))}),this.layerPerformanceInfos.sort((r,m)=>m.memory-r.memory)}};export{a};
