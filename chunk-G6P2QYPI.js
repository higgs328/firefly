import{a as at}from"./chunk-OBBZPIP5.js";import{a as ot}from"./chunk-E4D752FB.js";import{a as rt}from"./chunk-MKOFKMFK.js";import{a as nt}from"./chunk-WBJHAISR.js";import{a as st}from"./chunk-4YSD76HU.js";import{a as it}from"./chunk-QGAHM3SP.js";import{a as K}from"./chunk-O6V4F5DZ.js";import{a as W}from"./chunk-MZT4T6QW.js";import{a as Y}from"./chunk-SE6P63SF.js";import{a as Z}from"./chunk-UQ5XN6PN.js";import{a as _}from"./chunk-523A23TC.js";import{a as tt}from"./chunk-364MKSXQ.js";import{a as et}from"./chunk-YDCUFOAW.js";import{a as U}from"./chunk-GFLUMQXF.js";import{a as B}from"./chunk-X6YGTV6K.js";import{a as D}from"./chunk-5UDQHKRH.js";import{a as E}from"./chunk-OLKAX3AE.js";import{a as k}from"./chunk-FUKOHXQO.js";import{a as z}from"./chunk-JFX46LMT.js";import{a as Q}from"./chunk-TXRZVHZP.js";import{a as X}from"./chunk-A4P6TLQP.js";import{a as P}from"./chunk-IF2OHW2I.js";import{a as F}from"./chunk-RBEIVLZG.js";import{a as H}from"./chunk-S44JLBKE.js";import{a as L}from"./chunk-ILLLCZ2C.js";import{a as V}from"./chunk-QDUM2PDY.js";import{a as x}from"./chunk-RWXVGETU.js";import{a as b}from"./chunk-2QOGGDAQ.js";import{a as v}from"./chunk-7DUVTLJW.js";import{a as T}from"./chunk-CEY2QAMU.js";import{a as A}from"./chunk-ROUI4BOX.js";import{a as M}from"./chunk-4XIME42O.js";import{a as G}from"./chunk-2EYYVCYG.js";import{b as O}from"./chunk-NX5B6XBR.js";import{a as y,b as u,c as g}from"./chunk-6RBQSBA2.js";import{f as j}from"./chunk-ZC6EBRE4.js";import{a as q}from"./chunk-7F5DJLJT.js";import{g as $}from"./chunk-NJWTSROP.js";import{o as p}from"./chunk-AUAZP44J.js";import{i as f}from"./chunk-P6QFA5MM.js";import{a as m,b as l,f as c}from"./chunk-VTHXE323.js";function C(a){let t=a?.time;if(t&&(t.start!=null||t.end!=null)){let o=[];t.start!=null&&o.push(t.start),t.end==null||o.includes(t.end)||o.push(t.end),a.time=o.join(",")}}function mt(a,t,o){return c(this,null,function*(){t=f(D,t);let e=u(a),r=t.geometry?[t.geometry]:[],s=yield O(r),i=t.toJSON();C(i);let n=s?.[0];n!=null&&(i.geometry=N(n));let d=g(m(l(m({},e.query),{f:"json"}),i));return y(d,o)})}function Zt(a,t,o){return c(this,null,function*(){let e=(t=f(at,t)).toJSON();e.geometries=JSON.stringify(e.geometries);let r=u(a),s=g(m(l(m({},r.query),{f:"json"}),e)),i=y(s,o),{data:n}=yield p(`${r.path}/calculateVolume`,i);return ot.fromJSON({volumes:n.results})})}function _t(a,t,o){return c(this,null,function*(){let e=(t=f(v,t)).toJSON();e.angleName!=null&&(e.angleName=e.angleName.join(",")),t?.point?.spatialReference?.imageCoordinateSystem&&(e.point.spatialReference=I(t.point.spatialReference)),t?.spatialReference?.imageCoordinateSystem&&(e.spatialReference=h(t.spatialReference));let r=u(a),s=g(m(l(m({},r.query),{f:"json"}),e)),i=y(s,o),{data:n}=yield p(`${r.path}/computeAngles`,i);return n.spatialReference=n.spatialReference?n.spatialReference.geodataXform!=null?new q({wkid:0,imageCoordinateSystem:n.spatialReference}):q.fromJSON(n.spatialReference):null,n.north==="NaN"&&(n.north=null),n.up==="NaN"&&(n.up=null),new T(n)})}function te(a,t,o){return c(this,null,function*(){let e=(t=f(z,t)).toJSON(),{geometries:r}=t;if(r)for(let S=0;S<r.length;S++)r[S].spatialReference?.imageCoordinateSystem&&(e.geometries.geometries[S].spatialReference=I(r[S].spatialReference));let s=u(a),i=g(m(l(m({},s.query),{f:"json"}),e)),n=y(i,o),{data:d}=yield p(`${s.path}/computePixelLocation`,n);return Q.fromJSON(d)})}function ee(a,t,o){return c(this,null,function*(){let e=yield mt(a,t,o),r=u(a),{data:s}=yield p(`${r.path}/computeStatisticsHistograms`,e),{statistics:i}=s;return i?.length&&i.forEach(n=>{n.avg=n.mean,n.stddev=n.standardDeviation}),{statistics:i,histograms:s.histograms}})}function ae(a,t,o){return c(this,null,function*(){let e=yield mt(a,t,o),r=u(a),{data:s}=yield p(`${r.path}/computeHistograms`,e);return{histograms:s.histograms}})}function oe(a,t,o){return c(this,null,function*(){let e=(t=f(W,t)).toJSON();C(e),e.outFields?.length&&(e.outFields=e.outFields.join(","));let r=yield O(t.geometry),s=r?.[0];s!=null&&(e.geometry=N(s));let i=u(a),n=g(m(l(m({},i.query),{f:"json"}),e)),d=y(n,o),{data:S}=yield p(`${i.path}/getSamples`,d),J=S.samples.map(w=>{let ft=w.value==="NaN"||w.value===""?null:w.value.split(" ").map(ut=>Number(ut));return l(m({},w),{pixelValue:ft})});return Y.fromJSON({samples:J})})}function re(a,t,o){return c(this,null,function*(){t=f(E,t);let e=u(a),r=t.geometry?[t.geometry]:[];return O(r).then(s=>{let i=t.toJSON(),n=s?.[0];n!=null&&(i.geometry=JSON.stringify(N(n)));let d=g(m(l(m({},e.query),{f:"json"}),i)),S=y(d,o);return p(e.path+"/identify",S)}).then(s=>k.fromJSON(s.data))})}function ne(a,t,o){return c(this,null,function*(){t=f(U,t);let e=yield R(a,t,[t.fromGeometry,t.toGeometry],o);return B.fromJSON(e)})}function se(a,t,o){return c(this,null,function*(){t=f(A,t);let e=yield R(a,t,[t.geometry],o);return M.fromJSON(e)})}function ie(a,t,o){return c(this,null,function*(){t=f(X,t);let e=yield R(a,t,[t.geometry],o);return K.fromJSON(e)})}function me(a,t,o){return c(this,null,function*(){t=f(H,t);let e=yield R(a,t,[t.fromGeometry,t.toGeometry],o);return L.fromJSON(e)})}function R(a,t,o,e){return c(this,null,function*(){let r=u(a),s=yield O(o),i=t.toJSON();s[0]!=null&&(i.fromGeometry=JSON.stringify(N(s[0]))),s[1]!=null&&(i.toGeometry=JSON.stringify(N(s[1])));let n=g(m(l(m({},r.query),{f:"json"}),i)),d=y(n,e),{data:S}=yield p(r.path+"/measure",d);return S})}function ce(a,t,o){return c(this,null,function*(){let e=yield ct(a,t,o);return it.fromJSON(e)})}function fe(a,t,o){return c(this,null,function*(){let e=yield ct(a,t,o);return nt.fromJSON(e)})}function ct(a,t,o){return c(this,null,function*(){t=f(st,t);let e=u(a),r=t.toJSON(),s=g(m(l(m({},e.query),{f:"json"}),r)),i=y(s,o),{data:n}=yield p(e.path+"/measureFromImage",i);return n})}function N(a){let t=a.toJSON();return a.spatialReference?.imageCoordinateSystem&&(t.spatialReference=I(a.spatialReference)),t}function I(a){let{imageCoordinateSystem:t}=a;if(t){let{id:o,referenceServiceName:e}=t;return o!=null?e?{icsid:o,icsns:e}:{icsid:o}:{ics:t}}return a.toJSON()}function h(a,t){if(!a.imageCoordinateSystem)return $(a);let o=I(a),{icsid:e,icsns:r}=o;return e==null||r!=null&&!t?.toLowerCase().includes("/"+r.toLowerCase()+"/")?JSON.stringify(o):`0:${e}`}function ue(a,t,o){return c(this,null,function*(){t=f(P,t);let e=u(a),r=t.toJSON();t.outSpatialReference&&(r.outSR=h(t.outSpatialReference));let s=g(m(l(m({},e.query),{f:"json"}),r)),i=y(s,o),{data:n}=yield p(e.path+"/queryBoundary",i);return F.fromJSON(n)})}function le(a,t,o){return c(this,null,function*(){let e=(t=f(V,t)).toJSON();C(e),e.objectIds?.length&&(e.objectIds=e.objectIds.join(",")),e.geometry||e.objectIds||e.time||e.where||(e.where="1=1");let r=yield O(t.geometry),s=r?.[0];s!=null&&(e.geometry=N(s));let i=s?.spatialReference??t.geometry?.spatialReference;i&&(e.inSR=h(i));let n=u(a),d=g(m(l(m({},n.query),{f:"json"}),e)),S=y(d,o),{data:J}=yield p(`${n.path}/queryGPSInfo`,S);return x.fromJSON(J)})}function pe(a,t,o){return c(this,null,function*(){let e=(t=f(_,t)).toJSON();t.geometry.spatialReference.imageCoordinateSystem&&(e.geometry=N(t.geometry)),t.depthOffset&&t.adjust||delete e.options;let r=u(a),s=g(m(l(m({},r.query),{f:"json"}),e)),i=y(s,o),{data:n}=yield p(`${r.path}/imageToMap`,i);return j(n)})}function ye(a,t,o){return c(this,null,function*(){let e=(t=f(Z,t)).toJSON();t.rasterIds?.length&&(e.rasterIds=t.rasterIds.join(","));let r=u(a),s=g(m(l(m({},r.query),{f:"json"}),e)),i=y(s,o),{data:n}=yield p(`${r.path}/imageToMapMultiray`,i);return j(n)})}function ge(a,t,o){return c(this,null,function*(){let e=(t=f(rt,t)).toJSON(),r=yield O(t.geometry),s=r?.[0];s!=null&&(e.geometry=N(s)),t.visibleOnly||delete e.options;let i=s?.spatialReference??t.geometry?.spatialReference;i&&(e.inSR=h(i));let n=u(a),d=g(m(l(m({},n.query),{f:"json"}),e)),S=y(d,o),{data:J}=yield p(`${n.path}/mapToImage`,S);return j(J)})}function de(a,t,o){return c(this,null,function*(){let e=(t=f(tt,t)).toJSON(),r=u(a),s=g(m(l(m({},r.query),{f:"json"}),e)),i=y(s,o),{data:n}=yield p(`${r.path}/getImageUrl`,i);return et.fromJSON(n)})}function Se(a,t,o){return c(this,null,function*(){let e=(t=f(G,t)).toJSON(),r=yield O([t.fromGeometry,t.toGeometry]);r[0]!=null&&(e.fromGeometry=N(r[0]),r[0].spatialReference&&(e.inSR=h(r[0].spatialReference))),r[1]!=null&&(e.toGeometry=N(r[1])),t.objectIds?.length&&(e.objectIds=e.objectIds.join(","));let s=u(a),i=g(m(l(m({},s.query),{f:"json"}),e)),n=y(i,o),{data:d}=yield p(`${s.path}/find`,n);return b.fromJSON(d)})}export{Zt as a,_t as b,te as c,ee as d,ae as e,oe as f,re as g,ne as h,se as i,ie as j,me as k,ce as l,fe as m,I as n,h as o,ue as p,le as q,pe as r,ye as s,ge as t,de as u,Se as v};
