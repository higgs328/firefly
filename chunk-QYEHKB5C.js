import{a as T}from"./chunk-PT2T74VZ.js";import{a as h}from"./chunk-F5M4APKY.js";import{a as y}from"./chunk-55O4EG62.js";import{a as C}from"./chunk-FHBFWDFD.js";import{a as u}from"./chunk-AXYQJCCX.js";import{a as s}from"./chunk-5XCFNEYX.js";import{a as c}from"./chunk-GQL2MBZT.js";import{b as L}from"./chunk-EBIFNV2H.js";import{a as w,j as M}from"./chunk-TG45K3WR.js";import{a as i}from"./chunk-QGVBCWUY.js";import{e as o}from"./chunk-NFIPKH6V.js";import{l}from"./chunk-5QEXLALV.js";import{b as _}from"./chunk-4PTIEWMT.js";import{d as m}from"./chunk-XRGPJ3QY.js";var f="esri-feature-element-info",v={base:f,title:`${f}__title`,description:`${f}__description`},a=class extends c{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return s("div",{class:v.base},this._renderTitle(),this._renderDescription())}_renderTitle(){let{title:e}=this;return e?s(T,{class:v.title,innerHTML:e,level:this.headingLevel}):null}_renderDescription(){let{description:e}=this;return e?s("div",{class:v.description,innerHTML:e,key:"description"}):null}};i([o()],a.prototype,"description",void 0),i([o()],a.prototype,"headingLevel",void 0),i([o()],a.prototype,"title",void 0),a=i([l("esri.widgets.Feature.support.FeatureElementInfo")],a);var b=a;var g="esri-feature-utility-network-associations",k=`${g}__loading-container`,d={base:g,listContainer:`${g}__list`,loadingContainer:k,loadingContainerSticky:`${k}--sticky`},n=class extends c{constructor(e,t){super(e,t),this._featureElementInfo=null,this.onSelectAssociationType=()=>{},this.flowType="feature-utility-network-associations",this.flowItems=null,this.parentFeatureViewModel=null,this.headingLevel=5,this.viewModel=new y,this.messages=null,this.messagesCommon=null,this.visibleElements=new h}initialize(){this._featureElementInfo=new b,this.addHandles([w(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),M)])}loadDependencies(){return L({icon:()=>import("./chunk-7Z2RNQA3.js"),list:()=>import("./chunk-4MPCQ5DO.js"),"list-item":()=>import("./chunk-MRM6JRFU.js"),loader:()=>import("./chunk-4Z3TWS6O.js"),notice:()=>import("./chunk-PEKK3NZO.js")})}destroy(){this._featureElementInfo=_(this._featureElementInfo)}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){let{state:e}=this.viewModel;return s("div",{class:this.classes(d.base,C.widget)},this._featureElementInfo?.render(),e==="loading"?this._renderLoading():e==="disabled"?this._renderAssociationNotFound():this._renderContent())}_renderStickyLoading(){return this.viewModel.state==="querying"?s("div",{class:d.loadingContainerSticky,key:"sticky-loader"},this._renderLoadingIcon()):null}_renderLoadingIcon(){return s("calcite-loader",{inline:!0,label:this.messagesCommon.loading})}_renderLoading(){return s("div",{class:d.loadingContainer,key:"loading-container"},this._renderLoadingIcon())}_renderAssociationNotFound(){return s("calcite-notice",{icon:"exclamation-mark-triangle",key:"association-not-found",kind:"danger",open:!0,scale:"s",width:"full"},s("div",{slot:"message"},this.messages?.noAssociations))}_renderAssociationType(e){let{viewModel:t}=this,r=this._getAssociationTypeTitle(e);return s("calcite-list-item",{description:m(e.description),key:`association-type-${e.type}`,label:m(r),value:e.type,onCalciteListItemSelect:()=>this.onSelectAssociationType({viewModel:t,listType:e,title:r})},s("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderAssociations(e){let{viewModel:t}=this;return t.source==="featureForm"||t.getFeatureCountForAssociationType(e.type)>0?this._renderAssociationType(e):void 0}_renderContent(){let{messages:e,viewModel:t}=this,{state:r,associationTypes:p}=t;return s("div",{class:d.listContainer,key:"list-container"},r==="ready"?s("div",null,s("calcite-list",{displayMode:"flat",label:e?.associationsList},p.map(A=>this._renderAssociations(A)))):null,this._renderStickyLoading())}_getAssociationTypeTitle(e){let{messages:t}=this;if(e.title)return e.title;switch(e.type){case"attachment":return t.associationsAttachments;case"connectivity":return t.associationsConnectivity;case"structure":return t.associationsStructure;case"content":return t.associationsContents;case"container":return t.associationsContainer}}_setupFeatureElementInfo(){let{headingLevel:e,visibleElements:t}=this,r=t.description&&this.description,p=t.title&&this.title;this._featureElementInfo?.set({description:r,title:p,headingLevel:e})}};i([o({constructOnly:!0})],n.prototype,"onSelectAssociationType",void 0),i([o()],n.prototype,"flowType",void 0),i([o()],n.prototype,"flowItems",void 0),i([o()],n.prototype,"parentFeatureViewModel",void 0),i([o()],n.prototype,"featureVisibleElements",void 0),i([o()],n.prototype,"description",null),i([o()],n.prototype,"headingLevel",void 0),i([o()],n.prototype,"title",null),i([o({type:y})],n.prototype,"viewModel",void 0),i([o(),u("esri/widgets/Feature/t9n/Feature")],n.prototype,"messages",void 0),i([o(),u("esri/t9n/common")],n.prototype,"messagesCommon",void 0),i([o({type:h,nonNullable:!0})],n.prototype,"visibleElements",void 0),n=i([l("esri.widgets.Feature.FeatureUtilityNetworkAssociations")],n);var se=n;export{b as a,se as b};
