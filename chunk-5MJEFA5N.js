import{a as B}from"./chunk-KJFE7WVE.js";import{a as g}from"./chunk-LCFWGHLF.js";import{d as U,n as j}from"./chunk-G2JMPZCN.js";import{a as v}from"./chunk-342NGUMP.js";import{h as V,s as G}from"./chunk-QSQIQSC6.js";import{a as l}from"./chunk-QCZ3ZIGQ.js";import{d as b,r as O}from"./chunk-7SDNM7YV.js";import{b as a}from"./chunk-4NUW747S.js";import{a as T}from"./chunk-HKJZ7WI6.js";import{d as f}from"./chunk-CXOFHVIF.js";import{b as c,c as E,u as F,v as p,w as y}from"./chunk-6B5XFA6F.js";import{a as n}from"./chunk-BCREO4Q5.js";import{a as w,b as M}from"./chunk-ZTOZWLEE.js";import{a as S}from"./chunk-BOVYXYHK.js";import{a as _}from"./chunk-KVM6SHDX.js";import{j as x}from"./chunk-EQZWYK27.js";import{a as C}from"./chunk-7F5DJLJT.js";import{B as m,ca as R,ea as A}from"./chunk-NJWTSROP.js";function Z(o){let{value:t,operations:e}=o;return{operations:e,value:e.create(t)}}function D(o,t,e){return o.operations.setExtent(o.value,t,e.value),e}function I(o,t){return o.operations.getExtent(o.value,t),t}function W(o){return{operations:o,value:o.create()}}function Y(o,t,e=W(o)){return e.operations=o,o.copy(t,e.value),e}function k(o){return Y(G,V(0,0,0,m(o).radius))}var L=2**50;function q(){return Y(j,U([0,0,0],[L,0,0],[0,L,0]))}function z(o,t,e){return o.operations.axisAt(o.value,t,n.Z,e)}function H(o,t,e,r){return o.operations.axisAt(o.value,t,e,r)}function N(o,t,e){return o.operations.intersectRay(o.value,t,e)}function X(o,t,e){return o.operations.intersectRayClosestSilhouette(o.value,t,e)}function J(o,t){return o.operations.altitudeAt(o.value,t)}function P(o,t,e,r){return o.operations.setAltitudeAt(o.value,t,e,r)}function K(o,t,e,r){return t!==r&&w(r,t),E(u,r[12],r[13],r[14]),P(o,u,e,u),r[12]=u[0],r[13]=u[1],r[14]=u[2],r}function h(o,t,e){return o.operations.elevate(o.value,t,e.value)}var u=S();function ct(o,t,e,r,s){return s[0]=p(o,t),s[1]=p(o,e),s[2]=p(o,r),s}function lt(o,t,e,r,s){c(e,o),c(d,t),F(d,d),y(r,d,e),y(s,r,e)}function ut(o,t){return o?f(t):t.isGeographic?C.PlateCarree:t}var d=S();var Q=class o{constructor(t,e,r,s){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=r,this._coordinateSystem=s,this._tmpCoordinateSystem=Z(s),this.referenceEllipsoid=m(e),this.sphericalPCPF=f(e)}set extent(t){t&&D(this._coordinateSystem,t,this._coordinateSystem)}get extent(){return I(this._coordinateSystem,_())}getAltitude(t){return J(this._coordinateSystem,t)}setAltitude(t,e,r=t){return P(this._coordinateSystem,r,e,t)}setAltitudeOfTransformation(t,e){K(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return z(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,r){return H(this._coordinateSystem,t,e,r)}basisMatrixAtPosition(t,e){let r=this.worldBasisAtPosition(t,n.X,a.get()),s=this.worldBasisAtPosition(t,n.Y,a.get()),i=this.worldBasisAtPosition(t,n.Z,a.get());return M(e,r[0],r[1],r[2],0,s[0],s[1],s[2],0,i[0],i[1],i[2],0,0,0,0,1),e}headingAtPosition(t,e){let r=this.worldUpAtPosition(t,a.get()),s=this.worldBasisAtPosition(t,n.Y,a.get()),i=b(e,s,r);return x(i)}intersectManifoldClosestSilhouette(t,e,r){return h(this._coordinateSystem,e,this._tmpCoordinateSystem),X(this._tmpCoordinateSystem,t,r),r}intersectManifold(t,e,r){h(this._coordinateSystem,e,this._tmpCoordinateSystem);let s=a.get();return N(this._tmpCoordinateSystem,t,s)?c(r,s):null}intersectInfiniteManifold(t,e,r){if(this.viewingMode===l.Global)return this.intersectManifold(t,e,r);h(this._coordinateSystem,e,this._tmpCoordinateSystem);let s=this._tmpCoordinateSystem.value,i=a.get();return O(s.plane,t,i)?c(r,i):null}toRenderCoords(t,e,r){return g(t)?T(t,e,this.spatialReference):v(t,e,r,this.spatialReference)}fromRenderCoords(t,e,r=null){return g(e)?(r!=null&&(e.spatialReference=r),B(t,this.spatialReference,e)?e:null):v(t,this.spatialReference,e,r)?e:null}static create(t,e){switch(t){case l.Local:return new o(l.Local,e,R(e),q());case l.Global:return new o(l.Global,e,1,k(e))}}static renderUnitScaleFactor(t,e){return A(t)/A(e)}};export{ct as a,lt as b,ut as c,Q as d};
