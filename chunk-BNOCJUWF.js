import{a as r}from"./chunk-QGVBCWUY.js";import{H as f}from"./chunk-MYO4NP2N.js";import{e as o}from"./chunk-NFIPKH6V.js";import{l as h}from"./chunk-5QEXLALV.js";import{b as m}from"./chunk-YOFFGXOB.js";import{g as p}from"./chunk-XRGPJ3QY.js";var l=class extends f{constructor(e){super(e),this.precision=4,this.thumbsConstrained=!0}set effectiveMax(e){this.setEffectiveMax(e)}set effectiveMin(e){this.setEffectiveMin(e)}set labelFormatFunction(e){this._set("labelFormatFunction",e)}set inputFormatFunction(e){this._set("inputFormatFunction",e)}set inputParseFunction(e){this._set("inputParseFunction",e)}get labels(){let{max:e,min:i,values:t}=this,s=t?.length?t.map((n,a)=>this.getLabelForValue(n,"value",a)):[];return{max:this.getLabelForValue(e,"max"),min:this.getLabelForValue(i,"min"),values:s}}set max(e){this.setMax(e)}set min(e){this.setMin(e)}get state(){let{max:e,min:i}=this;return e!=null&&i!=null&&e>i?"ready":"disabled"}set values(e){let{max:i,min:t}=this,s=this.values;s&&e&&s.length===e.length&&s.every((n,a)=>n===e[a])||(this._set("values",null),e?.length&&(t!=null&&e.some(n=>n<t)&&(this.min=Math.min(...e)),i!=null&&e.some(n=>n>i)&&(this.max=Math.max(...e))),this._set("values",e))}toPrecision(e){return parseFloat(e.toFixed(this.precision))}defaultLabelFormatFunction(e){let{max:i,min:t,precision:s}=this,n=i!=null&&t!=null&&i-t>10?2:s;return parseFloat(e.toFixed(n)).toString()}defaultInputFormatFunction(e){return e.toString()}defaultInputParseFunction(e){return parseFloat(e)}getBounds(){let{effectiveMax:e,effectiveMin:i,max:t,min:s}=this;return{min:i!=null&&s!=null?Math.max(s,i):s,max:e!=null&&t!=null?Math.min(t,e):t}}getBoundsForValueAtIndex(e){let{thumbsConstrained:i,values:t}=this,{min:s,max:n}=this.getBounds();if(i&&t){let a=e-1,u=e+1;return{min:t[a]!=null?t[a]:s,max:t[u]!=null?t[u]:n}}return{min:s,max:n}}getLabelForValue(e,i,t){return e==null?null:this.labelFormatFunction?this.labelFormatFunction(e,i,t):this.defaultLabelFormatFunction(e)}setMax(e){let{max:i,values:t}=this;if(e==null)return void this._set("max",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'max' is NaN.");let s=this.toPrecision(e);if(i!==s&&(this._set("max",s),t?.length))for(let n=0;n<t.length;n++)s<t[n]&&this.setValue(n,s)}setMin(e){let{min:i,values:t}=this;if(e==null)return void this._set("min",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'min' is NaN.");let s=this.toPrecision(e);if(i!==s&&(this._set("min",s),t?.length))for(let n=0;n<t.length;n++)s>t[n]&&this.setValue(n,s)}setEffectiveMax(e){if(e==null)return void this._set("effectiveMax",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMax' is NaN.");let i=this.toPrecision(e);this.effectiveMax!==i&&this._set("effectiveMax",this._applyBoundsToValue(i))}setEffectiveMin(e){if(e==null)return void this._set("effectiveMin",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMin' is NaN.");let i=this.toPrecision(e);this.effectiveMin!==i&&this._set("effectiveMin",this._applyBoundsToValue(i))}setValue(e,i){if(isNaN(i))return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is NaN.");let{values:t}=this;if(t==null)return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is null.");let s=t[e],n=this.toPrecision(i);if(s===n)return;let a=[...t];a[e]=n,this._set("values",a),this.notifyChange("labels")}_applyBoundsToValue(e){let{max:i,min:t}=this;return t!=null&&e<t?t:i!=null&&e>i?i:e}_logError(e,i,t){p.getLogger(this).error(new m(e,i,t))}};r([o()],l.prototype,"effectiveMax",null),r([o()],l.prototype,"effectiveMin",null),r([o()],l.prototype,"labelFormatFunction",null),r([o()],l.prototype,"inputFormatFunction",null),r([o()],l.prototype,"inputParseFunction",null),r([o({readOnly:!0})],l.prototype,"labels",null),r([o()],l.prototype,"max",null),r([o()],l.prototype,"min",null),r([o()],l.prototype,"precision",void 0),r([o({readOnly:!0})],l.prototype,"state",null),r([o()],l.prototype,"thumbsConstrained",void 0),r([o()],l.prototype,"values",null),l=r([h("esri.widgets.Slider.SliderViewModel")],l);var _=l;export{_ as a};
