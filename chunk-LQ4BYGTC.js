import{a as l}from"./chunk-WB62I5UH.js";import{a as d}from"./chunk-5XCFNEYX.js";import{a as v}from"./chunk-GQL2MBZT.js";import{a as m}from"./chunk-TG45K3WR.js";import{a as o}from"./chunk-QGVBCWUY.js";import{e as n}from"./chunk-NFIPKH6V.js";import{l as c}from"./chunk-5QEXLALV.js";import{F as p}from"./chunk-4PTIEWMT.js";var a="esri-spinner",h={base:a,spinnerStart:`${a}--start`,spinnerFinish:`${a}--finish`},s=class extends v{constructor(i,t){super(i,t),this._animationDelay=500,this._animationPromise=null,this.viewModel=new l}initialize(){this.addHandles(m(()=>this.visible,i=>this._visibleChange(i)))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(i){this.viewModel.location=i}get view(){return this.viewModel.view}set view(i){this.viewModel.view=i}get visible(){return this.viewModel.visible}set visible(i){this.viewModel.visible=i}show(i){let{location:t,promise:e}=i??{};t&&(this.viewModel.location=t),this.visible=!0;let r=()=>this.hide();e&&e.catch(()=>{}).then(r)}hide(){this.visible=!1}render(){let{visible:i}=this,{screenLocation:t}=this.viewModel,e=!!t,r=i&&e,w=!i&&e,u={[h.spinnerStart]:r,[h.spinnerFinish]:w},b=this._getPositionStyles();return d("div",{class:this.classes(h.base,u),styles:b})}_visibleChange(i){if(i)return void(this.viewModel.screenLocationEnabled=!0);let t=p(this._animationDelay);this._animationPromise=t,t.catch(()=>{}).then(()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){let{screenLocation:i,view:t}=this.viewModel;if(t==null||i==null)return{};let{padding:e}=t;return{left:i.x-e.left+"px",top:i.y-e.top+"px"}}};o([n()],s.prototype,"location",null),o([n()],s.prototype,"view",null),o([n({type:l})],s.prototype,"viewModel",void 0),o([n()],s.prototype,"visible",null),s=o([c("esri.widgets.Spinner")],s);var F=s;export{F as a};
