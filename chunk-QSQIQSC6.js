import{e as Y,h as G}from"./chunk-AYNBEMCC.js";import{c as L}from"./chunk-7SDNM7YV.js";import{b as f,d as X}from"./chunk-4NUW747S.js";import{a as u,c as M,d as x,e as l,n as d,o as V,p as R,q as Z,r as B,u as D,w as T,x as F,y as I}from"./chunk-6B5XFA6F.js";import{a as y,c as A}from"./chunk-PTZYZULI.js";import{a as b,n as q}from"./chunk-NMLYCCKN.js";import{a as g}from"./chunk-BCREO4Q5.js";import{p as N}from"./chunk-ZTOZWLEE.js";import{a as z}from"./chunk-RSDQHAJX.js";import{a as p}from"./chunk-BOVYXYHK.js";import{l as O,m as k}from"./chunk-EQZWYK27.js";function j(t,s){let n=u(t),o=k(t[2]/n),r=Math.atan2(t[1]/n,t[0]/n);return M(s,n,o,r),s}var tt=_();function _(){return y()}var nt=q,st=q;function H(t,s){return b(s,t)}function ot(t,s){return A(t[0],t[1],t[2],s)}function rt(t){return t}function at(t){t[0]=t[1]=t[2]=t[3]=0}function et(t,s){return t[0]=t[1]=t[2]=0,t[3]=s,t}function S(t){return t[3]}function it(t){return t}function ct(t,s,n,o){return A(t,s,n,o)}function ut(t,s,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+s,n}function ft(t,s,n){return t!==n&&H(t,n),n}function mt(t,s){return s}function P(t,s,n){if(s==null||!J(t,s,C))return!1;let{t0:o,t1:r}=C;if((o<0||r<o&&r>0)&&(o=r),o<0)return!1;if(n){let{origin:a,direction:e}=s;n[0]=a[0]+e[0]*o,n[1]=a[1]+e[1]*o,n[2]=a[2]+e[2]*o}return!0}function lt(t,s,n){let o=Y(s,n);if(!J(t,o,C))return[];let{origin:r,direction:a}=o,{t0:e,t1:i}=C,c=m=>{let h=p();return V(h,r,a,m),w(t,h,h)};return Math.abs(e-i)<z()?[c(e)]:[c(e),c(i)]}var C={t0:0,t1:0};function J(t,s,n){let{origin:o,direction:r}=s,a=ht;a[0]=o[0]-t[0],a[1]=o[1]-t[1],a[2]=o[2]-t[2];let e=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(e===0)return!1;let i=2*(r[0]*a[0]+r[1]*a[1]+r[2]*a[2]),c=i*i-4*e*(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]-t[3]*t[3]);if(c<0)return!1;let m=Math.sqrt(c);return n.t0=(-i-m)/(2*e),n.t1=(-i+m)/(2*e),!0}var ht=p();function pt(t,s){return P(t,s,null)}function gt(t,s,n){if(P(t,s,n))return n;let o=K(t,s,f.get());return x(n,s.origin,d(f.get(),s.direction,R(s.origin,o)/u(s.direction))),n}function K(t,s,n){let o=f.get(),r=X.get();T(o,s.origin,s.direction);let a=S(t);T(n,o,s.origin),d(n,n,1/u(n)*a);let e=Q(t,s.origin),i=L(s.origin,n);return N(r,i+e,o),I(n,n,r),n}function Mt(t,s,n,o){let r=S(t),a=r*r,e=s+.5*Math.PI,i=n*n+a-2*Math.cos(e)*n*r,c=Math.sqrt(i),m=i-a;if(m<=0)return .5;let h=Math.sqrt(m),$=Math.acos(h/c)-Math.asin(r/(c/Math.sin(e)));return Math.min(1,($+.5*o)/o)}function dt(t,s,n){return P(t,s,n)?n:(G(s,t,n),w(t,n,n))}function w(t,s,n){let o=l(f.get(),s,t),r=d(f.get(),o,t[3]/u(o));return x(n,r,t)}function St(t,s){let n=l(f.get(),s,t),o=B(n),r=t[3]*t[3];return Math.sqrt(Math.abs(o-r))}function Q(t,s){let n=l(f.get(),s,t),o=u(n),r=S(t),a=r+Math.abs(r-o);return O(r/a)}var v=p();function U(t,s,n,o){let r=l(v,s,t);switch(n){case g.X:{let a=j(r,v)[2];return M(o,-Math.sin(a),Math.cos(a),0)}case g.Y:{let a=j(r,v),e=a[1],i=a[2],c=Math.sin(e);return M(o,-c*Math.cos(i),-c*Math.sin(i),Math.cos(e))}case g.Z:return D(o,r);default:return}}function W(t,s){let n=l(E,s,t);return u(n)-t[3]}function bt(t,s,n,o){let r=W(t,s),a=U(t,s,g.Z,E),e=d(E,a,n-r);return x(o,s,e)}function xt(t,s){let n=Z(t,s),o=S(t);return n<=o*o}function Ct(t,s,n=y()){let o=R(t,s),r=t[3],a=s[3];return o+a<r?(b(n,t),n):o+r<a?(b(n,s),n):(F(n,t,s,(o+a-r)/(2*o)),n[3]=(o+r+a)/2,n)}var E=p(),Pt=_(),Dt=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:tt,altitudeAt:W,angleToSilhouette:Q,axisAt:U,cameraFrustumCoverage:Mt,clear:at,closestPoint:dt,closestPointOnSilhouette:K,containsPoint:xt,copy:H,create:_,distanceToSilhouette:St,elevate:ut,equals:st,exactEquals:nt,fromCenterAndRadius:ot,fromRadius:et,fromValues:ct,getCenter:it,getExtent:mt,getRadius:S,intersectLine:lt,intersectRay:P,intersectRayClosestSilhouette:gt,intersectsRay:pt,projectPoint:w,setAltitudeAt:bt,setExtent:ft,tmpSphere:Pt,union:Ct,wrap:rt},Symbol.toStringTag,{value:"Module"}));export{tt as a,_ as b,nt as c,H as d,ot as e,et as f,S as g,ct as h,P as i,lt as j,pt as k,K as l,Mt as m,w as n,St as o,xt as p,Ct as q,Pt as r,Dt as s};
