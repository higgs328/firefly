import{a as Y,b as B,c as u,d as x,g as N,h as G,i as w}from"./chunk-JIBAIND2.js";import{a as d,e as M,f as _}from"./chunk-QCN4VUQF.js";import{a as S,b as E,c as L}from"./chunk-IA67UW4Y.js";import{a as R}from"./chunk-AUX6HVLS.js";import{a as P}from"./chunk-M6JND3B6.js";import{f as X}from"./chunk-WSDIUTRN.js";import{a as m,b as f,c as Q,d as F,e as p,j as b,k as C,l as I}from"./chunk-67GIWMYL.js";import{b as O}from"./chunk-VIEK2X23.js";import{a as T}from"./chunk-SLAWDKDA.js";import{a}from"./chunk-QGVBCWUY.js";import{H as D}from"./chunk-MYO4NP2N.js";import{e as s}from"./chunk-NFIPKH6V.js";import{l as c}from"./chunk-5QEXLALV.js";import{a as n,b as V}from"./chunk-VTHXE323.js";function J(e,i,t=L()){if(i==="on-the-ground"){let o=R(e);return o??E(e,t)}return S(e,t)}function et(e,i=L()){return J(e,"on-the-ground",i)}var r=class extends D{constructor(e){super(e),this.actual=null,this.lockable=!0,this.id=T(),this.inputValue=null,this.readOnly=!1,this.suffix=null,this.visible=!0,this.invalid=!1,this.unlockOnVertexPlacement=!0}get committed(){return this.lockable?this._get("committed"):null}set committed(e){this.lockable&&this._set("committed",e)}get dirty(){return this.inputValue!=null}get locked(){return this.lockable&&this.committed!=null}onInput(e){this.inputValue=e,this.invalid=!1}onCommit(e,i,t){this.lockable?this._onCommitLockable(e,t):this._onCommitNonLockable(t),this.invalid&&e==="commit-and-exit"||t.onCommit(i,e)}_onCommitLockable(e,i){let{inputValue:t,locked:o}=this;o&&A(t)?this.unlock():(e==="commit-and-exit"&&!o||t!=null)&&this._parseInputAndLock(i)}_onCommitNonLockable(e){let{inputValue:i}=this;A(i)?this.lockable?this.setActual(null):this.clearInputValue():i!=null&&this._parseInputAndSetActual(e)}applyValue(e){this.lockable?this.lock(e):this.setActual(e)}clearInputValue(){this.inputValue=null,this.invalid=!1}setActual(e){this.actual=e,this.clearInputValue()}lock(e){this.lockable&&(this.committed=e??this.actual,this.clearInputValue())}unlock(){this.lockable&&(this.committed=null,this.clearInputValue())}toggleLock(e){this.lockable&&(this.locked?this.unlock():this._parseInputAndLock(e))}getSuffix(e){let{suffix:i}=this;return typeof i=="function"?i(e):i}getFormattedValue(e){let{actual:i,committed:t,format:o}=this;return t!=null?o(t,e):i!=null?o(i,e):null}getRawDisplayValue(e){let{actual:i,committed:t,inputValue:o}=this;return o??(this.lockable&&t!=null?this.formatForInputMode(t,e):i!=null?this.formatForInputMode(i,e):null)}_parseInputAndSetActual(e){let{inputValue:i}=this;if(i==null||A(i))return this.setActual(null);let t=this.parse(i,e);t!=null?this.setActual(t):this.invalid=!0}_parseInputAndLock(e){let{inputValue:i,actual:t}=this;if(A(i))return this.unlock();if(i==null)return this.lock(t);let o=this.parse(i,e);o!=null?this.lock(o):this.invalid=!0}};function A(e){return e!=null&&e.trim()===""}a([s()],r.prototype,"actual",void 0),a([s()],r.prototype,"committed",null),a([s()],r.prototype,"dirty",null),a([s()],r.prototype,"format",void 0),a([s()],r.prototype,"formatForInputMode",void 0),a([s()],r.prototype,"lockable",void 0),a([s()],r.prototype,"locked",null),a([s()],r.prototype,"id",void 0),a([s()],r.prototype,"inputValue",void 0),a([s()],r.prototype,"name",void 0),a([s()],r.prototype,"parse",void 0),a([s()],r.prototype,"readOnly",void 0),a([s()],r.prototype,"suffix",void 0),a([s()],r.prototype,"title",void 0),a([s()],r.prototype,"visible",void 0),a([s()],r.prototype,"invalid",void 0),a([s()],r.prototype,"unlockOnVertexPlacement",void 0),r=a([c("esri.views.interactive.tooltip.fields.TooltipField")],r);var v=class extends r{constructor(e){super(e),this.showAsZ=!1}normalizeCtorArgs(e){let i=t=>t.inputUnitInfos.verticalLength.unit;return n({name:"elevation",actual:b,parse:u({createQuantity:(t,o)=>f(t,i(o))}),format:(t,o)=>o.formatters.verticalLength(t),formatForInputMode:(t,o)=>o.formatters.scalar(p(t,i(o))),suffix:t=>t.inputUnitInfos.verticalLength.abbreviation,title:t=>t.messages.sketch[this.showAsZ?"z":"elevation"],unlockOnVertexPlacement:!1},e)}};a([s()],v.prototype,"showAsZ",void 0),v=a([c("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],v);var k=class extends r{constructor(e){super(e),this.precision=1}normalizeCtorArgs(e){let i=t=>t.inputUnitInfos.angle.unit;return n({name:"orientation",actual:null,parse:u({createQuantity:(t,o)=>F(t,i(o),"geographic"),sanitize:x}),format:t=>{let o=_(t);return X(o,"geographic",this.precision)},formatForInputMode:(t,o)=>{let l=_(t);return o.formatters.scalar(l)},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.orientation},e)}};a([s()],k.prototype,"precision",void 0),k=a([c("esri.views.interactive.tooltip.fields.TooltipFieldOrientation")],k);var y=class extends r{constructor(e){super(e),this.precision=null}normalizeCtorArgs(e){let i=t=>t.inputUnitInfos.length.unit;return n({name:"size",actual:null,parse:u({createQuantity:(t,o)=>f(t,i(o))}),format:(t,o)=>o.formatters.length(t),formatForInputMode:(t,o)=>o.formatters.scalar(p(t,i(o))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.size},e)}};a([s()],y.prototype,"precision",void 0),y=a([c("esri.views.interactive.tooltip.fields.TooltipFieldSize")],y);function ae(e){let i=o=>o.inputUnitInfos.angle.unit,t=o=>o.sketchOptions.values.effectiveDirectionMode;return new r(n({name:"direction",actual:I,parse:u({createQuantity:(o,l)=>F(o,i(l),"geographic"),sanitize:x}),format:(o,l)=>{let h=t(l),g=M(o,h);switch(h){case d.Absolute:return l.formatters.direction(g);case d.Relative:return l.formatters.directionRelative(g);case d.RelativeBilateral:return l.formatters.directionRelativeBilateral(g)}},formatForInputMode:(o,l)=>{let h=M(o,t(l));return l.formatters.scalar(p(h,i(l)))},suffix:o=>o.inputUnitInfos.angle.abbreviation,title:o=>{let l=t(o),{absolute:h,relative:g}=o.messages.sketch.direction;switch(l){case d.Absolute:return h;case d.Relative:case d.RelativeBilateral:return g}}},e))}function z(e){let i=t=>t.inputUnitInfos.length.unit;return new r(n({name:"distance",actual:b,parse:u({createQuantity:(t,o)=>f(Math.max(t,0),i(o))}),format:(t,o)=>o.formatters.length(t),formatForInputMode:(t,o)=>o.formatters.scalar(p(t,i(o))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance},e))}function re(e){return z(n({format:(i,t)=>t.formatters.totalLength(i),title:i=>i.messages.sketch.totalLength,readOnly:!0},e))}function se(e){return z(n({},e))}function ne(e){let i=t=>t.inputUnitInfos.length.unit;return z(V(n({},e),{parse:u({createQuantity:(t,o)=>f(t,i(o))}),format:(t,o)=>o.formatters.lengthRelative(t)}))}function Z(e){return new v(e)}function le(e){return new k(e)}function ue(e){return new y(e)}function ce(e){return U("scale",n({name:"scale",actual:null,parse:u({createQuantity:i=>m(Math.abs(i))})},e))}function pe(e){let i=t=>t.inputUnitInfos.area.unit;return new r(n({name:"area",actual:C,parse:u({createQuantity:(t,o)=>Q(t,i(o))}),format:(t,o)=>o.formatters.area(t),formatForInputMode:(t,o)=>o.formatters.scalar(p(t,i(o))),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,readOnly:!0},e))}function W(e){return new r(n({name:"x",actual:I,parse:N,format:(i,t)=>t.formatters.longitudeDecimalDegrees(i),formatForInputMode:i=>Y(i),suffix:i=>i.inputUnitInfos.angle.abbreviation,title:i=>i.messages.sketch.longitude},e))}function j(e){return new r(n({name:"y",actual:I,parse:G,format:(i,t)=>t.formatters.latitudeDecimalDegrees(i),formatForInputMode:i=>B(i),suffix:i=>i.inputUnitInfos.angle.abbreviation,title:i=>i.messages.sketch.latitude},e))}function q(e){return U("x",n({name:"x"},e))}function H(e){return U("y",n({name:"y"},e))}function U(e,i){return new r(n({actual:m(0),parse:u({createQuantity:t=>m(t)}),format:(t,o)=>o.formatters.scalar(t),formatForInputMode:(t,o)=>o.formatters.scalar(t),title:t=>t.messages.sketch[e]},i))}var Le=e=>{let i=class extends e{constructor(){super(...arguments),this.longitude=W(),this.latitude=j(),this.x=q(),this.y=H(),this.elevation=Z(),this.geographic=!1}get effectiveX(){return this.geographic?this.longitude:this.x}get effectiveY(){return this.geographic?this.latitude:this.y}get key(){return{longitude:this.longitude.actual,latitude:this.latitude.actual,x:this.x.actual,y:this.y.actual,elevation:this.elevation.actual,geographic:this.geographic}}setLocationFromPoint(t,o=t?.spatialReference){if(this.geographic=!!o&&P(o),t==null)return this._setActualLonLat(null,null),void this._setActualXY(null,null);if(this.geographic){let l=O(t,K);this._setActualLonLat(w(l?.[0]),w(l?.[1]))}else this._setActualXY(m(t.x),m(t.y))}_setActualLonLat(t,o){this.longitude.actual=t,this.latitude.actual=o}_setActualXY(t,o){this.x.actual=t,this.y.actual=o}};return a([s()],i.prototype,"geographic",void 0),a([s()],i.prototype,"effectiveX",null),a([s()],i.prototype,"effectiveY",null),a([s()],i.prototype,"key",null),i=a([c("esri.views.interactive.tooltip.infos.TooltipInfoWithCoordinates")],i),i},K=[0,0];export{ae as a,re as b,se as c,ne as d,le as e,ue as f,ce as g,pe as h,Le as i,et as j};
