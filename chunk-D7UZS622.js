import{b as f,k as u,l as h}from"./chunk-F5AJITOA.js";import{b as l}from"./chunk-2LI2GKBQ.js";function b(a,e,t){let s=null,r=null;if(e&&(s=h(e,a,!1),s)){let o=u(s);o!=null&&(r=o)}return!s&&t&&(s=t==="dark"?"dark-gray":"gray",r=t),s||r||(s="gray",r="light"),{basemapId:s,basemapTheme:r}}var p=class{constructor(e){let{name:t,label:s,description:r,schemes:o}=e;this.name=t,this.label=s,this.description=r,this.schemes=o;let n=e.basemapGroups||f,m=[];Object.keys(n).forEach(c=>{m=m.concat(n[c])}),this.supportedBasemaps=m,this.basemapGroups=n}isBasemapSupported(e){let t=h(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){let{basemapId:t,basemapTheme:s}=b(this.supportedBasemaps,e.basemap,e.basemapTheme),r=s;if(t){let m=u(t,this.basemapGroups);m!=null&&(r=m)}let o=e.geometryType;o==="multipoint"?o="point":o==="mesh"&&(o="polygon");let n=this.schemes[o]||this.schemes.default;return{schemesInfo:l(n[r]),basemapId:t,basemapTheme:s}}};function S(a){let e=a.themeDictionary,t=new Map;for(let s in e){let r=e[s];t.set(s,new p(r))}return t}function w(a,e){let t=[];return a.forEach(s=>{s.isBasemapSupported(e)&&t.push({name:s.name,label:s.label,description:s.description,basemaps:[...s.supportedBasemaps]})}),t}function G(a,e){if(!a||!e)return;let t=null,s=[e.primaryScheme,...e.secondarySchemes];for(let r of s)if(r.name?.toLowerCase()===a.toLowerCase()){t=r;break}return t}function I(a,e,t){if(!a&&!e)return[];if(!t)return[];let s=!a?.length,r=!e?.length,o=[t.primaryScheme,...t.secondarySchemes],n=[];for(let m of o){let c=!!s||a.some(i=>m.tags.includes(i)),d=!r&&e.some(i=>m.tags.includes(i));c&&!d&&n.push(m)}return n}function k(a){let e=a.theme;if(e)return e.getRawSchemes({basemap:a.basemap,geometryType:a.geometryType,basemapTheme:a.basemapTheme})}export{S as a,w as b,G as c,I as d,k as e};
