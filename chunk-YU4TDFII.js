import{b as f}from"./chunk-V565SXJK.js";import{j as i}from"./chunk-U3SOQMWO.js";import"./chunk-X2B63YVS.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{f as p}from"./chunk-VTHXE323.js";var o,e;function g(r){return p(this,null,function*(){if(yield d(),r.inputs.length<1)return{result:{status:i.Failed,error:"",jobDescJson:"",data:new Uint8Array(0),missingInputUrls:[]},transferList:[]};let n={ptrs:[],sizes:[]};for(let s of r.inputs){let c=e._malloc(s.byteLength);new Uint8Array(e.HEAPU8.buffer,c,s.byteLength).set(new Uint8Array(s)),n.ptrs.push(c),n.sizes.push(s.byteLength)}let t=e.process(r.jobDescJson,n,r.isMissingResourceCase),u=t.status===i.Succeeded&&t.data,l=t.status===i.MissingInputs&&t.missingInputUrls.length>0;if(u){let s=t.data.slice();t.data=s}else l&&(t.jobDescJson=t.jobDescJson.slice(),t.originalInputs=r.inputs.slice());for(let s=0;s<n.ptrs.length;++s)e._free(n.ptrs[s]);let a=[];if(u)a.push(t.data.buffer);else if(l)for(let s of r.inputs)a.push(s);return{result:t,transferList:a}})}function h(){e&&(e.uninitialize_lyr3d_worker_wasm(),e=null)}function d(){return e?Promise.resolve():(o||(o=f().then(r=>{e=r,e.initialize_lyr3d_worker_wasm(),o=null})),o)}export{h as destroyWasm,d as initialize,g as process};
