import{f as y}from"./chunk-ZM24RY22.js";import{a as h}from"./chunk-6F25LG6O.js";import{f as d}from"./chunk-VTHXE323.js";function k(o){return d(this,null,function*(){yield o.whenReady();let r=o.basemapView?.baseLayerViews.map(t=>t.layer).toArray()??[];if(!r.length){let t=getComputedStyle(o.container).backgroundColor,e=t?new h(t):void 0;return("background"in o?o.background?.color:void 0)||(e?.a!==0?e:null)||null}let a=(yield o.takeScreenshot({format:"png",layers:r})).data.data,p=a.length,n=0,l=0,u=0,g=0,s=0,m=0;for(let t=0;t<p;t+=4){let e=a[t],f=a[t+1],w=a[t+2],i=a[t+3],c=i/255;n+=e*e*c,l+=f*f*c,u+=w*w*c,s+=c,i&&(g+=i,m++)}return n=Math.round(Math.sqrt(n/s)),l=Math.round(Math.sqrt(l/s)),u=Math.round(Math.sqrt(u/s)),new h([n,l,u,g/m/255])})}function C(o){return d(this,null,function*(){if(!o)return null;let r=yield k(o);return r!=null?y(r):null})}export{k as a,C as b};
