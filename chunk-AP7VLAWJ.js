import{g as f}from"./chunk-7WESBCZZ.js";import{a as g}from"./chunk-AXYQJCCX.js";import{a as r}from"./chunk-5XCFNEYX.js";import{a as u}from"./chunk-GQL2MBZT.js";import{b as h}from"./chunk-EBIFNV2H.js";import{a as o}from"./chunk-QGVBCWUY.js";import{e as n}from"./chunk-NFIPKH6V.js";import{l as m}from"./chunk-5QEXLALV.js";var a="esri-timezone-picker",l={base:a,trigger:`${a}__trigger`,itemTitle:`${a}__item-title`,itemDescription:`${a}__item_description`},s=class extends u{constructor(e,i){super(e,i),this.disabled=!1,this.value=null,this.onChange=null,this.open=!1,this.onOpen=null,this.onClose=null,this._selectedId=null,this._onOpen=()=>{this.open=!0,this.onOpen?.()},this._onClose=()=>{this.open=!1,this.onClose?.()},this._killEvent=t=>(t.stopPropagation(),!0),this._onChange=t=>{let d=t.target.selectedItems?.[0].getAttribute("data-id"),p=_(this._gmtOffsets,d)?.utcOffset;p!=null&&(this._selectedId=d,this.onChange?.(p))}}loadDependencies(){return h({button:()=>import("./chunk-K3RCADAN.js"),dropdown:()=>import("./chunk-F6T2J7EG.js"),"dropdown-group":()=>import("./chunk-KPY43GC2.js"),"dropdown-item":()=>import("./chunk-XJK7VSUG.js")})}render(){let e=this._messages;if(!e)return r("div",{class:l.base,key:"empty"});let i=this._selectedItem,t=c(i);return r("div",{class:l.base,key:"container",onpointerdown:this._killEvent},r("calcite-dropdown",{disabled:this.disabled,open:this.open,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",onCalciteDropdownClose:this._onClose,onCalciteDropdownOpen:this._onOpen,onCalciteDropdownSelect:this._onChange},r("calcite-button",{appearance:"transparent",class:l.trigger,"data-testid":"timezone-picker-button",disabled:this.disabled,key:"trigger",kind:"neutral",scale:"s",slot:"trigger",tabIndex:0,title:e.chooseTimezone},i?.short??""),r("calcite-dropdown-group",{selectionMode:"single"},this._gmtOffsets.map(d=>{let p=c(d);return r("calcite-dropdown-item",{"data-id":p,"data-testid":p,key:p,selected:t===p},r("div",{class:l.itemTitle,key:"title"},d.shortWithUTC),r("div",{class:l.itemDescription,key:"description"},d.long))}))))}get _gmtOffsets(){let e=this._messages;return e?f(e):[]}get _selectedItem(){let e=this._gmtOffsets,i=this.value,t=_(e,this._selectedId);return t?.utcOffset===i?t:v(e,i)}};function _(e,i){return e.find(t=>c(t)===i)}function v(e,i){return e.find(t=>t.utcOffset===i)}function c(e){return e?`${e.utcOffset}-${e.long}`:void 0}o([n()],s.prototype,"disabled",void 0),o([n()],s.prototype,"value",void 0),o([n()],s.prototype,"onChange",void 0),o([n()],s.prototype,"open",void 0),o([n()],s.prototype,"onOpen",void 0),o([n()],s.prototype,"onClose",void 0),o([n(),g("esri/widgets/support/t9n/timezone")],s.prototype,"_messages",void 0),o([n()],s.prototype,"_gmtOffsets",null),o([n()],s.prototype,"_selectedItem",null),o([n()],s.prototype,"_selectedId",void 0),s=o([m("esri.widgets.support.TimezonePicker")],s);export{s as a};
