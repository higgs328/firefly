import{a as $}from"./chunk-CRCH3TGD.js";import"./chunk-MKARC3VG.js";import{a as M}from"./chunk-N3NGJUQN.js";import"./chunk-HFZI5WHY.js";import"./chunk-FPCHE4I2.js";import{a as P}from"./chunk-PT2T74VZ.js";import{a as g}from"./chunk-TGSXSDDB.js";import{a as O}from"./chunk-OBYF3P4E.js";import{a as b}from"./chunk-FHBFWDFD.js";import"./chunk-SU2NZAJW.js";import"./chunk-LAX5536Z.js";import"./chunk-N3HRYLNW.js";import"./chunk-4DBMALZW.js";import"./chunk-CVWWHM2V.js";import"./chunk-6OQYVEQJ.js";import"./chunk-YOXOWGT6.js";import"./chunk-EFZOSMYP.js";import"./chunk-WI7F4ZKJ.js";import"./chunk-MJ7M24NH.js";import"./chunk-GJH4QFRX.js";import"./chunk-T63F7663.js";import"./chunk-O4V2VBSK.js";import"./chunk-5TKRKB5E.js";import"./chunk-XAGMDNNR.js";import"./chunk-OP2TLIUN.js";import"./chunk-T2THIR6K.js";import"./chunk-LORHDXEB.js";import"./chunk-BBBPJI4H.js";import"./chunk-45BTW5EG.js";import"./chunk-TPFBHGDM.js";import"./chunk-73NLRHJD.js";import"./chunk-PNFEUBDF.js";import"./chunk-6RCCEJDL.js";import"./chunk-PQ2TNDUX.js";import"./chunk-6X6MKRQ3.js";import"./chunk-FQFHMHYU.js";import"./chunk-SZMEI3WL.js";import"./chunk-KKVGD67U.js";import"./chunk-MYOJWRDU.js";import"./chunk-L7UKJKHG.js";import"./chunk-V2IENAEU.js";import"./chunk-QAGQFNF2.js";import"./chunk-SY7JS2VW.js";import"./chunk-WK57SDN6.js";import"./chunk-AG4V3ZUO.js";import"./chunk-YWLMJ26A.js";import"./chunk-QAWNU3UJ.js";import"./chunk-HRQT4R6X.js";import"./chunk-44BHLWQ4.js";import"./chunk-5BPM64SU.js";import"./chunk-PMVHHMQJ.js";import"./chunk-NAFOM5UA.js";import"./chunk-DO7UF2F2.js";import"./chunk-ZTR6OS44.js";import"./chunk-VRTKAD2J.js";import"./chunk-DBLKLHK2.js";import"./chunk-UTE3ASAZ.js";import"./chunk-2AFEAPEX.js";import"./chunk-GNGXUEWV.js";import"./chunk-QBI5NDCA.js";import"./chunk-NOHW2DKR.js";import"./chunk-HVJAAM3A.js";import"./chunk-ACPEJEHK.js";import"./chunk-I7B3LWNP.js";import"./chunk-YP2E5N4E.js";import"./chunk-QLMNLSCT.js";import"./chunk-P55G5ATK.js";import"./chunk-JT3K52KQ.js";import"./chunk-SPLEGG4R.js";import"./chunk-Y4TJDUGP.js";import"./chunk-6PAFOJ4W.js";import"./chunk-74SDGE57.js";import"./chunk-FRXWHX3T.js";import"./chunk-DTDQ5X42.js";import"./chunk-RX2HFR4X.js";import"./chunk-AZW7YPTQ.js";import"./chunk-NJLJX4X6.js";import"./chunk-DZHFTD24.js";import"./chunk-K57Z4J34.js";import"./chunk-VWG3KVOU.js";import"./chunk-JOEUVLAN.js";import"./chunk-JZQDGIDQ.js";import"./chunk-CZ6CGC7I.js";import"./chunk-7B6U3N62.js";import"./chunk-46WDO5LS.js";import"./chunk-G5EYK5KM.js";import"./chunk-YJKJQU3F.js";import"./chunk-OK4K3OQT.js";import"./chunk-BPWNCOXC.js";import"./chunk-VNS4CQ27.js";import"./chunk-AVMO6LCR.js";import"./chunk-TEGPMVWT.js";import"./chunk-CLQRQC3Y.js";import"./chunk-KSNU73LO.js";import"./chunk-FACEVGRE.js";import"./chunk-5XTCPT52.js";import"./chunk-BMYVPMAK.js";import"./chunk-6F25LG6O.js";import"./chunk-SC4TZEOX.js";import"./chunk-GJ2QRXGN.js";import"./chunk-3JGYBNJA.js";import"./chunk-DA3SDKGO.js";import"./chunk-ZOEPYNM4.js";import"./chunk-57VFBGF3.js";import"./chunk-GWBRHLNH.js";import"./chunk-BJH4F4SM.js";import"./chunk-Z3RBZHAK.js";import"./chunk-ZC6EBRE4.js";import"./chunk-KALOJIUA.js";import"./chunk-KMMTNF7G.js";import"./chunk-MIS6QMFE.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import"./chunk-K75TK42V.js";import"./chunk-OLOKUDVI.js";import"./chunk-RJWOVI3M.js";import"./chunk-BOVYXYHK.js";import"./chunk-KVM6SHDX.js";import"./chunk-HX2VGIR2.js";import"./chunk-ERDKAICI.js";import"./chunk-EQZWYK27.js";import"./chunk-JLPLCY2B.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import{a as x}from"./chunk-AXYQJCCX.js";import{a as o}from"./chunk-5XCFNEYX.js";import{a as E}from"./chunk-GQL2MBZT.js";import{b as L}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import{g as I,j as S}from"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import{a as B}from"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as p}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as u}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as k}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import{h as V}from"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import{g as T}from"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as y,f as F}from"./chunk-VTHXE323.js";var d="esri-coordinate-conversion",s={base:d,captureMode:`${d}--capture-mode`,noBasemap:`${d}--no-basemap`,popup:`${d}__popup`,clipboardPopup:`${d}__clipboard-popup`,conversionList:`${d}__conversion-list`,conversionRow:`${d}__row`,coordDisplay:`${d}__display`,expandButton:`${d}__expand-button`,expanded:`${d}__conversions-view--expanded`,expandDown:`${d}__conversions-view--expand-down`,expandUp:`${d}__conversions-view--expand-up`,conversionsView:`${d}__conversions-view`,rowSelect:`${d}__select-row`,toolDisplay:`${d}__tools`,modeToggle:`${d}__mode-toggle`,rowButton:`${d}__row-button`,coordinateInput:`${d}__input-coordinate`,inputForm:`${d}__input-form`,inputFormGroup:`${d}__input-group`,inputSelect:`${d}__input-select`,sectionHeading:`${d}__heading`,patternInput:`${d}__pattern-input`,settings:`${d}__settings`,settingsFormGroup:`${d}__settings-group`,settingsFormGroupHorizontal:`${d}__settings-group-horizontal`,previewCoordinate:`${d}__preview-coordinate`},D={settingsButton:!0,inputButton:!0,captureButton:!0,expandButton:!0},U=750,H=2500,l=class extends E{constructor(e,t){super(e,t),this._popupMessage=null,this._popupTimeoutId=void 0,this._clipboardPopupTimeoutId=void 0,this._coordinateInput=null,this._badInput=!1,this._goToEnabled=!1,this._conversionFormat=null,this._settingsFormat=null,this._previewConversion=null,this._expanded=!1,this._clipboardPopupVisible=!1,this._popupVisible=!1,this._settingsVisible=!1,this._inputVisible=!1,this.headingLevel=4,this.messages=null,this.messagesCommon=null,this.orientation="auto",this.viewModel=new $,this.visibleElements=y({},D)}loadDependencies(){return L({button:()=>import("./chunk-K3RCADAN.js"),checkbox:()=>import("./chunk-NV4IBMC5.js"),input:()=>import("./chunk-SS6GQCI6.js"),label:()=>import("./chunk-S24JESVO.js"),option:()=>import("./chunk-MKZWVLGJ.js"),select:()=>import("./chunk-YZG2OI4V.js")})}get conversions(){return this.viewModel.conversions}set conversions(e){this.viewModel.conversions=e}get currentLocation(){return this.viewModel.currentLocation}set currentLocation(e){this.viewModel.currentLocation=e}get formats(){return this.viewModel.formats}set formats(e){this.viewModel.formats=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"coordinate-system"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get mode(){return this.viewModel.mode}set mode(e){this.viewModel.mode=e}set multipleConversions(e){e===!1&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set("multipleConversions",e)}get multipleConversions(){let e=this._get("multipleConversions");return typeof e!="boolean"||e}get locationSymbol(){return this.viewModel.locationSymbol}set locationSymbol(e){this.viewModel.locationSymbol=e}get storageEnabled(){return this.viewModel.storageEnabled}set storageEnabled(e){this.viewModel.storageEnabled=e}get storageType(){return this.viewModel.storageType}set storageType(e){this.viewModel.storageType=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return y(y({},D),e)}reverseConvert(e,t){return this.viewModel.reverseConvert(e,t)}render(){let e=this.viewModel?.state,t=e==="disabled"?o("div",{key:"esri-coordinate__no-basemap"},this.messages?.noBasemap):null,i=!t&&this._inputVisible?this._renderInputForm():null,n=!t&&this._settingsVisible?this._renderSettings():null,r=t||i||n?null:this._renderConversionsView(),a=this._popupVisible?this._renderPopup():null,c={[s.captureMode]:this.mode==="capture",[b.disabled]:e==="loading",[s.noBasemap]:e==="disabled"};return o("div",{class:this.classes(s.base,b.widget,c)},a,t,r,n,i)}_addConversion(e){let t=e.target,i=t.selectedOption.value,n=R(t);if(i==null||n==null)return;let r=new M({format:i});t.value="default",n>=0?(this.conversions.removeAt(n),this.conversions.add(r,n)):this.conversions.add(r)}_findSettingsFormat(){return this._settingsFormat||this.conversions.reduceRight((e,t)=>{let i=t.format;return i?.hasDisplayProperties?i:e},null)||this.formats.find(e=>e.hasDisplayProperties)}_hidePopup(){this._popupTimeoutId&&(clearTimeout(this._popupTimeoutId),this._popupTimeoutId=void 0),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}_hideClipboardPopup(){this._clipboardPopupTimeoutId&&(clearTimeout(this._clipboardPopupTimeoutId),this._clipboardPopupTimeoutId=void 0),this._clipboardPopupVisible=!1,this.scheduleRender()}_onConvertComplete(){this._inputVisible=!1,this._coordinateInput.value=""}_onCopy(e){let t=A(e.currentTarget)?.displayCoordinate;t!=null&&(e.clipboardData?.setData("text/plain",t),this._showClipboardPopup(),e.preventDefault())}_processUserInput(e){let t=V(e,"key"),i=this.viewModel;if(t!=="Enter"&&t)this._badInput&&(this._badInput=!1);else{let n=this._conversionFormat||this.conversions.at(0).format;if(!n)return;let r=this._coordinateInput.value;this._reverseConvert(r,n).then(a=>{this.mode==="capture"?i.resume():this.mode="capture",this.currentLocation=a,i.setLocation(a),this._onConvertComplete()}).catch(a=>{T.getLogger(this).error(a),this._showPopup(this.messages?.invalidCoordinate),this._badInput=!0})}}_reverseConvert(e,t){return F(this,null,function*(){let i=this.viewModel,n=yield t.reverseConvert(e);return this._goToEnabled&&n&&i.goToLocation(n).catch(r=>{T.getLogger(this).warn(r),this._showPopup(this.messages?.locationOffBasemap)}),n})}_setInputFormat(e){let t=e.target.selectedOption.value;t!=null&&(this._conversionFormat=t)}_setPreviewConversion(){let e=this._findSettingsFormat(),t=this.viewModel;if(e){let i=this.conversions.find(n=>n.format===e);this._previewConversion=new M({format:e,position:{location:this.currentLocation,coordinate:i?.position?.coordinate}}),this._previewConversion.position?.coordinate||t.previewConversion(this._previewConversion)}}_setSettingsFormat(e){let t=e.target.selectedOption.value;t!=null&&(this._settingsFormat=t,this._setPreviewConversion())}_showClipboardPopup(){this._clipboardPopupVisible?clearTimeout(this._clipboardPopupTimeoutId):this._clipboardPopupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout(()=>{this._popupTimeoutId=void 0,this._hideClipboardPopup()},U)}_showPopup(e,t=H){this._popupMessage=e,this._popupVisible?clearTimeout(this._popupTimeoutId):this._popupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout(()=>{this._popupTimeoutId=void 0,this._hidePopup()},t)}_toggleGoTo(){this._goToEnabled=!this._goToEnabled}_updateCurrentPattern(e){e.stopPropagation();let t=e.target,i=this._findSettingsFormat();i&&(i.currentPattern=t.value)}_renderConversion(e,t){let{messages:i}=this;if(!i)return o("li",null);let{format:n}=e,r=n?.label??"",a=`${this.id}__list-item-${t}`,c=`${r} ${i.conversionOutputSuffix}`,h=t===0,_=h||this._expanded,m=h?this._renderFirstConversion(e):this._renderTools(t,e,a),v=h&&!e.displayCoordinate?i.noLocation:e.displayCoordinate,C=o("div",{"aria-label":v,class:s.coordDisplay,"data-conversion":e,role:"listitem",tabIndex:0,title:v??""},v),w=this._renderOptions(this.formats.filter(f=>f!==n));return _?o("li",{"aria-label":c,class:s.conversionRow,id:a,key:e,role:"group",tabIndex:0,title:c},o("calcite-select",{"aria-controls":a,bind:this,class:s.rowSelect,"data-index":t,label:i.selectFormat,scale:"s",onCalciteSelectChange:this._addConversion},o("calcite-option",{label:r.toUpperCase(),selected:!0},r.toUpperCase()),w),C,m):null}_renderCopyButton(e){let t=this._clipboardPopupVisible&&this._renderClipboardPopup(),{messagesCommon:i}=this;return i?o("li",{"aria-label":i.copy,bind:this,class:this.classes(b.widgetButton,s.rowButton),"data-conversion":e,onclick:this._copyCoordinateOutput,oncopy:this._onCopy,onkeydown:this._copyCoordinateOutput,role:"button",tabIndex:0,title:i.copy},t,o("span",{"aria-hidden":"true",class:O.duplicate})):o("li",null)}_renderFirstConversion(e){let t=this.id,{messages:i,messagesCommon:n,multipleConversions:r,visibleElements:a}=this;if(!n||!i)return o("ul",null);let c=this.mode==="live"?i.captureMode:i.liveMode,h=this._expanded?n.collapse:n.expand,_=e.displayCoordinate&&this.mode==="capture"?this._renderCopyButton(e):null,m=r&&a.expandButton&&this._renderIconButton({iconType:this._expanded?"chevron-down":"chevron-up",clickFunction:this._toggleExpand,classes:[s.expandButton],attributes:{"aria-controls":`${t}__${s.conversionList}`,label:h}}),v=!r&&a.captureButton&&this._renderIconButton({iconType:this.mode==="live"?"pin-tear":"pin-tear-f",clickFunction:this._toggleMode,classes:[s.modeToggle],attributes:{label:c}});return o("ul",{class:s.toolDisplay},_,m,v)}_renderInputForm(){let e=this._conversionFormat||this.conversions.at(0).format,t=this.formats.findIndex(v=>v.name===e?.name),i=this.id,n=`${i}__${s.coordinateInput}`,r=`${i}__${s.coordinateInput}__header`,a=this._renderOptions(this.formats,!0,t),{messages:c,messagesCommon:h,headingLevel:_}=this;if(!h||!c)return o("div",null);let m=this._renderIconButton({iconType:I(this.container)?"arrow-right":"arrow-left",clickFunction:this._toggleInputVisibility,attributes:{label:h.back}});return o("div",{"aria-labelledby":r,class:s.inputForm,key:"esri-coordinate-conversion__input-form",role:"search"},o("div",{class:s.sectionHeading},m,o(P,{class:b.heading,id:r,level:_},c.inputCoordTitle)),o("div",{class:s.inputFormGroup},o("calcite-select",{"aria-controls":n,bind:this,class:s.inputSelect,label:c.selectFormat,scale:"s",onCalciteSelectChange:this._setInputFormat},a),o("calcite-input",{afterCreate:S,"aria-labelledby":r,bind:this,class:s.coordinateInput,"data-format":e,"data-node-ref":"_coordinateInput",id:n,onkeydown:this._processUserInput,placeholder:c.inputCoordTitle,required:!0,scale:"s",spellcheck:!1,status:this._badInput?"invalid":"idle"})),o("div",{class:s.inputFormGroup},o("calcite-label",{layout:"inline",scale:"s"},o("calcite-checkbox",{bind:this,checked:this._goToEnabled,onCalciteCheckboxChange:this._toggleGoTo}),c.goTo),o("calcite-button",{appearance:"outline",bind:this,kind:"neutral",onclick:this._processUserInput,type:"button",width:"auto"},c.convert)))}_renderConversionsView(){let{messages:e}=this;if(!e)return o("div",null);let t=`${this.id}__${s.conversionList}`,i=this._renderPrimaryTools(),n=this._renderOptions(this.formats),r=this.conversions.map((h,_)=>this._renderConversion(h,_)).toArray(),a=this._expanded?o("div",{class:s.conversionRow},o("calcite-select",{"aria-controls":t,bind:this,"data-index":-1,label:e.addConversion,scale:"s",onCalciteSelectChange:this._addConversion},o("calcite-option",{disabled:!0,selected:!0,value:"default"},e.addConversion),n),i):null,c={[s.expanded]:this._expanded,[s.expandUp]:this.orientation==="expand-up",[s.expandDown]:this.orientation==="expand-down"};return o("div",{class:this.classes(s.conversionsView,c),key:"esri-coordinate-conversion__main-view"},o("ul",{"aria-expanded":this._expanded?"true":"false",class:s.conversionList,id:t},r),a)}_renderOptions(e,t,i){let n=this.conversions.at(0),r=n.format?.name;return e.map((a,c)=>{let h=!(t||!n)&&(r===a.name||this.conversions.map(_=>_.format?.name).includes(a.name));return o("calcite-option",{disabled:h,key:a.name??"unnamed-format",label:a.label.toUpperCase(),selected:c===i,value:a},a.label)}).toArray()}_renderPopup(){return o("div",{class:s.popup,role:"alert"},this._popupMessage)}_renderClipboardPopup(){let{messages:e}=this;return e?o("div",{class:this.classes(s.popup,s.clipboardPopup),role:"alert"},e.copySuccessMessage):o("div",null)}_renderPrimaryTools(){let{messages:e,visibleElements:t}=this;if(!e)return o("ul",null);let i=this.mode==="live"?e.captureMode:e.liveMode,n=t.inputButton&&this._renderIconButton({iconType:"pencil",clickFunction:this._toggleInputVisibility,attributes:{label:e.inputCoordTitle}}),r=t.captureButton&&this._renderIconButton({iconType:this.mode==="live"?"pin-tear":"pin-tear-f",clickFunction:this._toggleMode,classes:[s.modeToggle],attributes:{label:i}}),a=t.settingsButton&&this._renderIconButton({iconType:"gear",clickFunction:this._toggleSettingsVisibility,attributes:{label:e.settingsTitle}});return o("ul",{class:s.toolDisplay},n,r,a)}_renderSettings(){let e=this.id,t=`${e}__${s.patternInput}`,i=`${e}__${s.patternInput}__header`,n=`${e}__${s.previewCoordinate}`,r=this.formats.filter(G=>G.hasDisplayProperties),a=this._findSettingsFormat(),c=a?r.indexOf(a):-1,h=this._renderOptions(r,!0,c),_=a?.currentPattern,{messages:m,messagesCommon:v,headingLevel:C}=this;if(!v||!m)return o("div",null);let w=this._renderIconButton({iconType:I(this.container)?"arrow-right":"arrow-left",clickFunction:this._toggleSettingsVisibility,attributes:{label:v.back}}),f=this._renderIconButton({iconType:"refresh",clickFunction:this._setDefaultPattern,attributes:{label:m.defaultPattern}});return o("div",{"aria-labelledby":i,class:s.settings,key:s.settings},o("div",{class:s.sectionHeading},w,o(P,{class:b.heading,id:i,level:C},m.settingsTitle)),o("div",{class:s.settingsFormGroup},o("label",{for:t},m.changeCoordinateDisplay),o("calcite-select",{bind:this,label:m.selectFormat,width:"full",onCalciteSelectChange:this._setSettingsFormat},h),o("div",{class:s.settingsFormGroupHorizontal},o("calcite-input",{"aria-controls":n,bind:this,class:s.patternInput,id:t,spellcheck:!1,type:"text",value:_,onCalciteInputInput:this._updateCurrentPattern}),f)),o("div",{class:s.settingsFormGroup},o("label",null,v.preview,o("div",{class:s.previewCoordinate,id:n,tabIndex:0},this._previewConversion?.displayCoordinate))))}_renderIconButton(e){let{iconType:t,clickFunction:i,classes:n,attributes:r}=e;return o("calcite-button",y({appearance:"transparent",bind:this,class:this.classes(n),iconStart:t,kind:"neutral",onclick:i,onkeydown:i},r))}_renderTools(e,t,i){let n=t.displayCoordinate&&this.mode==="capture"?this._renderCopyButton(t):null,{messages:r}=this;if(!r)return o("ul",null);let a=this._renderIconButton({iconType:"x",clickFunction:this._removeConversion,attributes:{"aria-controls":i,label:r.removeConversion,"data-index":e}});return o("ul",{class:s.toolDisplay,role:"listitem"},n,o("li",{class:this.classes(s.rowButton)},a))}_copyCoordinateOutput(e){let t=e.target;if(!("createTextRange"in document.body)){let i=window.getSelection(),n=document.createRange();n.selectNodeContents(t),i?.removeAllRanges(),i?.addRange(n)}document.execCommand("copy")}_removeConversion(e){let t=R(e.currentTarget);t!=null&&this.conversions.removeAt(t)}_setDefaultPattern(e){e.stopPropagation();let t=this._findSettingsFormat();t&&(t.currentPattern=t.defaultPattern)}_toggleExpand(){this._expanded=!this._expanded}_toggleInputVisibility(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}_toggleMode(){this.mode=this.mode==="live"?"capture":"live"}_toggleSettingsVisibility(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}};p([u()],l.prototype,"conversions",null),p([u()],l.prototype,"currentLocation",null),p([u()],l.prototype,"formats",null),p([u()],l.prototype,"goToOverride",null),p([u()],l.prototype,"headingLevel",void 0),p([u()],l.prototype,"icon",null),p([u()],l.prototype,"label",null),p([u(),x("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")],l.prototype,"messages",void 0),p([u(),x("esri/t9n/common")],l.prototype,"messagesCommon",void 0),p([u()],l.prototype,"mode",null),p([u()],l.prototype,"orientation",void 0),p([u()],l.prototype,"multipleConversions",null),p([u()],l.prototype,"locationSymbol",null),p([u()],l.prototype,"storageEnabled",null),p([u()],l.prototype,"storageType",null),p([u()],l.prototype,"view",null),p([u({type:$})],l.prototype,"viewModel",void 0),p([u()],l.prototype,"visibleElements",void 0),p([B("visibleElements")],l.prototype,"castVisibleElements",null),p([g()],l.prototype,"_copyCoordinateOutput",null),p([g()],l.prototype,"_removeConversion",null),p([g()],l.prototype,"_setDefaultPattern",null),p([g()],l.prototype,"_toggleExpand",null),p([g()],l.prototype,"_toggleInputVisibility",null),p([g()],l.prototype,"_toggleMode",null),p([g()],l.prototype,"_toggleSettingsVisibility",null),l=p([k("esri.widgets.CoordinateConversion")],l);var le=l;function R(e){return e["data-index"]}function A(e){return e["data-conversion"]}export{le as default};
