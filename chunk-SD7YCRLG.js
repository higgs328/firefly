import{a as T}from"./chunk-BMQMHMNH.js";import{a as C}from"./chunk-U4YCXFAL.js";import{a as N}from"./chunk-4GIPQCCB.js";import{a as I}from"./chunk-7MO4BRD3.js";import{b as u,c as h,d as b,e as w}from"./chunk-MGFIAYXF.js";import{e as d}from"./chunk-JD66UCS7.js";import{a as p}from"./chunk-FU7RO3AR.js";import{a as f}from"./chunk-4YRY3D3A.js";import{a as c}from"./chunk-ZZ5UYT7M.js";import{y as m}from"./chunk-QBWJMFH5.js";function k(i,r){let e=[];return i?.forEach(t=>{let{description:n,label:s,type:o}=t;if(o==="group"){let l=t.elements.map(a=>E(a,r)).filter(m);if(!l?.length)return;e.push(new T({description:n,columnTemplates:l,label:s}))}else{let l=E(t,r);if(!l)return;e.push(l)}}),e}function E(i,r){let{description:e,label:t,type:n}=i;if(n==="field"){let s=i.fieldName??void 0,o=r.findIndex(a=>a.field&&a.field===s),l=o>-1?r.at(o)?.order:void 0;return new N({description:e,direction:l,fieldName:s,initialSortPriority:o,label:t})}return n==="attachment"?new C({description:e,label:t}):n==="relationship"?new I({description:e,label:t,relationshipId:i.relationshipId}):void 0}function q(i){let r=[];return i.forEach(e=>{let{description:t,label:n,hidden:s}=e;if(h(e)){if(s)return;let o=e.columns?.map(l=>g(l)).filter(m);if(!o?.length)return;r.push(new d({description:t,elements:o,label:n}))}else{let o=g(e);if(!o)return;r.push(o)}}),r}function g(i){let{fieldName:r,description:e,hidden:t,label:n}=i;if(u(i)){if(!t)return new f({description:e,fieldName:r,label:n})}else if(b(i)){if(!t)return new c({description:e,label:n,relationshipId:i.relationshipId})}else if(w(i)&&!t)return new p({description:e,label:n})}export{k as a,q as b};
