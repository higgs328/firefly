import{a as m,b as g,c as $}from"./chunk-QOEX56J2.js";import{a as L}from"./chunk-PT2T74VZ.js";import{a as f}from"./chunk-FHBFWDFD.js";import{a as E}from"./chunk-4OC4J3KU.js";import{b as W}from"./chunk-E3FPV7ZA.js";import"./chunk-QIO7OVOF.js";import"./chunk-J3QLC2LP.js";import"./chunk-VBFF4VHB.js";import"./chunk-Q2IUY7EW.js";import"./chunk-6HINJY73.js";import"./chunk-MIS6QMFE.js";import"./chunk-EQZWYK27.js";import{a as x}from"./chunk-AXYQJCCX.js";import{a as o,b}from"./chunk-5XCFNEYX.js";import{a as y}from"./chunk-GQL2MBZT.js";import{b as v}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import{e as w}from"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as s}from"./chunk-QGVBCWUY.js";import{H as M}from"./chunk-MYO4NP2N.js";import{e as i}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as u}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var c="esri-weather",p={base:c,content:`${c}__content`,hasError:`${c}__content--has-error`,selector:`${c}__selector`,options:`${c}__options`,optionsHidden:`${c}__options--hidden`,error:`${c}__error`,warning:`${c}__warning`},T={base:`${`${c}__labeled-slider`}`};var l=class extends y{constructor(e){super(e),this._onChange=t=>{this.onChange(t.currentTarget.value)}}render(){let{label:e}=this;return o("div",{class:T.base},o("calcite-label",{scale:"s"},e,o("calcite-slider",{"aria-label":e,disabled:this.disabled,max:1,min:0,step:.01,value:this.value,onCalciteSliderChange:this._onChange,onCalciteSliderInput:this._onChange})))}loadDependencies(){return v({label:()=>import("./chunk-S24JESVO.js"),slider:()=>import("./chunk-WZXNPN5A.js")})}};s([i()],l.prototype,"value",void 0),s([i()],l.prototype,"onChange",void 0),s([i()],l.prototype,"disabled",void 0),l=s([u("esri.widgets.Weather.LabeledSlider")],l);var C=class extends M{constructor(e){super(e),this.header=!0}};s([i({type:Boolean,nonNullable:!0})],C.prototype,"header",void 0),C=s([u("esri.widgets.Weather.VisibleElements")],C);var _=C;var B={sunny:"brightness",cloudy:"partly-cloudy",rainy:"rain",snowy:"snow",foggy:"fog"},d=class extends y{constructor(e){super(e),this.viewModel=new $,this.headingLevel=4,this.visibleElements=new _,this._renderWeatherTypeButton=t=>{let r=this.viewModel,a=this.messages[t].label,n=r.state===m.Disabled,h=!n&&r.current.type===t;return o("calcite-button",{appearance:h?"solid":"outline","aria-checked":h?"true":"false",disabled:n,iconStart:B[t],key:`${t}-type-button`,kind:h?"brand":"neutral",label:a,onclick:()=>{h||r.setWeatherByType(t)},scale:"l",title:a})},this._memoizedCallbacks=E(t=>({onCloudCoverChange:r=>{"cloudCover"in t&&(t.cloudCover=r)},onPrecipitationChange:r=>{"precipitation"in t&&(t.precipitation=r)},onFogStrengthChange:r=>{"fogStrength"in t&&(t.fogStrength=r)},onSnowCoverChange:r=>{this.viewModel.setSnowCoverEnabled(r.currentTarget.checked)}}))}render(){let e=this.viewModel.state===m.Disabled;return o("div",{"aria-label":this.messages.widgetLabelAccessible,class:this.classes(p.base,f.widget,e&&f.widgetDisabled),role:"region"},this._renderContent())}loadDependencies(){return v({button:()=>import("./chunk-K3RCADAN.js"),checkbox:()=>import("./chunk-NV4IBMC5.js"),icon:()=>import("./chunk-7Z2RNQA3.js"),label:()=>import("./chunk-S24JESVO.js")})}get view(){return this.viewModel?.view}set view(e){this.viewModel&&(this.viewModel.view=e)}get icon(){return"partly-cloudy"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get _errorMessage(){let e=this.messages.error;switch(this.viewModel.error){case g.LocalScene:return e.localScene;case g.NoAtmosphere:return e.noAtmosphere;case g.UnsupportedView:return e.unsupported;default:return null}}get _warningMessage(){return this.viewModel.error===g.NotVisible&&this.view!=null&&this.view?.type==="3d"&&this.view.environment.atmosphereEnabled?this.messages.error.notVisible:null}_renderContent(){let{headingLevel:e,messages:t,viewModel:r,visibleElements:a}=this,n=this._warningMessage,h=r.current,k=r.state===m.Error;return o(b,null,a.header?o(L,{level:e},t.widgetLabel):null,k?o("div",{class:p.error,key:"error"},this._errorMessage):null,o("div",{class:w({[p.content]:!0,[p.hasError]:k}),key:"content"},o("div",{"aria-label":t.weatherType,class:p.selector,key:"type-selector",role:"radiogroup"},W.map(this._renderWeatherTypeButton)),Object.values(r.weatherByType).map(S=>o("div",{class:w({[p.options]:!0,[p.optionsHidden]:S.type!==h?.type}),key:"options-container"},this._renderOptions(S))),n!=null?this._renderWarning(n):null))}_renderOptions(e){let{viewModel:t,messages:r}=this,a=t.state===m.Disabled,n=this._memoizedCallbacks(e);switch(e.type){case"sunny":return o(l,{disabled:a,key:"sunny-cover",label:r.sunny.cloudCover,value:e.cloudCover,onChange:n.onCloudCoverChange});case"cloudy":return o(l,{disabled:a,key:"cloudy-cover",label:r.cloudy.cloudCover,value:e.cloudCover,onChange:n.onCloudCoverChange});case"rainy":return o(b,null,o(l,{disabled:a,key:"rainy-cover",label:r.rainy.cloudCover,value:e.cloudCover,onChange:n.onCloudCoverChange}),o(l,{disabled:a,key:"rainy-precipitation",label:r.rainy.precipitation,value:e.precipitation,onChange:n.onPrecipitationChange}));case"snowy":return o(b,null,o(l,{disabled:a,key:"snowy-cloud-cover",label:r.snowy.cloudCover,value:e.cloudCover,onChange:n.onCloudCoverChange}),o(l,{disabled:a,key:"snowy-precipitation",label:r.snowy.precipitation,value:e.precipitation,onChange:n.onPrecipitationChange}),o("calcite-label",{key:"snow-cover",layout:"inline",scale:"s",title:r.snowy.snowCoverTooltip},o("calcite-checkbox",{checked:e.snowCover==="enabled",disabled:a,onCalciteCheckboxChange:n.onSnowCoverChange}),r.snowy.snowCover));case"foggy":return o(l,{disabled:a,key:"foggy-cover",label:r.foggy.fogStrength,value:e.fogStrength,onChange:n.onFogStrengthChange})}}_renderWarning(e){return o("div",{class:p.warning,key:"warning"},o("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),e)}};s([i()],d.prototype,"viewModel",void 0),s([i()],d.prototype,"view",null),s([i()],d.prototype,"headingLevel",void 0),s([i({type:_,nonNullable:!0})],d.prototype,"visibleElements",void 0),s([i()],d.prototype,"icon",null),s([i()],d.prototype,"label",null),s([i(),x("esri/widgets/Weather/t9n/Weather")],d.prototype,"messages",void 0),s([i()],d.prototype,"_errorMessage",null),s([i()],d.prototype,"_warningMessage",null),d=s([u("esri.widgets.Weather")],d);var _e=d;export{_e as default};
