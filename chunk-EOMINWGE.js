import{a as l}from"./chunk-7A3ZNBEY.js";import{a as N}from"./chunk-QRJEAGEQ.js";import{f as J,o as K}from"./chunk-3WNFY6Z5.js";import{x as H}from"./chunk-6B5XFA6F.js";import{a as j}from"./chunk-MDZTV2VL.js";import{h as A}from"./chunk-RNC4P66O.js";import{i as F,l as C,m as G}from"./chunk-7LHOQXZT.js";import{a as B}from"./chunk-U4QEPZJ3.js";import{a as S}from"./chunk-BOVYXYHK.js";import{c as V}from"./chunk-VIEK2X23.js";import{ca as O,t as L}from"./chunk-NJWTSROP.js";import{b as D}from"./chunk-2LI2GKBQ.js";import{j as v,y as z}from"./chunk-QBWJMFH5.js";function d(s,t){let o=new V({x:s[0],y:s[1],spatialReference:t});return s.length>2&&(o.z=s[2]),o}function pt(s,t){return new j({points:s,spatialReference:t})}function ut(s,t,o){let n=new B({paths:s,spatialReference:t});return o&&C(n),n}function I(s,t,o,n=!0){let r=D(s);r.forEach(a=>{let c=a[0],i=a[a.length-1];v(c,i)&&a.length!==1||a.push(a[0])});let e=new A({rings:r,spatialReference:t});return e.rings.forEach(a=>{F(a)||a.reverse()}),o&&C(e),n&&e.isSelfIntersecting&&L(t)&&(e=K(e)),e}function yt(s,t,o){let n=t.mapToLocalMultiple(s),r=[],e={x:n[0].x,y:n[0].y},a={x:n[1].x,y:n[1].y},c=Math.round(a.x-e.x),i=Math.round(a.y-e.y),y=Math.max(Math.abs(c),Math.abs(i));if(o){let p={x:e.x+y,y:e.y+y},x={x:e.x-y,y:e.y-y};r.push(l(p.x,x.y),l(x.x,x.y),l(x.x,p.y),l(p.x,p.y))}else{let p={x:c>0?e.x+y:e.x-y,y:i>0?e.y+y:e.y-y};r.push(l(e.x,e.y),l(p.x,e.y),l(p.x,p.y),l(e.x,p.y))}return Q(I([r.map(p=>t.localToMap(p)).filter(z)],t.spatialReference,t.doUnnormalization,!0),r,t)}function ft(s,t,o){let n=t.mapToLocalMultiple(s);if(n.length===1){let i=n[0];n=[l(i.x-48,i.y+48),l(i.x+48,i.y-48),l(i.x+48,i.y-48),l(i.x-48,i.y+48)]}let r=[],e={x:n[0].x,y:n[0].y},a={x:n[1].x,y:n[1].y};if(o){let c=Math.round(a.x-e.x),i=Math.round(a.y-e.y);r.push(l(e.x-c,e.y-i),l(a.x,e.y-i),l(a.x,a.y),l(e.x-c,a.y))}else r.push(l(e.x,e.y),l(a.x,e.y),l(a.x,a.y),l(e.x,a.y));return Q(I([r.map(c=>t.localToMap(c)).filter(z)],t.spatialReference,t.doUnnormalization,!0),r,t)}function Q(s,t,o){let n=U(t[3],t[2],o),r=U(t[1],t[2],o),e=U(t[0],t[1],o),a=U(t[0],t[3],o);return{geometry:s,midpoints:n!=null&&r!=null&&e!=null&&a!=null?{top:n,right:r,bottom:e,left:a}:null}}function U(s,t,o){T[0]=s.x,T[1]=s.y,T[2]=0,b[0]=t.x,b[1]=t.y,b[2]=0,H(T,T,b,.5),w.x=T[0],w.y=b[1],w.z=b[2];let n=o.localToMap(w);return n!=null?d(n,o.spatialReference):null}var w=l(0,0,0),T=S(),b=S();function xt(s,t,o,n){let r=t.mapToLocalMultiple(s),e=null,a=null;if(o)e=r[0],a=r[1];else{let u=r[0],f=r[1],R=Math.round(f.x-u.x),g=Math.round(f.y-u.y),m=Math.max(Math.abs(R),Math.abs(g));e=l(R>0?u.x+m/2:u.x-m/2,g>0?u.y+m/2:u.y-m/2),a=l(Math.abs(R)>Math.abs(g)?e.x-m/2:e.x,Math.abs(R)>Math.abs(g)?e.y:e.y-m/2)}let c=t.localToMap(e),i=t.localToMap(a);if(c==null||i==null)return null;t.doUnnormalization&&G([[c,i]],t.spatialReference);let y=d(c,t.spatialReference),p=d(i,t.spatialReference),x=O(t.spatialReference),h=0;if(L(t.spatialReference))h=x*J(y,p,null);else{let u=e.x-a.x,f=e.y-a.y;h=x*Math.sqrt(u*u+f*f)*(n||1)}let P=new N({center:y,radius:h,radiusUnit:"meters",spatialReference:t.spatialReference});return{geometry:I(P.rings,P.spatialReference,!1),center:y,edge:p}}function mt(s,t,o){let n=t.mapToLocalMultiple(s),r=n[0],e=n[1],a=Math.round(e.x-r.x),c=Math.round(e.y-r.y),i=l(o?r.x:r.x+a/2,o?r.y:r.y+c/2),y=o?a:a/2,p=o?c:c/2,x=60,h=[],P=2*Math.PI/x;function u(M){let W=Math.cos(M),X=Math.sin(M);return l(y*W+i.x,p*X+i.y)}for(let M=0;M<x;M++)h.push(u(M*P));h.push(h[0]);let{spatialReference:f,doUnnormalization:R}=t,g=I([h.map(M=>t.localToMap(M)).filter(z)],f,R,!1),m=t.localToMap(u(Math.PI/2)),q=t.localToMap(u(0)),E=t.localToMap(u(-Math.PI/2)),k=t.localToMap(u(Math.PI));return{geometry:g,midpoints:m!=null&&q!=null&&E!=null&&k!=null?{top:d(m,f),right:d(q,f),bottom:d(E,f),left:d(k,f)}:null}}export{pt as a,ut as b,I as c,yt as d,ft as e,xt as f,mt as g};
