import{a as M}from"./chunk-6RY2RTH7.js";import{a as _}from"./chunk-FHBFWDFD.js";import{a as $}from"./chunk-5KMJDB5T.js";import"./chunk-UF3HHTD3.js";import"./chunk-7LVUNMSI.js";import"./chunk-CISTQZ5X.js";import"./chunk-NX5B6XBR.js";import"./chunk-2JABY6DU.js";import"./chunk-MPRKSQLC.js";import"./chunk-57TARQ4F.js";import"./chunk-6RBQSBA2.js";import"./chunk-GWBRHLNH.js";import"./chunk-ZC6EBRE4.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import{d as L}from"./chunk-OLOKUDVI.js";import"./chunk-KVM6SHDX.js";import"./chunk-EQZWYK27.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import{a as B}from"./chunk-AXYQJCCX.js";import{a as i}from"./chunk-5XCFNEYX.js";import{a as y}from"./chunk-GQL2MBZT.js";import"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import{b as w}from"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{a as g}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as s}from"./chunk-QGVBCWUY.js";import{a as f}from"./chunk-MYO4NP2N.js";import{e as p}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as C}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import{g as v}from"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var l="esri-scale-bar",t={base:l,labelContainer:`${l}__label-container`,rulerLabelContainer:`${l}__label-container--ruler`,lineLabelContainer:`${l}__label-container--line`,topLabelContainer:`${l}__label-container--top`,bottomLabelContainer:`${l}__label-container--bottom`,label:`${l}__label`,line:`${l}__line`,topLine:`${l}__line--top`,bottomLine:`${l}__line--bottom`,ruler:`${l}__ruler`,rulerBlock:`${l}__ruler-block`,barContainer:`${l}__bar-container`,rulerBarContainer:`${l}__bar-container--ruler`,lineBarContainer:`${l}__bar-container--line`};function k(e,r){return w(e,{style:"unit",unit:r,unitDisplay:"short"})}var a=class extends y{constructor(e,r){super(e,r),this.messages=null,this.style="line",this.viewModel=new M,f(v.getLogger(this),"Scale Bar","arcgis-scale-bar",{version:"4.32"})}initialize(){this.addHandles(g(()=>{let{view:e}=this;return[e?.stationary,e?.center,e?.scale,e?.zoom]},([e])=>{e&&this.scheduleRender()}))}get icon(){return"actual-size"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get unit(){return this._defaultUnit}set unit(e){this._overrideIfSome("unit",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){let e=this.viewModel.state==="disabled",r={[_.disabled]:e},n,u;if(!e){let{unit:o,style:d}=this,h=o==="metric"||o==="dual",m=100,b=o==="dual"?"line":d;if(o==="imperial"||o==="dual"){let c=this.viewModel.getScaleBarProperties(m,"imperial");c&&(u=b==="ruler"?this._renderRuler(c):this._renderLine(c,"bottom"))}if(h){let c=this.viewModel.getScaleBarProperties(m,"metric");c&&(n=b==="ruler"?this._renderRuler(c):this._renderLine(c,"top"))}}return i("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes(t.base,_.widget,r)},n,u)}_renderRuler(e){let{length:r,unit:n,value:u}=e,o=Math.round(r),d=k(u,n);return i("div",{class:this.classes(t.barContainer,t.rulerBarContainer),key:t.rulerBarContainer},i("div",{class:t.ruler,styles:{width:`${o}px`}},i("div",{class:t.rulerBlock}),i("div",{class:t.rulerBlock}),i("div",{class:t.rulerBlock}),i("div",{class:t.rulerBlock})),i("div",{class:this.classes(t.labelContainer,t.rulerLabelContainer)},i("div",{class:t.label},"0"),i("div",{class:t.label},d)))}_renderLine(e,r){let{length:n,unit:u,value:o}=e,d=Math.round(n),h=k(o,u),m={[t.topLabelContainer]:r==="top",[t.bottomLabelContainer]:r==="bottom"},b=i("div",{class:this.classes(t.labelContainer,t.lineLabelContainer,m),key:t.labelContainer},i("div",{class:t.label},h)),c={[t.topLine]:r==="top",[t.bottomLine]:r==="bottom"},S=i("div",{class:this.classes(t.line,c),key:t.line,styles:{width:`${d}px`}});return i("div",{class:this.classes(t.barContainer,t.lineBarContainer),key:t.lineBarContainer},[S,b])}_handleRootCreateOrUpdate(e){if(!this.viewModel)return;let{scaleComputedFrom:r}=this.viewModel,n=e.getBoundingClientRect(),u=n.left+window.pageXOffset,o=n.top+window.pageYOffset,d=L(u,o);(d.x!==r.x||d.y!==r.y)&&(this.viewModel.scaleComputedFrom=d)}};s([p($)],a.prototype,"_defaultUnit",void 0),s([p()],a.prototype,"icon",null),s([p()],a.prototype,"label",null),s([p(),B("esri/widgets/ScaleBar/t9n/ScaleBar")],a.prototype,"messages",void 0),s([p({type:["ruler","line"]})],a.prototype,"style",void 0),s([p({type:["metric","imperial","dual"]})],a.prototype,"unit",null),s([p()],a.prototype,"view",null),s([p()],a.prototype,"viewModel",void 0),a=s([C("esri.widgets.ScaleBar")],a);var J=a;export{J as default};
