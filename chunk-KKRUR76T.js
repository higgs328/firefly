import{a as v}from"./chunk-YYU4WDV7.js";import{a as c,b as h,c as x}from"./chunk-U445SEXM.js";import{c as f,e as g,g as w}from"./chunk-GYQWYHEG.js";import{b as n}from"./chunk-YOFFGXOB.js";import{a as u,b as T,c as p,f as y}from"./chunk-VTHXE323.js";function j(a){return y(this,null,function*(){if(!(a&&a.layer&&a.startTime&&a.endTime&&a.unit))throw new n("summary-statistics-for-age:missing-parameters","'layer', 'startTime', 'endTime' and 'unit' parameters are required");let r=a,{layer:i}=r,m=p(r,["layer"]),t=w(i,f);if(!t)throw new n("summary-statistics-for-age:invalid-parameters","'layer' must be one of these types: "+g(f).join(", "));let e=u({layerAdapter:t},m),l=e.view,o=e.signal!=null?{signal:e.signal}:null;yield Promise.all([l?.when(),t.load(o)]);let s=h(t,e.startTime,e.endTime,"summary-statistics-for-age:invalid-parameters");if(s)throw s;if(!e.unit||!c.includes(e.unit))throw new n("summary-statistics-for-age:invalid-parameters",`Supported units are: ${c.join(", ")}`);return e})}function Q(a){return y(this,null,function*(){let d=yield j(a),{layerAdapter:i}=d,m=p(d,["layerAdapter"]),{view:t,startTime:e,endTime:l,unit:o,minValue:s,maxValue:r,signal:A,filter:L,outStatisticTypes:V}=m,{valueExpression:b,statisticsQuery:E}=x({layer:i,startTime:e,endTime:l,unit:o}),S=T(u({layer:i,valueExpression:b},E),{minValue:s,maxValue:r,outStatisticTypes:V,view:t,filter:L,signal:A});return v(S)})}export{Q as a};
