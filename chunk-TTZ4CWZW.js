import{a as t,b as f,c as b,e as g}from"./chunk-C24MSACP.js";import{a as m,b as d}from"./chunk-T5UBLAP4.js";import{f as u,g as h,l as a,m as s}from"./chunk-DA3NC6W4.js";import{a as p}from"./chunk-HM5RIVQC.js";var r=class extends d{constructor(e,i){super(e,i,new m(g,()=>import("./chunk-OVM3UQK5.js")))}initializePipeline(e){switch(e.blitMode){case t.None:case t.Depth:return s({colorWrite:a});case t.Alpha:return s({blending:h,colorWrite:a});default:e.blitMode;case t.PremultipliedAlpha:case t.COUNT:return s({blending:u,colorWrite:a})}}};var _=class{constructor(e,i=t.None){this._techniques=e,this._parameters=new b,this._configuration=new f,this._configuration.blitMode=i,e.precompile(r,this._configuration)}blit(e,i,n,l){e.bindFramebuffer(n.fbo),e.setClearColor(0,0,0,1),e.clear(p.COLOR),this._parameters.texture=i.getTexture();let o=this._techniques.get(r,this._configuration);e.bindTechnique(o,l,this._parameters),e.screen.draw()}blend(e,i,n,l,o=1){this._configuration.hasOpacityFactor=o<1;let c=this._techniques.get(r,this._configuration);return!!c.compiled&&(e.bindFramebuffer(n.fbo),this._parameters.texture=i.getTexture(),this._parameters.opacity=o,e.bindTechnique(c,l,this._parameters),e.screen.draw(),!0)}};export{r as a,_ as b};
