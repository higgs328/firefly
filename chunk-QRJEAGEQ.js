import{f as v}from"./chunk-CISTQZ5X.js";import{h}from"./chunk-RNC4P66O.js";import{c as k}from"./chunk-VIEK2X23.js";import{i as P,j as R}from"./chunk-Q6Y4JG7Q.js";import{a as M}from"./chunk-7F5DJLJT.js";import{B as f,L as g,_ as b,b as u,da as w,ja as y}from"./chunk-NJWTSROP.js";import{a as n}from"./chunk-QGVBCWUY.js";import{e as p}from"./chunk-NFIPKH6V.js";import{l as m}from"./chunk-5QEXLALV.js";var d,c=d=class extends h{constructor(e){super(e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){let e=this.center,a=this.numberOfPoints;if(this.hasZ=e?.hasZ??!1,this.rings.length!==0||!e)return;let o=g(this.radius,this.radiusUnit,"meters"),r=e.spatialReference,s,t="geographic";if(r.isWebMercator?t="webMercator":((r.wkid&&u[r.wkid])!=null||(r.wkt2||r.wkt)&&y(r.wkt2||r.wkt))&&(t="projected"),this.geodesic){let i;switch(t){case"webMercator":i=R(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":i=e}s=this._createGeodesicCircle(i,o,a),t==="webMercator"&&(s=P(s))}else{let i;t==="webMercator"||t==="projected"?i=o/w(e.spatialReference):t==="geographic"&&(i=b(o,"meters",f(e.spatialReference).radius)),s=this._createPlanarCircle(e,i,a)}this.spatialReference=s.spatialReference,this.addRing(s.rings[0])}clone(){let{center:e,numberOfPoints:a,radius:o,radiusUnit:r,geodesic:s}=this;return new d({center:e?.clone(),numberOfPoints:a,radius:o,radiusUnit:r,geodesic:s})}_createGeodesicCircle(e,a,o){let r=[],s=[e.x,e.y];for(let t=0;t<360;t+=360/o){let i=this.hasZ?[0,0,e.z??0]:[0,0];v(i,s,t,a,M.WGS84),r.push(i)}return r.push(r[0]),new h({rings:[r]})}_createPlanarCircle(e,a,o){let r=[],s=2*Math.PI/o;for(let t=0;t<o;++t){let i=s*t,l=[e.x+Math.cos(-i)*a,e.y+Math.sin(-i)*a];this.hasZ&&l.push(e.z??0),r.push(l)}return r.push(r[0]),new h({spatialReference:e.spatialReference,rings:[r]})}};n([p({type:k})],c.prototype,"center",void 0),n([p()],c.prototype,"geodesic",void 0),n([p()],c.prototype,"numberOfPoints",void 0),n([p()],c.prototype,"radius",void 0),n([p()],c.prototype,"radiusUnit",void 0),c=d=n([m("esri.geometry.Circle")],c);var E=c;export{E as a};
