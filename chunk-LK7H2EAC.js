import{a as J,b as I}from"./chunk-QFBDO4P2.js";import"./chunk-QPTUNF56.js";import"./chunk-GAHBFBUT.js";import"./chunk-7XT4ARBK.js";import{a as H}from"./chunk-PT2T74VZ.js";import{a as L}from"./chunk-FHBFWDFD.js";import"./chunk-BJOICJ5R.js";import"./chunk-2AIDZIZ4.js";import"./chunk-Z7TBAZRW.js";import"./chunk-Z5UBWN4B.js";import"./chunk-5MERUJUF.js";import"./chunk-IELOBIBC.js";import"./chunk-NSUARQNU.js";import"./chunk-N52QLLCJ.js";import"./chunk-RNGFPXC6.js";import"./chunk-LXWUQH7X.js";import"./chunk-3VENQQN5.js";import"./chunk-TFO72JMF.js";import"./chunk-74EUEJXX.js";import"./chunk-WBU5KVPE.js";import"./chunk-TUUOR3MF.js";import"./chunk-F7UGNZLD.js";import"./chunk-XR2NZIN5.js";import"./chunk-7DIV5AMU.js";import"./chunk-UP67O2XH.js";import"./chunk-ILDJFHIB.js";import"./chunk-7KP7SKLW.js";import"./chunk-456M7HFK.js";import"./chunk-342NGUMP.js";import"./chunk-NIYDRLW4.js";import"./chunk-PHMJ7KPL.js";import"./chunk-ESSDCWGF.js";import"./chunk-WVKBXQWE.js";import"./chunk-42SGGFLN.js";import"./chunk-EDOVNTC7.js";import"./chunk-FSWSNKJD.js";import"./chunk-FGEB67EG.js";import"./chunk-YEXMIDOT.js";import"./chunk-T7PUQGWM.js";import"./chunk-GV3ZFCVD.js";import"./chunk-SOEEM7Z7.js";import"./chunk-MVDZB4AK.js";import"./chunk-44A27HB7.js";import"./chunk-47NSYSFY.js";import"./chunk-QXNVQZT7.js";import"./chunk-QSQIQSC6.js";import"./chunk-AYNBEMCC.js";import"./chunk-LNYBTIG7.js";import"./chunk-ECA5I2I7.js";import"./chunk-S6VNWKM3.js";import"./chunk-Y7XRSFOZ.js";import"./chunk-YQNUGDFH.js";import"./chunk-QCZ3ZIGQ.js";import"./chunk-2WYOVBUR.js";import"./chunk-GPQCYR3E.js";import"./chunk-WDTJILD4.js";import"./chunk-P7HHUOEW.js";import"./chunk-Z6CDEQPZ.js";import"./chunk-DKNG2DCF.js";import"./chunk-RZU6EEB3.js";import"./chunk-NIRJWS2D.js";import"./chunk-H3ZWZZ2B.js";import"./chunk-VRIRKZGO.js";import"./chunk-U7BD7DJH.js";import"./chunk-LBB4AU7W.js";import"./chunk-E3OE5HRA.js";import"./chunk-TSG4MDJV.js";import"./chunk-HCW4M77K.js";import"./chunk-H4IF7PQO.js";import"./chunk-QKVTMI24.js";import"./chunk-GGYZRKBV.js";import"./chunk-I76R3PW5.js";import"./chunk-4KM76TSJ.js";import"./chunk-6RE36L2Q.js";import"./chunk-37PSR6DC.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-5ZFVJPU5.js";import"./chunk-7SDNM7YV.js";import"./chunk-4NUW747S.js";import"./chunk-T6WMVIUG.js";import"./chunk-LC44KLTN.js";import"./chunk-A66JV4A6.js";import"./chunk-JBFXTI45.js";import"./chunk-GNPXNHTO.js";import"./chunk-7P56QMT7.js";import"./chunk-P4JHTV62.js";import"./chunk-H25DKJGS.js";import"./chunk-PHODKV66.js";import"./chunk-JPMGMA4B.js";import"./chunk-QTO4E4UZ.js";import"./chunk-SO3JGF64.js";import"./chunk-TIWKONVC.js";import"./chunk-7FBNOJXT.js";import"./chunk-PRJOIHPH.js";import"./chunk-BEONHHQH.js";import"./chunk-6DALCDDU.js";import"./chunk-RK6C6D6K.js";import"./chunk-CHCKIOZR.js";import"./chunk-TUF2Y2FX.js";import"./chunk-4QHB56M5.js";import"./chunk-KN5AJ2NM.js";import"./chunk-5A7AFZJT.js";import"./chunk-Z5EURZKA.js";import"./chunk-OVX6BGGA.js";import"./chunk-PBAMEKFE.js";import"./chunk-XIZ7IH6M.js";import"./chunk-JD66UCS7.js";import"./chunk-FU7RO3AR.js";import"./chunk-4YRY3D3A.js";import"./chunk-ZZ5UYT7M.js";import"./chunk-U4XVPHQU.js";import"./chunk-KLZGQ7M6.js";import"./chunk-N36GL6VL.js";import"./chunk-UX3QUEDM.js";import"./chunk-YZJDOXQC.js";import"./chunk-6ZY36ZHO.js";import"./chunk-6RHGQ4Z5.js";import"./chunk-G23ELQMS.js";import"./chunk-PZOK2JKH.js";import"./chunk-FJUYECJ6.js";import"./chunk-2SJBRRT6.js";import"./chunk-2SXWYVJN.js";import"./chunk-ELUASJOG.js";import"./chunk-KQZGMGWR.js";import"./chunk-66BPZDMW.js";import"./chunk-GAVFKWSK.js";import"./chunk-DK4DGLAO.js";import"./chunk-7Y6S2GNA.js";import"./chunk-VOB6IBIW.js";import"./chunk-63B3IOWG.js";import"./chunk-PE276TWH.js";import"./chunk-BMZ3PE5Y.js";import"./chunk-EHG7JRYJ.js";import"./chunk-FNY6LFKI.js";import"./chunk-IBVI7JQ7.js";import"./chunk-2DFFQEIV.js";import"./chunk-4JY7PCV4.js";import"./chunk-BBB7KLHV.js";import"./chunk-JPC2A6ML.js";import"./chunk-OGFDJ67M.js";import"./chunk-5K6CB5PS.js";import"./chunk-J2AEVBSH.js";import"./chunk-5ODXFRPI.js";import"./chunk-E5QCV5LT.js";import"./chunk-QS3EYJPF.js";import"./chunk-HJJZ2AXH.js";import"./chunk-TPNSUEHH.js";import"./chunk-SMVNQSZ4.js";import"./chunk-Z2QGLRDB.js";import"./chunk-7IDFDPA3.js";import"./chunk-VL2YL74P.js";import"./chunk-P2AJD2R2.js";import"./chunk-UMJIJLDA.js";import"./chunk-E5NFS3KN.js";import"./chunk-HQHD6BMN.js";import"./chunk-AIKKGGPG.js";import"./chunk-RDGG4TVD.js";import"./chunk-3IQFPOUU.js";import"./chunk-I4CY6X6S.js";import"./chunk-VQ4QGNRX.js";import"./chunk-LLWQ5E4P.js";import"./chunk-GNEAU6X4.js";import"./chunk-5RH7OPHX.js";import"./chunk-JFB3F3BC.js";import"./chunk-J4JQLN5L.js";import"./chunk-4KXJ537H.js";import"./chunk-JIRULGDT.js";import"./chunk-QJGOWIJD.js";import"./chunk-QML26MQC.js";import"./chunk-RNZY2XUD.js";import"./chunk-JXPUHKCT.js";import"./chunk-XR5FT7TQ.js";import"./chunk-4YTM754S.js";import"./chunk-LAX5536Z.js";import"./chunk-N3HRYLNW.js";import"./chunk-4DBMALZW.js";import"./chunk-CVWWHM2V.js";import"./chunk-6OQYVEQJ.js";import"./chunk-XNHRPKJK.js";import"./chunk-YOXOWGT6.js";import"./chunk-EFZOSMYP.js";import"./chunk-WI7F4ZKJ.js";import"./chunk-MJ7M24NH.js";import"./chunk-GJH4QFRX.js";import"./chunk-T63F7663.js";import"./chunk-O4V2VBSK.js";import"./chunk-5TKRKB5E.js";import"./chunk-XAGMDNNR.js";import"./chunk-OP2TLIUN.js";import"./chunk-T2THIR6K.js";import"./chunk-LORHDXEB.js";import"./chunk-BBBPJI4H.js";import"./chunk-45BTW5EG.js";import"./chunk-TPFBHGDM.js";import"./chunk-73NLRHJD.js";import"./chunk-PNFEUBDF.js";import"./chunk-6RCCEJDL.js";import"./chunk-PQ2TNDUX.js";import"./chunk-6X6MKRQ3.js";import"./chunk-FQFHMHYU.js";import"./chunk-SZMEI3WL.js";import"./chunk-KKVGD67U.js";import"./chunk-MYOJWRDU.js";import"./chunk-L7UKJKHG.js";import"./chunk-V2IENAEU.js";import"./chunk-QAGQFNF2.js";import"./chunk-SY7JS2VW.js";import"./chunk-WK57SDN6.js";import"./chunk-AG4V3ZUO.js";import"./chunk-YWLMJ26A.js";import"./chunk-QAWNU3UJ.js";import"./chunk-HRQT4R6X.js";import"./chunk-44BHLWQ4.js";import"./chunk-5BPM64SU.js";import"./chunk-7PAP5DT2.js";import"./chunk-OY5GEC5R.js";import"./chunk-CZAUQJCN.js";import"./chunk-5GYPON2V.js";import"./chunk-TC4RVDI6.js";import"./chunk-WDY6ALC6.js";import"./chunk-KGFXFSTP.js";import"./chunk-PMVHHMQJ.js";import"./chunk-NAFOM5UA.js";import"./chunk-B526OXED.js";import"./chunk-XPTKDFYS.js";import"./chunk-ZYTQ7T5Q.js";import"./chunk-MZC42HHY.js";import"./chunk-DREO3ZIC.js";import"./chunk-L7OBQ2MX.js";import"./chunk-2SEACSJ7.js";import"./chunk-FTMCRRWI.js";import"./chunk-L54EYG5G.js";import"./chunk-DH7A4UPK.js";import"./chunk-JLE3XOUQ.js";import"./chunk-ERHGRSXY.js";import"./chunk-AMEUMZLJ.js";import"./chunk-VU2QHSDR.js";import"./chunk-QHZWU2K5.js";import"./chunk-JMNB6CKE.js";import"./chunk-L3RS33Q4.js";import"./chunk-ZUPR4L6O.js";import"./chunk-DO7UF2F2.js";import"./chunk-ZTR6OS44.js";import"./chunk-VRTKAD2J.js";import"./chunk-DBLKLHK2.js";import"./chunk-MROWXKZJ.js";import"./chunk-4TAYW5IF.js";import"./chunk-AR2JEA37.js";import"./chunk-IPLEDIX4.js";import"./chunk-RB3POJ2P.js";import"./chunk-HV62ZNCD.js";import"./chunk-UTE3ASAZ.js";import"./chunk-2AFEAPEX.js";import"./chunk-GNGXUEWV.js";import"./chunk-QBI5NDCA.js";import"./chunk-NOHW2DKR.js";import"./chunk-HVJAAM3A.js";import"./chunk-ACPEJEHK.js";import"./chunk-I7B3LWNP.js";import"./chunk-YP2E5N4E.js";import"./chunk-QLMNLSCT.js";import"./chunk-P55G5ATK.js";import"./chunk-JT3K52KQ.js";import"./chunk-SPLEGG4R.js";import"./chunk-Y4TJDUGP.js";import"./chunk-6PAFOJ4W.js";import"./chunk-74SDGE57.js";import"./chunk-FRXWHX3T.js";import"./chunk-DTDQ5X42.js";import"./chunk-RX2HFR4X.js";import"./chunk-AZW7YPTQ.js";import"./chunk-NJLJX4X6.js";import"./chunk-DZHFTD24.js";import"./chunk-K57Z4J34.js";import"./chunk-VWG3KVOU.js";import"./chunk-JOEUVLAN.js";import"./chunk-JZQDGIDQ.js";import"./chunk-CZ6CGC7I.js";import"./chunk-7B6U3N62.js";import"./chunk-46WDO5LS.js";import"./chunk-G5EYK5KM.js";import"./chunk-YJKJQU3F.js";import"./chunk-OK4K3OQT.js";import"./chunk-BPWNCOXC.js";import"./chunk-VNS4CQ27.js";import"./chunk-AVMO6LCR.js";import"./chunk-TEGPMVWT.js";import"./chunk-CLQRQC3Y.js";import"./chunk-KSNU73LO.js";import"./chunk-FACEVGRE.js";import"./chunk-5XTCPT52.js";import"./chunk-2GF6YDKP.js";import"./chunk-TC77DYTW.js";import"./chunk-F2BQ2GD6.js";import"./chunk-R3XLNYYB.js";import"./chunk-2HYVVLKS.js";import"./chunk-XRTA5GHC.js";import"./chunk-Y6XW36QP.js";import"./chunk-ZXKU6WBY.js";import"./chunk-BMYVPMAK.js";import"./chunk-6F25LG6O.js";import"./chunk-6KRFVLII.js";import"./chunk-GJ2QRXGN.js";import"./chunk-RWCIDBNQ.js";import"./chunk-EM35R6FY.js";import"./chunk-HKJZ7WI6.js";import"./chunk-CXOFHVIF.js";import"./chunk-EO2H4LIH.js";import"./chunk-DJW5LMRG.js";import"./chunk-DEH76MSI.js";import"./chunk-ALWV3RJ2.js";import"./chunk-6B5XFA6F.js";import"./chunk-TJ6P6NLD.js";import"./chunk-CSNRCIB5.js";import"./chunk-3JGYBNJA.js";import"./chunk-DA3SDKGO.js";import"./chunk-ZOEPYNM4.js";import"./chunk-57VFBGF3.js";import"./chunk-GWBRHLNH.js";import"./chunk-BJH4F4SM.js";import"./chunk-Z3RBZHAK.js";import"./chunk-73K3NWCV.js";import"./chunk-PTZYZULI.js";import"./chunk-NMLYCCKN.js";import"./chunk-ZC6EBRE4.js";import"./chunk-ZAZJB7CV.js";import"./chunk-KALOJIUA.js";import"./chunk-KMMTNF7G.js";import"./chunk-E7AX56GD.js";import"./chunk-IDVLLREH.js";import"./chunk-DWLSVYOY.js";import"./chunk-PQGCNP5H.js";import"./chunk-UASS7NJI.js";import"./chunk-WZRAC35O.js";import"./chunk-KUYAWYSS.js";import"./chunk-MIS6QMFE.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import"./chunk-D3CUKSGS.js";import"./chunk-2TX472ZB.js";import"./chunk-7QNKS2X6.js";import"./chunk-VCCMJ6BV.js";import"./chunk-QK56OQGR.js";import"./chunk-FXCL7YYQ.js";import"./chunk-QKO56XO6.js";import"./chunk-JRGT3GTH.js";import"./chunk-K75TK42V.js";import"./chunk-CELWVZPW.js";import"./chunk-VV5G7VY5.js";import"./chunk-OLOKUDVI.js";import"./chunk-DYTVXYAV.js";import"./chunk-ZTOZWLEE.js";import"./chunk-RJWOVI3M.js";import"./chunk-RSDQHAJX.js";import"./chunk-BOVYXYHK.js";import"./chunk-KVM6SHDX.js";import"./chunk-POX73EYJ.js";import"./chunk-NKUXRYJG.js";import"./chunk-HX2VGIR2.js";import"./chunk-ERDKAICI.js";import{b as T}from"./chunk-EQZWYK27.js";import"./chunk-JLPLCY2B.js";import"./chunk-6CPVQBKS.js";import"./chunk-2GJBUR2F.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-YPMM52MU.js";import"./chunk-BBR7CJCO.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import"./chunk-O3EGNJTY.js";import{a as F}from"./chunk-AXYQJCCX.js";import{a as r}from"./chunk-5XCFNEYX.js";import{a as p}from"./chunk-GQL2MBZT.js";import{b as u}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import{e as W,g as Y,j as Z}from"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import{a as X}from"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{a as _,j as b}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as s}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as o}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as c}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import{l as E}from"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as B}from"./chunk-VTHXE323.js";var x="esri-building-explorer",v={base:x,panelError:`${x}__panel--error`,loadingContainer:`${x}__loading-container`,content:`${x}__content`,section:`${x}__section`,levels:`${x}__levels`,phases:`${x}__phases`,disciplines:`${x}__disciplines`};var V,ne={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},z="esri-building-disciplines-tree-node",Q={base:z,label:`${z}__label`,level:e=>`${z}--level-${e}`},P=V=class extends p{constructor(e){super(e),this.messages=ne,this.toggleSiblingsVisibility=!1,this._onCheckboxClick=t=>{t.stopPropagation(),(t.metaKey||t.ctrlKey)&&this.toggleSiblingsVisibility&&(this.node.toggleVisibility(),this.node.toggleAllSiblingsVisibility())},this._onCheckboxToggle=t=>{this.node.toggleVisibility(t.currentTarget.checked)}}static loadDependencies(){return u({checkbox:()=>import("./chunk-NV4IBMC5.js"),label:()=>import("./chunk-S24JESVO.js"),tree:()=>import("./chunk-32OGY6OQ.js"),"tree-item":()=>import("./chunk-6BHQQ2EP.js")})}loadDependencies(){return V.loadDependencies()}render(){let{node:e,messages:t}=this;if(e.isDiscipline&&!e.hasChildren)return r("div",{key:`${e.id}-empty`});let i=e.visible,l=i===!0,n=i===null,d=l?t?.hideSublayer:t?.showSublayer;return r("calcite-tree-item",{class:Q.base,key:e.id},r("calcite-label",{class:Q.label,layout:"inline"},r("calcite-checkbox",{checked:l,indeterminate:n,label:d,onclick:this._onCheckboxClick,title:d,onCalciteCheckboxChange:this._onCheckboxToggle}),e.title),this._renderedChildren)}get _renderedChildren(){let{node:e}=this;if(!e.hasChildren)return null;let{messages:t}=this,{toggleSiblingsVisibility:i}=this;return r("calcite-tree",{slot:"children"},this.node.children.toArray().reverse().map(l=>r(V,{messages:t,node:l,toggleSiblingsVisibility:i})))}};P.vnodeSelector="calcite-tree-item",s([o({type:J})],P.prototype,"node",void 0),s([o()],P.prototype,"messages",void 0),s([o({nonNullable:!0})],P.prototype,"toggleSiblingsVisibility",void 0),s([o()],P.prototype,"_renderedChildren",null),P=V=s([c("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesNode")],P);var K=P;var ae={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},he={base:"esri-building-disciplines-tree"},$=class extends p{constructor(e){super(e),this.toggleSiblingsVisibility=!1}loadDependencies(){return Promise.allSettled([u({tree:()=>import("./chunk-32OGY6OQ.js")}),K.loadDependencies()])}render(){let{vm:e}=this,t=this.toggleSiblingsVisibility,i=this.messages??ae;return r("calcite-tree",{class:he.base,scale:"s",selectionMode:"none"},e.root.children.toArray().reverse().map(l=>r(K,{messages:i,node:l,toggleSiblingsVisibility:t})))}};$.vnodeSelector="calcite-tree",s([o()],$.prototype,"vm",void 0),s([o()],$.prototype,"messages",void 0),s([o()],$.prototype,"toggleSiblingsVisibility",void 0),$=s([c("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesTree")],$);var ee=$;var te=Object.freeze(Object.defineProperty({__proto__:null,alphaLevelDependencyFactor:30,alphaSpreadFactor:10,levelHeightDefault:14,levelHoveredExtraHeight:30,levelHoveredExtraWidth:20,levelWidthConstant:40,levelWidthMax:80,levelWidthMin:30,levelWidthNominator:100,levelsMarginFactor:2,levelsPadding:20,levelsPointerAdjustment:.035},Symbol.toStringTag,{value:"Module"}));var k="esri-building-level-picker",y={container:k,noLevel:`${k}--no-level`,animateLevel:`${k}--animate-level`,levelsContainer:`${k}__levels-container`,innerLevelsContainer:`${k}__inner-levels-container`,labelContainer:`${k}__label-container`,arrowUp:`${k}__arrow-up`,arrowDown:`${k}__arrow-down`},D="esri-building-level-picker-label",M={base:D,active:`${D}--active`,hover:`${D}--hover`,empty:`${D}--empty`,clearButton:`${D}__clear-button`};var de={clearLevel:"",selectLevel:""},f=class extends p{constructor(e,t){super(e,t),this.level=null,this.active=!1,this.hovering=!1,this.onClear=()=>{}}loadDependencies(){return u({fab:()=>import("./chunk-FUL2XPUS.js")})}render(){let e=this.messages??de;if(this.level==null)return r("div",{class:M.empty,title:e.selectLevel},e.selectLevel);let t=e.clearLevel;return r("div",{"aria-label":t,bind:this,class:this.classes(M.base,{[M.active]:this.active,[M.hover]:this.hovering}),onclick:this.onClear,title:t},r("span",null,this.level),r("calcite-fab",{appearance:"outline-fill",class:M.clearButton,disabled:!this.active,icon:"x",key:"clear-button",kind:"neutral",onclick:this.onClear,scale:"s"}))}};s([o()],f.prototype,"level",void 0),s([o({nonNullable:!0})],f.prototype,"active",void 0),s([o({nonNullable:!0})],f.prototype,"hovering",void 0),s([o()],f.prototype,"messages",void 0),s([o({nonNullable:!0})],f.prototype,"onClear",void 0),f=s([c("esri.widgets.BuildingExplorer.BuildingLevelPicker.Label")],f);var A="esri-building-level-picker-item",N={container:A,base:`${A}__base`,hover:`${A}--hover`,active:`${A}--active`},m=class extends p{constructor(e,t){super(e,t),this.active=!1,this.hovering=!1,this.width=0,this.height=0,this.onSelect=()=>{},this.onFocus=()=>{},this.onBlur=()=>{},this._baseElement=null}render(){return r("div",{bind:this,class:this.classes(N.container,{[N.active]:this.active,[N.hover]:this.hovering}),key:this,styles:{height:`${this.height}px`}},this._renderBase())}focus(){this._baseElement!=null&&this._baseElement.focus()}_renderBase(){let e=this.width,t=.8*this.width;return r("div",{class:N.base,styles:{width:`${Math.round(e)}px`,height:`${Math.round(e)}px`}},r("button",{afterCreate:Z,"aria-label":this.label,bind:this,class:"rect","data-node-ref":"_baseElement",onblur:this.onBlur,onclick:this.onSelect,onfocus:this.onFocus,styles:{width:`${Math.round(t)}px`,height:`${Math.round(t)}px`,transform:`translate(${Y(this.container),-50}%, -50%) rotateX(66deg) rotateZ(45deg)`},tabIndex:-1,title:this.label??"",type:"button"}))}};s([o({nonNullable:!0})],m.prototype,"level",void 0),s([o({nonNullable:!0})],m.prototype,"active",void 0),s([o({nonNullable:!0})],m.prototype,"hovering",void 0),s([o({nonNullable:!0})],m.prototype,"width",void 0),s([o({nonNullable:!0})],m.prototype,"height",void 0),s([o({nonNullable:!0})],m.prototype,"onSelect",void 0),s([o({nonNullable:!0})],m.prototype,"onFocus",void 0),s([o({nonNullable:!0})],m.prototype,"onBlur",void 0),m=s([c("esri.widgets.BuildingExplorer.BuildingLevelPicker.LevelItem")],m);var U={selectLevel:"selectLevel",clearLevel:"clearLevel",nextLevel:"nextLevel",previousLevel:"previousLevel",currentLevel:"{{value}}"},a=class extends p{constructor(e,t){super(e,t),this._levelHandlesKey="levelHandles",this._levelEventHandlesKey="levelEventHandles",this._levelWidgets=[],this._labelWidget=new f({onClear:()=>this.vm.clear()}),this._hoveredLevel=null,this._expandedLevelsHeight=void 0,this._normalizedPointerPosition=0,this._hovering=!1,this._containerPosTop=null,this._levelsContainer=null,this._onKeyDown=i=>{switch(i.key){case"ArrowDown":case"ArrowLeft":i.preventDefault(),i.stopPropagation(),this.vm.previous(),this._focusCurrentLevel();break;case"ArrowUp":case"ArrowRight":i.preventDefault(),i.stopPropagation(),this.vm.next(),this._focusCurrentLevel()}},this._onFocus=()=>{this._hoveredLevel=this._levels.length>0?this._levels[0]:null},this._onArrowUpClick=()=>{this.vm.next()},this._onArrowDownClick=()=>{this.vm.previous()},this._onPointerUp=()=>{if(window.getSelection()?.removeAllRanges(),this._hoveredLevel==null)return;let{vm:i}=this;i.enabled&&this._hoveredLevel===i.value?i.clear():i.select(this._hoveredLevel)},this._onPointerEnter=()=>{this._hovering||this._levelsContainer==null||(this._hovering=!0,this._containerPosTop=this._levelsContainer.getBoundingClientRect().top??0)},this._onPointerLeave=()=>{this._hovering&&(this._normalizedPointerPosition=0,this._hoveredLevel=null,this._hovering=!1)},this._onPointerMove=i=>{if(!this._hovering)return!1;if(window.getSelection()?.removeAllRanges(),this._containerPosTop!=null){let l=this._containerPosTop,n=20*2,d=this._expandedLevelsMargin,w=this._levelsHeight,j=l+n+d,q=this._levelHeight/2;j+=q,w-=q;let G=(i.clientY-j)/w;G+=.035,this._normalizedPointerPosition=G}return!1}}loadDependencies(){return u({action:()=>import("./chunk-X23M5IZ6.js")})}postInitialize(){this.addHandles([_(()=>this._levelsContainer,()=>this._onContainerChange(),b),_(()=>this._levels,()=>this._createLevelWidgets(),b),_(()=>this.messages,()=>{this._labelWidget.messages=this.messages??U},b)])}destroy(){this._levelWidgets.forEach(e=>e.destroy()),this._labelWidget.destroy()}get _levels(){return this.vm.allowedValues}get _numLevels(){return this._levels.length}get _levelsHeight(){return Math.round(this._levelHeight*this._numLevels)}get _expandedLevelsMargin(){return Math.round(((this._expandedLevelsHeight??0)-this._levelsHeight)/2)}get _levelWidth(){let{levelWidthNominator:e,levelWidthConstant:t}=te,i=e/Math.sqrt(this._numLevels)+t;return Math.round(T(i,30,80))}get _levelHeight(){let e=14,t=2*e/Math.sqrt(this._numLevels);return Math.round(T(t,2,e))}get _gaussianFactor(){let e=this._numLevels;return e/Math.log(30*e)*10}get _levelClosestToPointer(){if(!this._hovering)return null;let e=this._numLevels-1,t=this._normalizedPointerPosition;return e>=0&&t!=null?this._levels[Math.round((1-t)*e)]:null}render(){let e=this._levelWidgets.length,t=e>1?this._levelWidgets.map(w=>w.render()):null,i=20*2,l=-40/2,n=this._levelsHeight,d=n+2*i;return r("div",{class:this.classes(L.widget,y.container,{[y.animateLevel]:!this._hovering,[y.noLevel]:e<2}),key:this,onkeydown:this._onKeyDown},this._renderLabelContainer(),r("div",{afterCreate:w=>this._levelsContainer=w,class:y.levelsContainer,"data-node-ref":"",onfocus:this._onFocus,styles:{height:`${d}px`,marginBlockStart:`${l}px`,marginBlockEnd:`${l}px`}},r("div",{class:y.innerLevelsContainer,styles:{height:`${n}px`,margin:"0",marginBlockStart:20-this._expandedLevelsMargin+"px"}},t)))}_renderLabelContainer(){let{hasPrevious:e,hasNext:t}=this.vm,i=this.messages??U,l=i.previousLevel,n=i.nextLevel;return r("div",{class:y.labelContainer,tabIndex:0},se({className:y.arrowUp,disabled:!t,icon:"chevron-up",onClick:this._onArrowUpClick,text:n}),this._labelWidget.render(),se({className:y.arrowDown,disabled:!e,icon:"chevron-down",onClick:this._onArrowDownClick,text:l}))}_updateComponents(){let e=this.messages??U,t=this.vm.enabled?this.vm.value:null,i=this._hoveredLevel!=null?this._hoveredLevel:t;this._levelWidgets.forEach(l=>{let n=this.vm.getValueLabel(l.level);l.label=n??e.currentLevel?.replace("{{level}}",String(l.level)),l.active=l.level===t,l.hovering=l.level===this._hoveredLevel}),this._labelWidget.level=i,this._labelWidget.active=i===t,this._labelWidget.hovering=this._hoveredLevel!=null}_createLevelWidgets(){this._levelWidgets.forEach(e=>e.destroy()),this._levelWidgets=this._levels.map(e=>new m({level:e,onSelect:()=>this._onLevelToggle(e)})),this.removeHandles(this._levelHandlesKey),this.addHandles([_(()=>{let{vm:e}=this;return[this.messages,e?.value,e?.enabled,this._hoveredLevel,this._hovering]},()=>this._updateComponents(),b),_(()=>[this._normalizedPointerPosition,this._hovering],()=>this._onPointerPositionChange(),b),_(()=>this._levelWidth,e=>this._levelWidgets.forEach(t=>t.width=e),b)],this._levelHandlesKey)}_onContainerChange(){let e=this._levelsContainer;e!=null&&(this.removeHandles(this._levelEventHandlesKey),this.addHandles([E(e,"pointerenter",this._onPointerEnter),E(e,"pointerover",this._onPointerEnter),E(e,"pointerleave",this._onPointerLeave),E(e,"pointerup",this._onPointerUp),E(e,"pointermove",this._onPointerMove)],this._levelEventHandlesKey))}_focusCurrentLevel(){this._levelWidgets.find(t=>t.level===this.vm.value)?.focus()}_onLevelToggle(e){let{vm:t}=this;t.enabled&&t.value===e?t.clear():t.select(e)}_onPointerPositionChange(){let e=0;this._levelWidgets.forEach((i,l)=>{let{width:n,height:d}=this._getLevelWidgetSize(l);i.height=d,i.width=n,e+=d}),this._hoveredLevel=this._levelClosestToPointer;let t=this._expandedLevelsHeight;(t==null||Math.abs(t-e)>30)&&(this._expandedLevelsHeight=e)}_getLevelWidgetSize(e){let t={width:this._levelWidth,height:this._levelHeight};if(this._hovering){let i=this._getGaussianFactor(e,this._normalizedPointerPosition);t.width+=20*i,t.height+=30*i}return t}_getGaussianFactor(e,t){let i=this._numLevels-1,l=(i-e)/i,n=this._gaussianFactor*(l-t);return Math.exp(-(n**2))}};function se(e){return r("calcite-action",{appearance:"transparent",class:e.className,disabled:e.disabled,icon:e.icon,key:e.className,onclick:e.onClick,scale:"s",text:e.text,textEnabled:!1,title:e.text})}s([o()],a.prototype,"vm",void 0),s([o()],a.prototype,"messages",void 0),s([o()],a.prototype,"_levelWidgets",void 0),s([o()],a.prototype,"_labelWidget",void 0),s([o()],a.prototype,"_hoveredLevel",void 0),s([o()],a.prototype,"_levels",null),s([o()],a.prototype,"_numLevels",null),s([o({readOnly:!0})],a.prototype,"_levelsHeight",null),s([o()],a.prototype,"_expandedLevelsHeight",void 0),s([o({readOnly:!0})],a.prototype,"_expandedLevelsMargin",null),s([o({readOnly:!0})],a.prototype,"_levelWidth",null),s([o({readOnly:!0})],a.prototype,"_levelHeight",null),s([o({readOnly:!0})],a.prototype,"_gaussianFactor",null),s([o({readOnly:!0})],a.prototype,"_levelClosestToPointer",null),s([o({type:Number,range:{min:0,max:1}})],a.prototype,"_normalizedPointerPosition",void 0),s([o()],a.prototype,"_hovering",void 0),s([o()],a.prototype,"_containerPosTop",void 0),s([o()],a.prototype,"_levelsContainer",void 0),a=s([c("esri.widgets.BuildingExplorer.BuildingLevelPicker.BuildingLevelPicker")],a);var ie=a;var C="esri-building-phase-picker",g={base:`${C}`,phasesContainer:`${C}__phases-container`,phase:`${C}__phase`,phaseActive:`${C}__phase--active`,phaseCurrent:`${C}__phase--current`,divider:`${C}__divider`,dividerActive:`${C}__divider--active`,arrowLeft:`${C}__arrow-left`,arrowRight:`${C}__arrow-right`};var ye={nextPhase:"nextPhase",previousPhase:"previousPhase",currentPhase:"{{value}}"},S=class extends p{constructor(e,t){super(e,t),this._phasesContainer=null,this._shouldScrollCurrentPhaseIntoView=!0,this._shouldFocusCurrentPhase=!1,this._onKeyDown=i=>{let{vm:l}=this;switch(i.key){case"ArrowDown":case"ArrowLeft":i.stopPropagation(),i.preventDefault(),l.previous(),this._shouldFocusCurrentPhase=!0;break;case"ArrowUp":case"ArrowRight":i.stopPropagation(),i.preventDefault(),l.next(),this._shouldFocusCurrentPhase=!0}},this._onArrowLeftClick=()=>{this.vm.previous()},this._onArrowRightClick=()=>{this.vm.next()},this._onPhasesContainerAfterCreate=i=>{this._phasesContainer=i,requestAnimationFrame(this._scrollOrFocusPhase)},this._scrollOrFocusPhase=()=>{let i=this._phasesContainer;if(this.destroyed||i==null)return;let l=i.querySelector(`.${g.phaseCurrent}`);if(l){if(this._shouldScrollCurrentPhaseIntoView){let n=i.offsetWidth,d=l.offsetLeft,w=l.offsetWidth;i.scrollLeft=-n/2+d+w/2,this._shouldScrollCurrentPhaseIntoView=!1}this._shouldFocusCurrentPhase&&(l.focus(),this._shouldFocusCurrentPhase=!1)}}}loadDependencies(){return u({action:()=>import("./chunk-X23M5IZ6.js")})}initialize(){this.addHandles(_(()=>[this._currentPhase,this._phasesContainer,this.container],()=>{this._shouldScrollCurrentPhaseIntoView=!0,requestAnimationFrame(this._scrollOrFocusPhase)},b))}get _phases(){return this.vm.allowedValues}get _currentPhase(){let{vm:e}=this;return e.enabled?e.value:null}render(){if(this._phases.length<2)return r("div",{key:"no-phases"});let{vm:e,messages:t}=this,{previousPhase:i,nextPhase:l}=t??ye;return r("div",{class:this.classes(L.widget,g.base),key:this,onkeydown:this._onKeyDown},oe({className:g.arrowLeft,disabled:!e.hasPrevious,icon:"chevron-left",onClick:this._onArrowLeftClick,text:i}),r("div",{afterCreate:this._onPhasesContainerAfterCreate,class:g.phasesContainer},this._renderPhaseButtons()),oe({className:g.arrowRight,disabled:!e.hasNext,icon:"chevron-right",onClick:this._onArrowRightClick,text:l}))}_renderPhaseButtons(){let e=this._phases,t=this._currentPhase,i=[];for(let l=0;l<e.length;++l){let n=e[l],d={phase:n,active:t!=null&&n<=t,current:t!=null&&n===t};l>0&&i.push(this._renderDivider(d)),i.push(this._renderPhaseButton(d))}return i}_renderPhaseButton({phase:e,active:t,current:i}){let{vm:l}=this,n=l.getValueLabel(e);return r("button",{"aria-label":n,class:this.classes(g.phase,{[g.phaseActive]:t,[g.phaseCurrent]:i}),key:`phase-${e}`,onclick:()=>l.select(e),title:n,type:"button"},e)}_renderDivider({phase:e,active:t}){return r("div",{class:this.classes(g.divider,{[g.dividerActive]:t}),key:`phase-divider-${e}`})}};function oe(e){return r("calcite-action",{appearance:"transparent",class:e.className,disabled:e.disabled,icon:e.icon,iconFlipRtl:!0,key:e.className,onclick:e.onClick,scale:"s",text:e.text,textEnabled:!1,title:e.text})}s([o({nonNullable:!0})],S.prototype,"vm",void 0),s([o()],S.prototype,"messages",void 0),s([o()],S.prototype,"_phases",null),s([o()],S.prototype,"_currentPhase",null),s([o()],S.prototype,"_phasesContainer",void 0),S=s([c("esri.widgets.BuildingExplorer.BuildingPhasePicker.BuildingPhasePicker")],S);var le=S;var re={levels:!0,phases:!0,disciplines:!0},h=class extends p{constructor(e,t){super(e,t),this._defaultViewModel=new I,this.viewModel=this._defaultViewModel,this.visibleElements=B({},re),this.headingLevel=3,this.messages=null,this.messagesCommon=null,this.toggleSiblingsVisibility=!1}loadDependencies(){return u({loader:()=>import("./chunk-4Z3TWS6O.js")})}destroy(){this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get layers(){return this.viewModel.layers}set layers(e){this.viewModel.layers=e}_castVisibleElements(e){return B(B({},re),e)}get icon(){return"organization"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}render(){let e=this.viewModel,t=e.state==="disabled"||!e.isSupported;return r("div",{"aria-label":this.messages.widgetLabel,class:W(L.widget,v.base,L.panel,{[L.widgetDisabled]:t}),key:this},this._renderContent())}_renderContent(){let e=this.viewModel,t=this.messages;if(!e.isSupported)return r("p",{class:v.panelError},t.unsupported);if(!e.layers.length)return r("p",{class:v.panelError},t.noData);switch(e.state){case"loading":return this._renderLoadingIndicator();case"ready":return r("div",{class:v.content,key:"content"},this._renderLevelPickerSection(),this._renderPhasePickerSection(),this._renderDisciplinesSection());case"failed":return r("p",{class:v.panelError},t.failed);default:return null}}_renderLoadingIndicator(){let e=this.messagesCommon.loading;return r("div",{"aria-label":e,class:v.loadingContainer,key:"loading-container",role:"presentation",title:e},r("calcite-loader",{label:e,type:"indeterminate"}))}_renderLevelPickerSection(){let e=this.viewModel.level,t=e.state==="ready",i=e.allowedValues.length>1;if(!this.visibleElements.levels||!t||!i)return null;let l=this.messages?.level;return r("div",{class:W(v.section,v.levels),key:"levels"},r(H,{level:this.headingLevel},l?.title),r(ie,{messages:l,vm:e}))}_renderPhasePickerSection(){let e=this.viewModel.phase,t=e.state==="ready",i=e.allowedValues.length>1;if(!this.visibleElements.phases||!t||!i)return null;let l=this.messages.phase;return r("div",{class:W(v.section,v.phases),key:"phases"},r(H,{level:this.headingLevel},l.title),r(le,{messages:l,vm:e}))}_renderDisciplinesSection(){let e=this.viewModel.disciplines,t=e.state==="ready",i=e.root.hasChildren;if(!this.visibleElements.disciplines||!t||!i)return null;let l=this.messages?.disciplines;return r("div",{class:W(v.section,v.disciplines),key:"disciplines"},r(H,{level:this.headingLevel},l.title),r(ee,{messages:l,toggleSiblingsVisibility:this.toggleSiblingsVisibility,vm:e}))}};s([o({type:I})],h.prototype,"viewModel",void 0),s([o()],h.prototype,"view",null),s([o()],h.prototype,"layers",null),s([o()],h.prototype,"visibleElements",void 0),s([X("visibleElements")],h.prototype,"_castVisibleElements",null),s([o()],h.prototype,"headingLevel",void 0),s([o()],h.prototype,"icon",null),s([o()],h.prototype,"label",null),s([o(),F("esri/widgets/BuildingExplorer/t9n/BuildingExplorer")],h.prototype,"messages",void 0),s([o(),F("esri/t9n/common")],h.prototype,"messagesCommon",void 0),s([o({nonNullable:!0})],h.prototype,"toggleSiblingsVisibility",void 0),s([o()],h.prototype,"uiStrings",void 0),h=s([c("esri.widgets.BuildingExplorer")],h);var ys=h;export{ys as default};
