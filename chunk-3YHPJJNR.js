import{c as w}from"./chunk-G7KCDLNH.js";import{a as C}from"./chunk-MIS6QMFE.js";import{a as F}from"./chunk-PEW2PLAN.js";import{a as x}from"./chunk-CX5IFQZJ.js";import{a as R}from"./chunk-BAEF3CT6.js";import{f as a}from"./chunk-CCJU4DSH.js";import{a as e}from"./chunk-QGVBCWUY.js";import{e as o}from"./chunk-NFIPKH6V.js";import{l as p}from"./chunk-5QEXLALV.js";import{r as y}from"./chunk-P6QFA5MM.js";import{b as d}from"./chunk-2LI2GKBQ.js";import{a as D}from"./chunk-VTHXE323.js";var f=class extends a{constructor(){super(...arguments),this.pixelType="unknown"}};e([o({type:String,json:{write:{isRequired:!0}}})],f.prototype,"name",void 0),e([o({type:String,json:{write:!0}})],f.prototype,"description",void 0),e([o({type:y,json:{type:y,write:!0,name:"_object_id"}})],f.prototype,"id",void 0),e([o({type:String,json:{type:w.jsonValues,read:w.read,write:{writer:w.write,isRequired:!0}}})],f.prototype,"pixelType",void 0),e([o({type:String,json:{write:{isRequired:!0}}})],f.prototype,"type",void 0),f=e([p("esri.layers.support.RasterFunctionInfo")],f);var T=f;var c=class extends a{constructor(){super(...arguments),this.isDataset=!1,this.isPublic=!1,this.type="RasterFunctionVariable"}};e([o({type:String,json:{write:!0}})],c.prototype,"name",void 0),e([o({type:Number,json:{type:y,write:!0,name:"_object_id"}})],c.prototype,"id",void 0),e([o({type:Boolean,json:{write:!0}})],c.prototype,"isDataset",void 0),e([o({type:Boolean,json:{write:!0}})],c.prototype,"isPublic",void 0),e([o({json:{write:!0}})],c.prototype,"value",void 0),e([o({type:String,json:{write:!0}})],c.prototype,"type",void 0),c=e([p("esri.layers.support.RasterFunctionVariable")],c);var _=c;var g={key:"type",base:null,typeMap:{RasterFunctionVariable:_}},l=class extends a{};e([o({types:g,json:{types:g,name:"MatchVariable"}})],l.prototype,"matchVariable",void 0),e([o({types:g,json:{types:g,name:"UnionDimension"}})],l.prototype,"unionDimension",void 0),e([o({type:Number,json:{type:y,write:!0,name:"_object_id"}})],l.prototype,"id",void 0),e([o({type:String,json:{write:!0}})],l.prototype,"type",void 0),l=e([p("esri.layers.support.RasterFunctionProperties")],l);var O=l;var h=new R({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0}),i=class extends a{constructor(){super(...arguments),this.description="",this.functionType="mosaic",this.type="RasterFunctionTemplate"}};e([o({type:[String],json:{write:!0}})],i.prototype,"aliases",void 0),e([o({type:Object,json:{write:{isRequired:!0}}})],i.prototype,"arguments",void 0),e([o({type:String,json:{write:{isRequired:!0}}})],i.prototype,"description",void 0),e([o({type:T,json:{write:{isRequired:!0},name:"function"}})],i.prototype,"functionInfo",void 0),e([o({type:h.apiValues,json:{type:[0,1,2],read:h.read,write:{writer:h.write,isRequired:!0}}})],i.prototype,"functionType",void 0),e([o({type:String,json:{write:!0}})],i.prototype,"group",void 0),e([o({type:String,json:{write:!0}})],i.prototype,"help",void 0),e([o({type:Number,json:{type:y,write:!0,name:"_object_id"}})],i.prototype,"id",void 0),e([o({type:String,json:{write:{isRequired:!0}}})],i.prototype,"name",void 0),e([o({type:String,json:{write:!0,name:"definition"}})],i.prototype,"queryDefinition",void 0),e([o({type:String,json:{write:!0}})],i.prototype,"tag",void 0),e([o({type:O,json:{write:!0}})],i.prototype,"properties",void 0),e([o({type:String,json:{write:!0}})],i.prototype,"thumbnail",void 0),e([o({type:String,json:{write:!0}})],i.prototype,"thumbnailEx",void 0),e([o({json:{type:["RasterFunctionTemplate"],write:!0}})],i.prototype,"type",void 0),i=e([p("esri.layers.support.RasterFunctionTemplate")],i);var b=i;var N,j=new Set(["raster","raster2","dem","fillraster"]),v=new Set(["rasters"]),k=t=>t?.rasterFunction?n.fromJSON(t):t,S=t=>t&&t instanceof n?t.toJSON():t,A=t=>t?.functionName&&!t.declaredClass,q=t=>A(t)?new n(t):t,I=t=>{if(t==null)return null;t=d(t);let s={};for(let r of Object.keys(t))j.has(r.toLowerCase())?s[r]=k(t[r]):v.has(r.toLowerCase())&&Array.isArray(t[r])?s[r]=t[r].map(k):s[r]=t[r];return s},U=t=>t?b.fromJSON(D({type:"RasterFunctionTemplate"},t)):void 0,L={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:b}},json:{write:!0,name:"rasterFunctionDefinition",read:U}},n=N=class extends a{constructor(t){super(t),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.functionDefinition=null}set functionArguments(t){if(t){let s=Object.keys(t);if(s.some(r=>j.has(r.toLowerCase())&&A(t[r]))||s.some(r=>v.has(r.toLowerCase())&&Array.isArray(t[r])&&t[r].some(u=>A(u)))){t=d(t);for(let r of s)j.has(r.toLowerCase())?t[r]=q(t[r]):v.has(r.toLowerCase())&&Array.isArray(t[r])&&(t[r]=t[r].map(u=>q(u)))}}this._set("functionArguments",t)}readFunctionArguments(t){return I(t)}writeFunctionArguments(t,s,r){let u={};for(let m of Object.keys(t))j.has(m.toLowerCase())?u[m]=S(t[m]):v.has(m.toLowerCase())&&Array.isArray(t[m])?u[m]=t[m].map(S):u[m]=S(t[m]);s[r]=u}readFunctionName(t,s){let r=s.rasterFunctionInfos;return s.name||(r?.length&&r[0].name!=="None"?r[0].name:s.rasterFunction||s.rasterFunctionDefinition?.name)}get rasterFunctionDefinition(){return this.functionDefinition?.toJSON()}set rasterFunctionDefinition(t){this.functionDefinition=U(t)}get hasClipFunction(){return this.rasterFunctionDefinition?JSON.stringify(this.rasterFunctionDefinition).includes('"type":"ClipFunction"'):JSON.stringify(this).includes('"rasterFunction":"Clip"')}clone(){return new N({functionName:this.functionName,functionArguments:d(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:d(this.rasterFunctionDefinition)})}};e([o({json:{type:Object,name:"rasterFunctionArguments"}})],n.prototype,"functionArguments",null),e([F("functionArguments")],n.prototype,"readFunctionArguments",null),e([x("functionArguments")],n.prototype,"writeFunctionArguments",null),e([o({json:{type:String,write:{target:"rasterFunction"}}})],n.prototype,"functionName",void 0),e([F("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],n.prototype,"readFunctionName",null),e([C({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1,default:"unknown"})],n.prototype,"outputPixelType",void 0),e([o({type:String,json:{read:!0,write:!0}})],n.prototype,"variableName",void 0),e([o()],n.prototype,"rasterFunctionDefinition",null),e([o(L)],n.prototype,"functionDefinition",void 0),e([o()],n.prototype,"hasClipFunction",null),n=N=e([p("esri.layers.support.RasterFunction")],n);var It=n;export{It as a};
