import{a as h}from"./chunk-TCTLHOSE.js";import{a as f}from"./chunk-T7DXJKX7.js";import{a}from"./chunk-QGVBCWUY.js";import{e as d}from"./chunk-NFIPKH6V.js";import{l as c}from"./chunk-5QEXLALV.js";import{a as u,b as m}from"./chunk-VTHXE323.js";var o,i=o=class extends f.EventedMixin(h){constructor(t){super(t),this.cameraTrackingEnabled=!0,this.positionTimezoneInfo={hours:0,minutes:0,seconds:0,autoUpdated:!0};let e=new Date().getFullYear(),n=new Date("March 15, "+e+" 12:00:00 UTC");this._set("defaultDate",n),this._set("date",n)}get defaultDate(){return new Date(this._get("defaultDate").getTime())}static fromWebsceneLighting(t){return new o(t.cloneConstructProperties())}set defaultDate(t){let e=this._get("date")===this._get("defaultDate");t=new Date(t.getTime()),this._set("defaultDate",t),e&&this._set("date",t)}set date(t){t!=null&&(this.positionTimezoneInfo.autoUpdated=!1,this._set("date",new Date(t.getTime())))}autoUpdate(t,e){let n=o.calculateTimezoneOffset(this.positionTimezoneInfo);this.positionTimezoneInfo.hours=e.hours,this.positionTimezoneInfo.minutes=e.minutes,this.positionTimezoneInfo.seconds=e.seconds;let s=null;t!=null&&(this.positionTimezoneInfo.autoUpdated=!0,isNaN(t.getTime())?(s=this.defaultDate.getTime(),this._set("date",this.defaultDate)):(s=this.date&&this.date.getTime(),this._set("date",new Date(t.getTime()))));let r=o.calculateTimezoneOffset(this.positionTimezoneInfo);if(n!==r&&(l.target=this,l.timezoneOffset=r,this.emit("timezone-will-change",l),l.target=null),t!=null)return isNaN(t.getTime())||s!==t.getTime()}clone(){let t=this._get("date")===this._get("defaultDate"),e=new o(m(u({},this.cloneConstructProperties()),{defaultDate:this.defaultDate,cameraTrackingEnabled:this.cameraTrackingEnabled}));return t&&e._set("date",e._get("defaultDate")),e.positionTimezoneInfo.autoUpdated=this.positionTimezoneInfo.autoUpdated,e.positionTimezoneInfo.hours=this.positionTimezoneInfo.hours,e.positionTimezoneInfo.minutes=this.positionTimezoneInfo.minutes,e.positionTimezoneInfo.seconds=this.positionTimezoneInfo.seconds,e}cloneWithWebsceneLighting(t){let e=this.clone();return t.date!=null&&(e.date=t.date),e.directShadowsEnabled=t.directShadowsEnabled,e.displayUTCOffset=t.displayUTCOffset,e}cloneNonPersistentConstructProperties(){return{cameraTrackingEnabled:this.cameraTrackingEnabled}}};a([d({type:Boolean})],i.prototype,"cameraTrackingEnabled",void 0),a([d({type:Date})],i.prototype,"defaultDate",null),a([d({type:Date})],i.prototype,"date",null),i=o=a([c("esri.views.3d.environment.SunLighting")],i),function(t){function e({hours:n,minutes:s,seconds:r}){return Math.round(n+s/60+r/3600)}t.calculateTimezoneOffset=e}(i||(i={}));var l={target:null,timezoneOffset:0},b=i;export{b as a};
