import{a as s}from"./chunk-QGVBCWUY.js";import{H as y}from"./chunk-MYO4NP2N.js";import{e as a}from"./chunk-NFIPKH6V.js";import{l as _}from"./chunk-5QEXLALV.js";import{B as i,d as c,e as m,s as f,u as b}from"./chunk-4PTIEWMT.js";import{f as l}from"./chunk-VTHXE323.js";function H(r,t,n){return i(r.map((e,u)=>t.apply(n,[e,u])))}function R(r,t,n){return l(this,null,function*(){return(yield i(r.map((e,u)=>t.apply(n,[e,u])))).map(e=>e.value)})}function p(r){return{ok:!0,value:r}}function h(r){return{ok:!1,error:r}}function d(r){return r!=null&&r.ok===!0?r.value:null}function v(r){return r!=null&&r.ok===!1?r.error:null}function x(r){return l(this,null,function*(){if(r==null)return{ok:!1,error:new Error("no promise provided")};try{return p(yield r)}catch(t){return h(t)}})}function M(r){return l(this,null,function*(){try{return p(yield r)}catch(t){return f(t),h(t)}})}function O(r){if(r.ok===!0)return r.value;throw r.error}function T(r,t){return new o(r,t)}var o=class extends y{get value(){return d(this._result)}get error(){return v(this._result)}get finished(){return this._result!=null}constructor(r,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=m(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;let{signal:n}=this._abortController;this.promise=r(n),this.promise.then(e=>{this._result=p(e),this._cleanup()},e=>{this._result=h(e),this._cleanup()}),this._abortHandle=b(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=c(this._abortHandle),this._abortController=null}};s([a()],o.prototype,"value",null),s([a()],o.prototype,"error",null),s([a()],o.prototype,"finished",null),s([a()],o.prototype,"promise",void 0),s([a()],o.prototype,"_result",void 0),o=s([_("esri.core.asyncUtils.ReactiveTask")],o);export{H as a,R as b,x as c,M as d,O as e,T as f};
