import{a as _}from"./chunk-EIFP2BIJ.js";import{a as u}from"./chunk-JJTTDHZV.js";import{c as v}from"./chunk-3YMDPTQW.js";import{a as g,b as P}from"./chunk-LORHDXEB.js";import{j as x}from"./chunk-DA3SDKGO.js";import{m as p}from"./chunk-ZQIC5NFT.js";import{a as y,k as h}from"./chunk-TG45K3WR.js";import{b as f}from"./chunk-ACP3S2CH.js";import{a as i}from"./chunk-QGVBCWUY.js";import{e as o}from"./chunk-NFIPKH6V.js";import{l as c}from"./chunk-5QEXLALV.js";import{f as d}from"./chunk-VTHXE323.js";var a=f.ofType(v),t=class extends _{constructor(e){super(e),this.type="dimension",this.style=new u,this.extent=null}initialize(){this.addHandles(y(()=>this._computeExtent(),e=>{e?.pending==null&&this._set("extent",e!=null?e.extent:null)},h))}get dimensions(){return this._get("dimensions")||new a}set dimensions(e){this._set("dimensions",g(e,this.dimensions,a))}get spatialReference(){for(let e of this.dimensions){if(e.startPoint!=null)return e.startPoint.spatialReference;if(e.endPoint!=null)return e.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce((e,s)=>(e.push(s.startPoint,s.endPoint),e),[])}waitComputeExtent(){return d(this,null,function*(){let e=this._computeExtent();return e!=null?e.pending:Promise.resolve()})}_computeExtent(){let e=this.spatialReference;if(e==null)return{pending:null,extent:null};let s=[];for(let n of this.dimensions)n.startPoint!=null&&s.push(n.startPoint),n.endPoint!=null&&s.push(n.endPoint);let r=x(s,e);if(r.pending!=null)return{pending:r.pending,extent:null};let m=null;return r.geometries!=null&&(m=r.geometries.reduce((n,l)=>n==null?l!=null?p.fromPoint(l):null:l!=null?n.union(p.fromPoint(l)):n,null)),{pending:null,extent:m}}clear(){this.dimensions.removeAll()}};i([o({type:["dimension"]})],t.prototype,"type",void 0),i([o({cast:P,type:a,nonNullable:!0})],t.prototype,"dimensions",null),i([o({readOnly:!0})],t.prototype,"spatialReference",null),i([o({types:{key:"type",base:null,typeMap:{simple:u}},nonNullable:!0})],t.prototype,"style",void 0),i([o({value:null,readOnly:!0})],t.prototype,"extent",void 0),i([o({readOnly:!0})],t.prototype,"requiredPropertiesForEditing",null),t=i([c("esri.analysis.DimensionAnalysis")],t);var C=t;export{C as a};
