import{b as g,d as q,e as x,g as E}from"./chunk-GYQWYHEG.js";import{b as c}from"./chunk-JC4DQSN3.js";import{j as v,k as w}from"./chunk-IO35PPBL.js";import{g as y}from"./chunk-F5AJITOA.js";import{b as a}from"./chunk-YOFFGXOB.js";import{a as m,c as l,f as o}from"./chunk-VTHXE323.js";function b(e){return o(this,null,function*(){if(!e?.layer||!e.field&&!e.valueExpression)throw new a("unique-values:missing-parameters","'layer' and 'field' or 'valueExpression' parameters are required");let s=e.valueExpression||e.sqlExpression,t=s&&!e.sqlExpression;if(s){if(t){if(!e.view)throw new a("unique-values:missing-parameters","View is required when 'valueExpression' is specified")}else if(!e.valueExpression)throw new a("unique-values:missing-parameters","'valueExpression' parameters are required")}e.forBinning&&c(e,"unique-values");let d=e,{layer:r}=d,h=l(d,["layer"]),p=e.forBinning?q:g,n=E(r,p,e.forBinning);if(!n)throw new a("unique-values:invalid-parameters","'layer' must be one of these types: "+x(p).join(", "));let i=m({layerAdapter:n},h),L=i.signal!=null?{signal:i.signal}:null;yield n.load(L);let B=yield y({field:i.field,field2:i.field2,field3:i.field3,valueExpression:i.valueExpression}),f=w(n,B,"unique-values:invalid-parameters");if(f)throw f;i.filter&&!i.filter.spatialRelationship&&(i.filter.spatialRelationship="intersects");let u=v(i.filter,"summary-statistics:invalid-parameters");if(u)throw u;return i})}function j(e){return o(this,null,function*(){let r=yield b(e),{layerAdapter:s}=r,t=l(r,["layerAdapter"]);return s.uniqueValues(t)})}export{j as a};
