import{a as c}from"./chunk-5MGNAJ6I.js";import"./chunk-7NTCDIVV.js";import"./chunk-XR5FT7TQ.js";import"./chunk-JQAW4OB5.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import{a as m}from"./chunk-AXYQJCCX.js";import{a as e}from"./chunk-5XCFNEYX.js";import{a as g}from"./chunk-GQL2MBZT.js";import{b as v}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as n}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as a}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as p}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var r="esri-un-validate-topology",i={container:`${r}__container`,content:`${r}__content`,controlsContainer:`${r}__controls-container`,statusIconError:`${r}__status-icon-error`,statusIconSuccess:`${r}__status-icon-success`,statusIconContainer:`${r}__status-icon-container`},s=class extends g{constructor(t,o){super(t,o),this.messages=null,this.viewModel=new c}loadDependencies(){return v({action:()=>import("./chunk-X23M5IZ6.js"),block:()=>import("./chunk-LVVNNI43.js"),icon:()=>import("./chunk-7Z2RNQA3.js"),notice:()=>import("./chunk-PEKK3NZO.js"),option:()=>import("./chunk-MKZWVLGJ.js"),select:()=>import("./chunk-YZG2OI4V.js"),tooltip:()=>import("./chunk-24BDRL23.js")})}get extentToValidate(){return this.viewModel.extentToValidate}set extentToValidate(t){this.viewModel.extentToValidate=t}get icon(){return"check-circle"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.label??""}set label(t){this._overrideIfSome("label",t)}get utilityNetwork(){return this.viewModel.utilityNetwork}set utilityNetwork(t){this.viewModel.utilityNetwork=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){let{viewModel:t}=this;return t.state==="disabled"?e("div",{class:i.container},e("calcite-block",{class:i.content,collapsible:!1,heading:this.label,open:!0},this._renderLoadErrorStatusIcon(),this._renderLoadErrorsNotices())):e("div",{class:i.container},e("calcite-block",{class:i.content,collapsible:!0,heading:this.label,open:!1},this._renderStatusIcon(),this._renderValidateTopologyAction(),this._renderControls()))}_extentOptionSelectChange(t){this.extentToValidate=t.currentTarget.value}_getLoadErrorMessagesAsNotices(t,o){return e("calcite-notice",{closable:!1,key:"error-notice-"+o,kind:"warning",open:!0,scale:"s"},e("div",{slot:"message"},t))}_handleValidateTopologyAction(){this.viewModel.validateTopology().catch(()=>{})}_renderControls(){let{viewModel:t}=this;return t.state==="failed"?e("div",{class:i.controlsContainer},this._renderExtentOptionSelect(),this._renderStatusNotice()):this._renderExtentOptionSelect()}_renderExtentOptionSelect(){let{messages:t,viewModel:o}=this;return e("div",{key:"selectExtentDiv"},e("calcite-select",{bind:this,disabled:o.state==="loading"||o.state==="executing",label:t.input.extentToValidate,onCalciteSelectChange:this._extentOptionSelectChange},e("calcite-option",{value:"current"},t.input.currentExtent),e("calcite-option",{value:"entire"},t.input.entireExtent)))}_renderLoadErrorsNotices(){let{viewModel:t}=this;return e("div",{class:i.controlsContainer,key:"loadErrorsDiv"},t.loadErrors.items.map(this._getLoadErrorMessagesAsNotices))}_renderLoadErrorStatusIcon(){return e("div",{class:i.statusIconContainer,key:"statusDiv",slot:"control"},e("calcite-icon",{class:i.statusIconError,icon:"exclamation-mark-triangle",scale:"s"}))}_renderStatusIcon(){let{messages:t,viewModel:o}=this,l=`${this.id}-validation-status-action`,d=`${this.id}-error-status-icon`,u=`${this.id}-success-status-icon`,h=y=>{setTimeout(()=>{y.textContent=""},3500)};return o.state==="executing"?e("div",{key:"statusDivExecuting",slot:"control"},e("calcite-action",{id:l,loading:!0,text:t.status.executing}),e("calcite-tooltip",{overlayPositioning:"fixed",referenceElement:l},e("span",null,t.status.executing))):o.state==="success"?e("div",{afterCreate:h,class:i.statusIconContainer,key:"statusDivSuccess",slot:"control"},e("calcite-icon",{class:i.statusIconSuccess,icon:"check-circle",id:u,scale:"s"}),e("calcite-tooltip",{referenceElement:u},e("span",null,t.status.success))):o.state==="failed"?e("div",{class:i.statusIconContainer,key:"statusDivFailed",slot:"control"},e("calcite-icon",{class:i.statusIconError,icon:"exclamation-mark-triangle",id:d,scale:"s"}),e("calcite-tooltip",{referenceElement:d},e("span",null,o.executionError))):e("div",{class:i.statusIconContainer,key:"statusDiv",slot:"control"})}_renderStatusNotice(){let{viewModel:t}=this;return e("div",{key:"executionErrorDiv"},e("calcite-notice",{closable:!0,kind:"warning",open:!0,scale:"s"},e("div",{slot:"message"},t.executionError)))}_renderValidateTopologyAction(){let{messages:t,viewModel:o}=this,l=`${this.id}-validation-action`;return e("div",{key:"actionDiv",slot:"control"},e("calcite-action",{bind:this,disabled:o.state==="executing",icon:"play-f",id:l,loading:o.state==="loading",onclick:this._handleValidateTopologyAction,text:t.input.validateTopology}),e("calcite-tooltip",{referenceElement:l},e("span",null,o.state==="loading"?t.status.loading:t.input.validateTopology)))}};n([a()],s.prototype,"extentToValidate",null),n([a()],s.prototype,"icon",null),n([a()],s.prototype,"label",null),n([a(),m("esri/widgets/UtilityNetworkValidateTopology/t9n/UtilityNetworkValidateTopology")],s.prototype,"messages",void 0),n([a()],s.prototype,"utilityNetwork",null),n([a()],s.prototype,"view",null),n([a({type:c})],s.prototype,"viewModel",void 0),s=n([p("esri.widgets.UtilityNetworkValidateTopology")],s);var N=s;export{N as default};
