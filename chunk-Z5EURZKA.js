import{b as n}from"./chunk-2HYVVLKS.js";import{f as o}from"./chunk-VTHXE323.js";function m(e,t,c){return o(this,null,function*(){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=i(e));let u=f(e),s=e.capabilities.query.supportsPagination;t.start=0,t.num=u;let r=null;for(;;){let a=yield e.source.queryFeaturesJSON(t,c);if(r==null?r=a:r.features=r.features.concat(a.features),r.exceededTransferLimit=a.exceededTransferLimit,!s||!a.exceededTransferLimit)break;t.start+=u}return r})}function f(e){return i(e)*d(e)}function d(e){return e.capabilities.query.maxRecordCount||2e3}function i(e){return e.capabilities.query.supportsMaxRecordCountFactor?n.MAX_MAX_RECORD_COUNT_FACTOR:1}export{m as a,f as b};
