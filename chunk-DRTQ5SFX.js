import{a as v}from"./chunk-FSQK4GJN.js";import{a as g}from"./chunk-4YTM754S.js";import{a as u}from"./chunk-U4QEPZJ3.js";import{m as d}from"./chunk-ZQIC5NFT.js";import{a as h}from"./chunk-PEW2PLAN.js";import{a as c}from"./chunk-7F5DJLJT.js";import{a as t}from"./chunk-QGVBCWUY.js";import{e as o}from"./chunk-NFIPKH6V.js";import{l as y}from"./chunk-5QEXLALV.js";import{y as f}from"./chunk-QBWJMFH5.js";function T(r,i){if(r.length===0)return new u({spatialReference:i});let a=[];for(let s of r)for(let p of s.paths)a.push(...p);let l=[];a.forEach((s,p)=>{p!==0&&s[0]===a[p-1][0]&&s[1]===a[p-1][1]||l.push(s)});let{hasM:m,hasZ:n}=r[0];return new u({hasM:m,hasZ:n,paths:[l],spatialReference:i})}var e=class extends g{constructor(r){super(r),this.extent=null,this.features=[],this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(r,i){if(!r)return[];let a=i.summary.envelope.spatialReference??i.spatialReference,l=a&&c.fromJSON(a);return r.map(m=>{let n=v.fromJSON(m);if(n.geometry!=null&&(n.geometry.spatialReference=l),n.events!=null)for(let s of n.events)s.geometry!=null&&(s.geometry.spatialReference=l);return n})}get mergedGeometry(){return this.features?T(this.features.map(({geometry:r})=>r),this.extent.spatialReference):null}get strings(){return this.features.flatMap(({strings:r})=>r).filter(f)}};t([o({type:d,json:{read:{source:"summary.envelope"}}})],e.prototype,"extent",void 0),t([o({nonNullable:!0})],e.prototype,"features",void 0),t([h("features")],e.prototype,"readFeatures",null),t([o()],e.prototype,"geometryType",void 0),t([o({readOnly:!0})],e.prototype,"mergedGeometry",null),t([o()],e.prototype,"routeId",void 0),t([o()],e.prototype,"routeName",void 0),t([o({value:null,readOnly:!0})],e.prototype,"strings",null),t([o({json:{read:{source:"summary.totalDriveTime"}}})],e.prototype,"totalDriveTime",void 0),t([o({json:{read:{source:"summary.totalLength"}}})],e.prototype,"totalLength",void 0),t([o({json:{read:{source:"summary.totalTime"}}})],e.prototype,"totalTime",void 0),e=t([y("esri.rest.support.DirectionsFeatureSet")],e);var G=e;export{G as a};
