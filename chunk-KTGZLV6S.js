import{a as s}from"./chunk-V5NOEZNM.js";import{a as g}from"./chunk-VAJSJAV3.js";import{h as u}from"./chunk-RNC4P66O.js";import{a as d}from"./chunk-U4QEPZJ3.js";import{c as a}from"./chunk-VIEK2X23.js";var l="application/x-mpegURL",E="video/mp4",S="video/webm",t={UASDatalinkLocalSet:1e4,PrecisionTimeStamp:10002,MissionId:10003,PlatformTailNumber:10004,PlatformHeadingAngle:10005,PlatformPitchAngle:10006,PlatformRollAngle:10007,PlatformTrueAirspeed:10008,PlatformIndicatedAirspeed:10009,PlatformDesignation:10010,ImageSourceSensor:10011,ImageCoordinateSystem:10012,SensorLatitude:10013,SensorLongitude:10014,SensorTrueAltitude:10015,SensorHorizontalFOV:10016,SensorVerticalFOV:10017,SensorAzimuthAngle:10018,SensorElevationAngle:10019,SensorRollAngle:10020,PlatformSlantRange:10021,TargetWidth:10022,FrameCenterLatitude:10023,FrameCenterLongitude:10024,FrameCenterElevation:10025,OffsetCorner1Latitude:10026,OffsetCorner1Longitude:10027,OffsetCorner2Latitude:10028,OffsetCorner2Longitude:10029,OffsetCorner3Latitude:10030,OffsetCorner3Longitude:10031,OffsetCorner4Latitude:10032,OffsetCorner4Longitude:10033,TargetLocationLatitude:10040,TargetLocationLongitude:10041,TargetLocationElevation:10042,TargetTrackGateWidth:10043,TargetTrackGateHeight:10044,TargetErrorEstimateHorizontal:10045,TargetErrorEstimateLateral:10046,GenericFlagData:10047,PlatformGroundSpeed:10056,PlatformGroundRange:10057,PlatformRemainingFuel:10058,PlatformCallSign:10059,SensorFOVName:10063,PlatformMagneticHeading:10064,LDSVersionNumber:10065,AlternatePlatformName:10070,EventStartTimeUTC:10072,VMTIDataSet:10074,SensorEllipsoidHeight:10075,OperationalMode:10077,CornerLatitudePoint1:10082,CornerLongitudePoint1:10083,CornerLatitudePoint2:10084,CornerLongitudePoint2:10085,CornerLatitudePoint3:10086,CornerLongitudePoint3:10087,CornerLatitudePoint4:10088,CornerLongitudePoint4:10089,SARMotionImageryMetadata:10095,SecurityClassification:20001,SecurityClassifyingAuthority:20002,SecurityClassifyingCountry:20003,SecuritySCI:20004,SecurityCaveats:20005,SecurityReleaseInstructions:20006,SecurityLDSVersion:20022,EsriVideoWidth:90001,EsriVideoHeight:90002,EsriFrameCenterLatitude:90050,EsriFrameCenterLongitude:90051,EsriCornerLatitudePt1:90052,EsriCornerLongitudePt1:90053,EsriCornerLatitudePt2:90054,EsriCornerLongitudePt2:90055,EsriCornerLatitudePt3:90056,EsriCornerLongitudePt3:90057,EsriCornerLatitudePt4:90058,EsriCornerLongitudePt4:90059,EsriFrameOutline:90060,EsriSensorPosition:90061,EsriHorizonPixelPack:90063,EsriGroundControlPoints:90064};function H(e){let{duration:r,end:n,start:i,timezone:o="UTC"}=e||{};return typeof r!="number"?null:new g({duration:r||null,end:typeof n=="number"?new Date(n):null,start:typeof i=="number"?new Date(i):null,timezone:o})}function D(e,r){let n=[...r],i=n.findIndex(o=>o.equals(e));return i>-1&&n.splice(i),n.push(e),n}function G(e){if(!e?.size)return new s;let r=z(e),n=v(e),i=O(e),o=T(r,n);return new s({frameCenter:n,frameOutline:i,lineOfSight:o,sensorLocation:r})}function M(e){return e?.size?e.get(t.EsriGroundControlPoints)?.value??null??null:null}function R(e){return e?.size?e.get(t.EsriHorizonPixelPack)?.value??null:null}function v(e){return h(e)??y(e)}function b(e){if(!e)return l;let r=e.match(/\.(\w{3,4})(?:$|\?)/i);if(!r)return l;switch(r[1].toLowerCase()){case"mp4":return E;case"webm":return S;default:return l}}function N(e){let r=e?.layers;return r?.length?r.map(n=>({layerId:n.id,posterUrl:n.poster,sourceType:n.serviceType,title:n.name,type:n.type||"Video Layer"})):[]}function h(e){return e&&e.has(t.EsriFrameCenterLatitude)&&e.has(t.EsriFrameCenterLongitude)?new a({x:e.get(t.EsriFrameCenterLongitude).value,y:e.get(t.EsriFrameCenterLatitude).value,z:e.get(t.FrameCenterElevation).value}):null}function y(e){return e&&e.has(t.FrameCenterLatitude)&&e.has(t.FrameCenterLongitude)?new a({x:e.get(t.FrameCenterLongitude)?.value,y:e.get(t.FrameCenterLatitude)?.value,z:e.get(t.FrameCenterElevation)?.value}):null}function O(e){if(!e)return null;let r=e.get(t.EsriFrameOutline)?.value;return r?u.fromJSON(r.geometry):p(e)??F(e)}function p(e){if(!(e.has(t.EsriCornerLatitudePt1)&&e.has(t.EsriCornerLongitudePt1)&&e.has(t.EsriCornerLatitudePt2)&&e.has(t.EsriCornerLongitudePt2)&&e.has(t.EsriCornerLatitudePt3)&&e.has(t.EsriCornerLongitudePt3)&&e.has(t.EsriCornerLatitudePt4)&&e.has(t.EsriCornerLongitudePt4)))return null;let r=[e.get(t.EsriCornerLongitudePt1)?.value,e.get(t.EsriCornerLatitudePt1)?.value],n=[e.get(t.EsriCornerLongitudePt2)?.value,e.get(t.EsriCornerLatitudePt2)?.value],i=[e.get(t.EsriCornerLongitudePt3)?.value,e.get(t.EsriCornerLatitudePt3)?.value],o=[e.get(t.EsriCornerLongitudePt4)?.value,e.get(t.EsriCornerLatitudePt4)?.value];return new u({rings:[[r,n,i,o]]})}function F(e){if(!(e.has(t.OffsetCorner1Latitude)&&e.has(t.OffsetCorner1Longitude)&&e.has(t.OffsetCorner2Latitude)&&e.has(t.OffsetCorner2Longitude)&&e.has(t.OffsetCorner3Latitude)&&e.has(t.OffsetCorner3Longitude)&&e.has(t.OffsetCorner4Latitude)&&e.has(t.OffsetCorner4Longitude)&&e.has(t.FrameCenterLatitude)&&e.has(t.FrameCenterLongitude)))return null;let r=e.get(t.FrameCenterLatitude)?.value,n=e.get(t.FrameCenterLongitude)?.value,i=r+e.get(t.OffsetCorner1Latitude)?.value,o=n+e.get(t.OffsetCorner1Longitude)?.value,f=r+e.get(t.OffsetCorner2Latitude)?.value,L=n+e.get(t.OffsetCorner2Longitude)?.value,C=r+e.get(t.OffsetCorner3Latitude)?.value,m=n+e.get(t.OffsetCorner3Longitude)?.value,c=r+e.get(t.OffsetCorner4Latitude)?.value,P=n+e.get(t.OffsetCorner4Longitude)?.value;return new u({rings:[[[o,i],[L,f],[m,C],[P,c]]]})}function T(e,r){if(!e||!r)return null;let n=[e.x,e.y,e.z??0],i=[r.x,r.y,r.z??0];return new d({paths:[[n,i]]})}function z(e){if(!e?.size)return null;if(e.has(t.EsriSensorPosition)){let r=e.get(t.EsriSensorPosition)?.value;if(r)return a.fromJSON(r.geometry)}return e.has(t.SensorLongitude)&&e.has(t.SensorLatitude)&&e.has(t.SensorTrueAltitude)?new a({x:e.get(t.SensorLongitude)?.value,y:e.get(t.SensorLatitude)?.value,z:e.get(t.SensorTrueAltitude)?.value}):null}export{t as a,H as b,D as c,G as d,M as e,R as f,b as g,N as h};
