import{a as p}from"./chunk-LS3HEJD5.js";import{a as c}from"./chunk-TGSXSDDB.js";import{a as d}from"./chunk-FHBFWDFD.js";import{a as R}from"./chunk-AXYQJCCX.js";import{a as r}from"./chunk-5XCFNEYX.js";import{a as _}from"./chunk-GQL2MBZT.js";import{a as o}from"./chunk-QGVBCWUY.js";import{e as a}from"./chunk-NFIPKH6V.js";import{l as m}from"./chunk-5QEXLALV.js";var i="esri-search-result-renderer",t={base:i,showMoreResults:`${i}__more-results--show-more-results`,moreResults:`${i}__more-results`,moreResultsList:`${i}__more-results-list`,moreResultsHeader:`${i}__more-results-header`,moreResultsItem:`${i}__more-results-item`,moreResultsListHeader:`${i}__more-results-list-header`};var l=class extends _{constructor(e,s){super(e,s),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){let e={[t.showMoreResults]:this.showMoreResultsOpen};return r("div",{class:this.classes(t.base,d.widget)},r("div",{class:this.classes(t.moreResults,e),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return r("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){let e=this.viewModel?.selectedResult,s=e?.name||"";return r("div",{class:t.moreResultsItem,key:"esri-search-renderer__result-name"},s)}_renderMoreResultsLists(){let{viewModel:e}=this;if(!e)return[];let s=e.results;if((e.resultCount??0)<2)return null;let u=s?.map(n=>this._renderMoreResultsList(n));return r("div",{class:t.moreResultsList,key:"esri-search-renderer__more-results-container"},u)}_renderMoreResultsButton(){let{messages:e,viewModel:s}=this;return s?(s.resultCount??0)<2?null:r("div",{class:t.moreResultsItem,key:"esri-search-renderer__more-results-button"},r("a",{bind:this,class:d.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults)):null}_renderMoreResultsHeader(e,s){return r("div",{class:t.moreResultsListHeader,key:`esri-search-result-renderer__header-${s}`},e)}_renderMoreResultsList(e){let{results:s}=e,u=s?.length??0,n=u>0,M=this.viewModel?.selectedResult,h=u===1&&s[0]===M,w=this._getSourceName(e.source,e.sourceIndex),v=(this.viewModel?.results?.length??0)>1&&!h?this._renderMoreResultsHeader(w,e.sourceIndex):null,k=n&&s.map((y,g)=>this._renderMoreResultsListItem(y,g)),f=n&&!h?r("ul",{key:`esri-search-result-renderer__list-${e.sourceIndex}`},k):null;return n?r("div",{key:`esri-search-result-renderer__results-${e.sourceIndex}`},v,f):null}_renderMoreResultsListItem(e,s){let u=this.viewModel?.selectedResult;return e!==u?r("li",{key:`esri-search-result-renderer__list-item-${s}`},r("a",{bind:this,class:d.anchor,"data-result":e,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;let s=this.viewModel?.view?.popup;s&&"reposition"in s&&s.reposition()}_selectResultClick(e){e.preventDefault();let s=e.currentTarget["data-result"];this.viewModel?.select(s)}_getSourceName(e,s){return s===p.ALL_INDEX?this.messages.all:e.name}};o([a(),R("esri/widgets/Search/t9n/Search")],l.prototype,"messages",void 0),o([a()],l.prototype,"showMoreResultsOpen",void 0),o([a()],l.prototype,"viewModel",void 0),o([c()],l.prototype,"_showMoreResultsClick",null),o([c()],l.prototype,"_selectResultClick",null),l=o([m("esri.widgets.Search.SearchResultRenderer")],l);var X=l;export{X as a};
