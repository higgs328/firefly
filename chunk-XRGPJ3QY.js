import{b as c,e as l}from"./chunk-6MRUJ2UW.js";var f=/\{([^}]+)\}/g;function u(t){return t??""}function _(t,e){return e?t.replaceAll(f,typeof e=="object"?(r,n)=>u(c(n,e)):(r,n)=>u(e(n))):t}function w(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>e?.includes(r)?r:`\\${r}`)}function h(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}var a;function k(t){return a??=new DOMParser,a.parseFromString(t||"","text/html").body.innerText||""}function y(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function C(t,...e){let r=t[0];for(let n=0;n<e.length;++n)r+=e[n]+t[n+1];return r}var g={info:0,warn:1,error:2,none:3},i=class t{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,t._loggers.set(this.module,this);let r=this.module.lastIndexOf(".");r!==-1&&(this._parent=t.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,t._loggers.get(e)||new t({module:e})}_log(e,r,...n){if(this._matchLevel(e)){if(r!=="always"&&!t._throttlingDisabled){let o=p(n),s=this._loggedMessages[e].get(o);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=t._tickCounter)return;this._loggedMessages[e].set(o,t._tickCounter),t._scheduleTickCounterIncrement()}for(let o of l.log.interceptors)if(o(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,r){let n=this;for(;n!=null;){let o=n[e];if(o!=null)return o;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",d)}_matchLevel(e){let r=l.log.level||"warn";return g[this._parentWithMember("level",r)]<=g[e]}static _scheduleTickCounterIncrement(){t._tickCounterScheduled||(t._tickCounterScheduled=!0,Promise.resolve().then(()=>{t._tickCounter++,t._tickCounterScheduled=!1}))}};function d(t,e,...r){console[t](`[${e}]`,...r)}function p(...t){return h(JSON.stringify(t,(r,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}i._loggers=new Map,i._tickCounter=0,i._tickCounterScheduled=!1,i._throttlingDisabled=!1;export{_ as a,w as b,h as c,k as d,y as e,C as f,i as g};
