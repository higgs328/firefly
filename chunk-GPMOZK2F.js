import{a as A,b as R,d as V}from"./chunk-6ZTUPVYX.js";import{c as L}from"./chunk-2XTO2IAR.js";import{b as j}from"./chunk-KPT44MCK.js";import{b as S}from"./chunk-YQNUGDFH.js";import{a as I}from"./chunk-RWCIDBNQ.js";import{e as u}from"./chunk-6B5XFA6F.js";import{k as y}from"./chunk-57VFBGF3.js";import{c as x}from"./chunk-PTZYZULI.js";import{a as M,c as w}from"./chunk-BOVYXYHK.js";import{B as O}from"./chunk-MYO4NP2N.js";var _=class{constructor(t,e){this.vec3=t,this.id=e}};function l(f,t,e,o){return new _(w(f,t,e),o)}var T={stableRendering:!1},v={rootOrigin:null};var G=class{constructor(t){this._originSR=t,this._rootOriginId="root/"+O(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){let e=this._origins.get(this._rootOriginId);if(e==null){let n=v.rootOrigin;if(n!=null)return this._origins.set(this._rootOriginId,l(n[0],n[1],n[2],this._rootOriginId)),this.getOrigin(t);let h=l(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,h),h}let o=this._gridSize,c=Math.round(t[0]/o),g=Math.round(t[1]/o),d=Math.round(t[2]/o),m=`${c}/${g}/${d}`,s=this._origins.get(m),a=.5*o;if(u(r,t,e.vec3),r[0]=Math.abs(r[0]),r[1]=Math.abs(r[1]),r[2]=Math.abs(r[2]),r[0]<a&&r[1]<a&&r[2]<a){if(s){let n=Math.max(...r);if(u(r,t,s.vec3),r[0]=Math.abs(r[0]),r[1]=Math.abs(r[1]),r[2]=Math.abs(r[2]),Math.max(...r)<n)return s}return e}return s||(s=l(c*o,g*o,d*o,m),this._origins.set(m,s)),s}_drawOriginBox(t,e=x(1,1,0,1)){let o=window.view,c=o._stage,g=e.toString();if(!this._objects.has(g)){this._material=new V({width:2,color:e}),c.add(this._material);let i=new R(c,{pickable:!1}),p=new A({castShadow:!1});c.add(p),i.add(p),this._objects.set(g,p)}let d=this._objects.get(g),m=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],s=m.length,a=new Array(3*s),n=new Array,h=.5*this._gridSize;for(let i=0;i<s;i++)a[3*i]=t[0]+(1&m[i]?h:-h),a[3*i+1]=t[1]+(2&m[i]?h:-h),a[3*i+2]=t[2]+(4&m[i]?h:-h),i>0&&n.push(i-1,i);y(a,this._originSR,0,a,o.renderSpatialReference,0,s);let b=new L(this._material,[[I.POSITION,new S(a,n,3,!0)]],null,j.Line);c.add(b),d.addGeometry(b)}get test(){}},r=M();export{l as a,T as b,G as c};
