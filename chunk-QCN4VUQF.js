import{d as l,i as z}from"./chunk-67GIWMYL.js";import{e as x,f as I,g as S,j as R}from"./chunk-CISTQZ5X.js";import{a as M,d as V}from"./chunk-H2NTHPNN.js";import{a as g}from"./chunk-342NGUMP.js";import{a as D,i as G}from"./chunk-EM35R6FY.js";import{u as w}from"./chunk-QXXXCEV5.js";import{D as T,b as B,c as h}from"./chunk-6B5XFA6F.js";import{a as c}from"./chunk-BOVYXYHK.js";import{L as v,d as y}from"./chunk-NJWTSROP.js";var o;function P(e,r){if(e==null||r==null)return;let t=b(e,r);return t!=null?l(t,"radians","geographic"):void 0}(function(e){e.Absolute="absolute",e.Relative="relative",e.RelativeBilateral="relative-bilateral"})(o||(o={}));var b=(()=>{let e=c(),r=c();return(t,i)=>(h(e,t.x,t.y,t.z??0),h(r,i.x,i.y,i.z??0),k(e,r,t.spatialReference,i.spatialReference))})(),k=(()=>{let e=D(),r=c(),t=c();return(i,a,f,p)=>{if(T(i,a))return;let n=R(f),u=R(p);if(n&&u&&y(n,u)&&g(i,f,r,n)&&g(a,p,t,u)){let{azimuth:m}=S(Y,r,t,n);return m!=null?v(m,"degrees","radians"):void 0}e[0]=a[0]-i[0],e[1]=a[1]-i[1];let s=w(G,e);return e[0]<0&&(s=_-s),s}})();function te(e,r,t,i=o.Absolute){if(r&&t)switch(i){case o.Absolute:return P(r,t);case o.Relative:return C(j(e,r,t),o.Relative);case o.RelativeBilateral:return C(j(e,r,t),o.RelativeBilateral)}}function j(e,r,t){if(!e||!r||!t)return;let i=b(e,r),a=b(r,t);return i!=null&&a!=null?l(a-i,"radians","geographic"):void 0}function C(e,r){if(e!=null)switch(r){case o.Absolute:return O(e);case o.Relative:{let t=A(e),i=N.normalize(t,0,!0);return i===-180&&(i=180),l(i,"degrees","geographic")}case o.RelativeBilateral:{let t=A(e),i=Math.abs(N.normalize(t,0,!0));return l(i,"degrees","geographic")}}}function O(e){let r=A(e),t=E.normalize(r,0,!0);return l(t,"degrees","geographic")}var re=(()=>{let e=c();return(r,t,i,a,f,p="geodesic")=>{B(e,t);let n=A(f);if(p==="geodesic"){let d=R(i);if(d&&g(e,i,e,d))return I(r,e,n,a,d),r[2]=t[2],!!g(r,d,r,i)}let u=z(n,"geographic","arithmetic"),s=v(u,"degrees","radians"),m=t[0]+a*Math.cos(s),q=t[1]+a*Math.sin(s),F=t[2];return h(r,m,q,F),!0}})();function A(e){if(e!=null)return z(U(e),e.rotationType,"geographic")}function ie(e){if(e!=null)return z(U(e),e.rotationType,"arithmetic")}function U(e){return v(e.value,e.unit,"degrees")}var Y=new x,_=2*Math.PI,E=V,N=new M(-180,180);export{o as a,P as b,k as c,te as d,C as e,O as f,re as g,A as h,ie as i};
