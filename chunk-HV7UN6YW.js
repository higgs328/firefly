import{a as S}from"./chunk-LPJC2UFS.js";import{a as m}from"./chunk-QGVBCWUY.js";import{e as u}from"./chunk-NFIPKH6V.js";import{l as x}from"./chunk-5QEXLALV.js";var p=class extends S{constructor(t){super(t),this.handlesSyncedToPrimary=!0}set primaryHandleEnabled(t){this._set("primaryHandleEnabled",t)}get primaryHandleEnabled(){let{stops:t}=this;if(!t?.length)return!1;let e=t.length;return(e===3||e===5)&&this._get("primaryHandleEnabled")}get values(){let{primaryHandleEnabled:t,stops:e}=this;if(!e?.length||e.length<2)return[];let s=this.getValuesFromStops();return t?s.length===3?[s[0],s[1],s[2]]:[s[0],s[2],s[4]]:[s[0],s[s.length-1]]}setValue(t,e){let{max:s,min:i,values:n}=this,o=n[t];if(isNaN(e)||o===e||e>s||e<i)return;e=this.toPrecision(e);let a=this.primaryHandleEnabled&&this.handlesSyncedToPrimary;if(a){let r=n.slice().sort((d,h)=>d>h?1:-1)[1];(t===0&&e>r||t===2&&e<r)&&(e=r)}let l=this.getStopChanges(t,e);this.updateStops(l),a?this.notifyChange("values"):(n[t]=e,this._set("values",[...n])),this.notifyChange("labels")}getStopIndexFromValueIndex(t){let{handlesSyncedToPrimary:e,primaryHandleEnabled:s}=this;if(s){let{values:i}=this,n=i[t];if(e)return t;let o=i.slice().sort((l,r)=>l>r?1:-1),a=o.indexOf(n);return i.some((l,r)=>l===n&&r!==a)?o.lastIndexOf(n):a}return super.getStopIndexFromValueIndex(t)}getStopChanges(t,e){return this.primaryHandleEnabled?this._getStopChanges(t,e):super.getStopChanges(t,e)}_getStopChanges(t,e){let{max:s,min:i,stops:n,values:o}=this,a=this.handlesSyncedToPrimary&&t===1,l=o[t],r=o.slice();a||(r[t]=e);let d=r.sort((v,f)=>v>f?1:-1),h=a?e:d[1],g=e-l,c=a?this.toPrecision(Math.max(Math.min(d[0]+g,s),i)):d[0],y=a?this.toPrecision(Math.max(Math.min(d[2]+g,s),i)):d[2];return n.length===5?[{index:0,value:c},{index:1,value:this.toPrecision((h+c)/2)},{index:2,value:h},{index:3,value:this.toPrecision((h+y)/2)},{index:4,value:y}]:[{index:0,value:c},{index:1,value:h},{index:2,value:y}]}};m([u()],p.prototype,"handlesSyncedToPrimary",void 0),m([u()],p.prototype,"primaryHandleEnabled",null),m([u({dependsOn:["handlesSyncedToPrimary"],readOnly:!0})],p.prototype,"values",null),p=m([x("esri.widgets.smartMapping.SmartMappingPrimaryHandleSliderViewModel")],p);var _=p;export{_ as a};
