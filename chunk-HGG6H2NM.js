import{c as b}from"./chunk-M575ORV2.js";import{a as x}from"./chunk-WKJYYP4U.js";import{a as y}from"./chunk-U4QEPZJ3.js";import{a as u,k as P}from"./chunk-TG45K3WR.js";import{b as f}from"./chunk-ACP3S2CH.js";import{a as p}from"./chunk-QGVBCWUY.js";import{H as v}from"./chunk-MYO4NP2N.js";import{e as c}from"./chunk-NFIPKH6V.js";import{l as m}from"./chunk-5QEXLALV.js";var h=class extends v{constructor(e){super(e),this._hoveredPoints=new f}initialize(){this.addHandles(u(()=>this._hoveredPoints.toArray().map(({anchor:e,element:o})=>({screenLocation:e.screenLocation,element:o})),e=>{for(let{screenLocation:o,element:r}of e)o&&(r.style.transform=`translate(${o.x}px, ${o.y}px)`)},P))}destroy(){this._hoveredPoints.drain(e=>this._destroyHoveredPoint(e))}update(e){let o=this.view,r=this._hoveredPoints,i=e.length;for(;this._hoveredPoints.length>i;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<i;){let n=this._makeHoveredPoint();r.push(n),o.surface?.appendChild(n.element)}for(let n=0;n<i;++n){let s=r.at(i-1-n),a=e[n];this._updateHoveredPoint(s,a)}}_makeHoveredPoint(){let{size:e,borderStyle:o,borderColor:r,borderWidth:i,boxShadow:n}=b().hoveredPointsStyle,s=this.view,a=new x({view:s,screenLocationEnabled:!0}),d=document.createElement("div"),t=d.style;return t.position="absolute",t.top="0",t.left="0",t.contain="strict",t.boxSizing="border-box",t.width=`${e}px`,t.height=`${e}px`,t.marginTop=`-${e/2}px`,t.marginLeft=`-${e/2}px`,t.border=`${o} ${i}px ${r}`,t.borderRadius=`${e}px`,t.boxShadow=n,{anchor:a,element:d}}_updateHoveredPoint({anchor:e,element:o},r){e.screenLocationEnabled=!0,e.location=r.hoveredPoint;let i=o.style;i.display="block",i.background=r.color.toCss()}_destroyHoveredPoint({anchor:e,element:o}){e.destroy(),this.view.surface?.removeChild(o)}};p([c()],h.prototype,"view",void 0),p([c()],h.prototype,"_hoveredPoints",void 0),h=p([m("esri.widgets.ElevationProfile.support.HoveredPoints")],h);function I(e,o){let r=e.samples??[],i=r.length-1,n=[],s=[];for(let a=0;a<=i;a++){let{x:d,y:t,z:l}=r[a];l!=null&&s.push([d,t,l]),a!==i&&l!=null||!s.length||(n.push(s),s=[])}return new y({paths:n,hasZ:!0,spatialReference:o})}export{h as a,I as b};
