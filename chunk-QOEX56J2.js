import{c as _}from"./chunk-E3FPV7ZA.js";import{a as w}from"./chunk-QIO7OVOF.js";import{a as d}from"./chunk-J3QLC2LP.js";import{a as c}from"./chunk-VBFF4VHB.js";import{a as v}from"./chunk-Q2IUY7EW.js";import{a as f}from"./chunk-6HINJY73.js";import{a as u,k as m}from"./chunk-TG45K3WR.js";import{a as r}from"./chunk-QGVBCWUY.js";import{H as y}from"./chunk-MYO4NP2N.js";import{e as n}from"./chunk-NFIPKH6V.js";import{l as h}from"./chunk-5QEXLALV.js";import{g as p}from"./chunk-XRGPJ3QY.js";import{a,b as l}from"./chunk-VTHXE323.js";var s,i;(function(e){e.Disabled="disabled",e.Ready="ready",e.Error="error"})(s||(s={})),function(e){e.NotVisible="not-visible",e.LocalScene="local-scene",e.NoAtmosphere="no-atmosphere",e.UnsupportedView="unsupported-view"}(i||(i={}));var t=class extends y{constructor(e){super(e),this.view=null,this._weatherByType={sunny:new f,cloudy:new w,rainy:new c,snowy:new v,foggy:new d},this._settingWeather=!1}initialize(){this.addHandles([u(()=>this.current,e=>{this._settingWeather||e==null||(this._weatherByType=l(a({},this._weatherByType),{[e.type]:e}))},m)])}get state(){let e=this.view;return e!=null&&e.ready?this.error!=null?this.error===i.NotVisible?s.Ready:s.Error:s.Ready:s.Disabled}get weatherByType(){return this._weatherByType}get error(){let e=this.view;return e!=null&&e.ready?e.type!=="3d"?i.UnsupportedView:e.viewingMode==="local"?i.LocalScene:e.environment.atmosphereEnabled?e.environment.weatherAvailable?null:i.NotVisible:i.NoAtmosphere:null}get current(){return this._environment?.weather??this._weatherByType.sunny}set current(e){let o=this._environment;o&&(o.weather=e)}get _environment(){let e=this.view;return e!=null&&e.type==="3d"?e.environment:null}setWeatherByType(e){if(!_(e,p.getLogger(this)))return;let o=this._environment;o!=null&&(this._settingWeather=!0,o.weather=this._weatherByType[e],this._settingWeather=!1)}setSnowCoverEnabled(e){let o=this.current;"snowCover"in o&&(o.snowCover=e?"enabled":"disabled")}};r([n()],t.prototype,"view",void 0),r([n()],t.prototype,"state",null),r([n()],t.prototype,"_weatherByType",void 0),r([n()],t.prototype,"weatherByType",null),r([n()],t.prototype,"error",null),r([n()],t.prototype,"current",null),r([n()],t.prototype,"_environment",null),t=r([h("esri.widgets.Weather.WeatherViewModel")],t);var D=t;export{s as a,i as b,D as c};
