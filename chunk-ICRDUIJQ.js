import{a as _}from"./chunk-MCUKK7AH.js";import{a as c,b as y}from"./chunk-ZQ2SHTTW.js";import"./chunk-EPKVBNFW.js";import"./chunk-TGSXSDDB.js";import{a as u}from"./chunk-FHBFWDFD.js";import"./chunk-MDSLION2.js";import{a as h}from"./chunk-AXYQJCCX.js";import{a as l}from"./chunk-5XCFNEYX.js";import{a as x}from"./chunk-GQL2MBZT.js";import{b as w}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{a as g,j as v}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as n}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as s}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as m}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var r="esri-expand",a={base:r,toggle:`${r}__toggle`,popoverContent:`${r}__popover-content`,panel:`${r}__panel`,panelContent:`${r}__panel-content`,sheet:`${r}__sheet`,panelIconNumber:`${r}__panel-icon-number`,contentContainer:`${r}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:`${r}__icon--expanded`,iconNumber:`${r}__icon-number`,content:`${r}__content`,contentExpanded:`${r}__content--expanded`},C="chevrons-left",f="chevrons-right",o=class extends x{constructor(e,i){super(e,i),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.focusTrapDisabled=!1,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new _,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=t=>{t.target===this._popoverEl&&(this.viewModel.expanded=t.currentTarget.open)},this._handleSheetClose=t=>{this.viewModel.expanded=t.currentTarget.open},this._handlePanelClose=t=>{this.viewModel.expanded=!t.currentTarget.closed},this._handleKeyDown=t=>{this.viewModel.expanded&&t.key==="Escape"&&!this._willCloseOnEsc(t)&&t.preventDefault()},this._storeToggleActionEl=t=>{this._toggleActionEl=t},this._storePopoverEl=t=>{this._popoverEl=t}}initialize(){this.addHandles(g(()=>this.viewModel?.view?.size,()=>this._popoverEl?.reposition(),v))}loadDependencies(){return w({action:()=>import("./chunk-X23M5IZ6.js"),icon:()=>import("./chunk-7Z2RNQA3.js"),panel:()=>import("./chunk-GS5FRZ5P.js"),popover:()=>import("./chunk-J5HY7FQ5.js"),sheet:()=>import("./chunk-SX2XBKFA.js")})}get expandTitle(){let{expanded:e,messagesCommon:i,collapseTooltip:t,expandTooltip:p}=this;return(e?t||i?.collapse:p||i?.expand)??""}get _displaySheet(){switch(this.mode){case"drawer":return!0;case"auto":return this.viewModel.view?.widthBreakpoint==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(e){this.viewModel.autoCollapse=e}get collapseIcon(){return f}set collapseIcon(e){this._overrideIfSome("collapseIcon",e)}get expanded(){return this.viewModel.expanded}set expanded(e){this.viewModel.expanded=e}get expandIcon(){return c(this.content)?this.content.icon:C}set expandIcon(e){this._overrideIfSome("expandIcon",e)}get group(){return this.viewModel.group}set group(e){this.viewModel.group=e}get icon(){return null}get label(){return(c(this.content)?this.content.label:null)??this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){let{_displaySheet:e,_toggleActionEl:i,viewModel:{expanded:t},label:p,placement:d}=this;return l("div",{class:this.classes(a.base,u.widget)},this._renderToggle(),e?l("calcite-sheet",{class:a.sheet,heightScale:"l",label:p,onkeydown:this._handleKeyDown,open:t,position:"block-end",onCalciteSheetClose:this._handleSheetClose},l("calcite-panel",{class:a.panel,closable:!0,closed:!t,heading:p,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},l("div",{class:a.panelContent},this._renderContent()))):i?l("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,focusTrapDisabled:this.focusTrapDisabled,label:p,onkeydown:this._handleKeyDown,open:t,overlayPositioning:"fixed",placement:d??this._getPlacement(),referenceElement:i,onCalcitePopoverClose:this._handlePopoverClose},l("div",{class:a.popoverContent},this._renderContent())):null)}_getPlacement(){let{container:e,view:i}=this,t=e&&i?i.ui.getPosition(e):null;if(!t||t==="manual")return"auto";let[p,d]=t.split("-");return`${d==="right"?"left":"right"}-${p==="bottom"?"end":"start"}`}_willCloseOnEsc(e){let{closeOnEsc:i}=this;return typeof i=="function"?i(e):i}_renderBadgeNumber(){let{expanded:e,iconNumber:i}=this;return i&&!e?l("span",{class:a.iconNumber,key:"expand__icon-number"},i):null}_renderToggleButton(){let{expanded:e,expandTitle:i,expandIcon:t,collapseIcon:p}=this,d=e?p:t,b=d===C||d===f;return l("calcite-action",{afterCreate:this._storeToggleActionEl,afterUpdate:this._storeToggleActionEl,class:u.widgetButton,onclick:this.toggle,scale:"s",text:i,title:i},d?l("calcite-icon",{class:this.classes(a.icon,b&&a.iconFlip),icon:d,scale:"s"}):null)}_renderToggle(){return l("div",{class:a.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){let{content:e}=this;return typeof e=="string"?l("div",{class:a.contentContainer,innerHTML:e,key:"content__string"}):c(e)?l("div",{class:a.contentContainer,key:"content__widget"},e.render()):e instanceof HTMLElement?l("div",{afterCreate:this._attachToNode,bind:e,class:a.contentContainer,key:"content__html-element"}):y(e)?l("div",{afterCreate:this._attachToNode,bind:e.domNode,class:a.contentContainer,key:"content__node"}):null}_attachToNode(e){let i=this;e.appendChild(i)}};n([s({readOnly:!0})],o.prototype,"expandTitle",null),n([s()],o.prototype,"_toggleActionEl",void 0),n([s()],o.prototype,"_displaySheet",null),n([s()],o.prototype,"autoCollapse",null),n([s()],o.prototype,"closeOnEsc",void 0),n([s()],o.prototype,"collapseIcon",null),n([s()],o.prototype,"collapseTooltip",void 0),n([s()],o.prototype,"content",void 0),n([s()],o.prototype,"expanded",null),n([s()],o.prototype,"expandIcon",null),n([s()],o.prototype,"expandTooltip",void 0),n([s()],o.prototype,"focusTrapDisabled",void 0),n([s()],o.prototype,"group",null),n([s()],o.prototype,"icon",null),n([s()],o.prototype,"iconNumber",void 0),n([s()],o.prototype,"label",null),n([s(),h("esri/widgets/Expand/t9n/Expand")],o.prototype,"messages",void 0),n([s(),h("esri/t9n/common")],o.prototype,"messagesCommon",void 0),n([s()],o.prototype,"mode",void 0),n([s()],o.prototype,"placement",void 0),n([s()],o.prototype,"view",null),n([s({type:_})],o.prototype,"viewModel",void 0),o=n([m("esri.widgets.Expand")],o);var H=o;export{H as default};
