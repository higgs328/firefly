import{i as F}from"./chunk-OS4DF7SY.js";import{c as C}from"./chunk-M575ORV2.js";import{a as P}from"./chunk-4OC4J3KU.js";import{a as b}from"./chunk-6F25LG6O.js";import{c as N}from"./chunk-VIEK2X23.js";import{L as g,aa as y,ca as S}from"./chunk-NJWTSROP.js";import{a as R}from"./chunk-SLAWDKDA.js";import{a as f,i as z,k as M}from"./chunk-TG45K3WR.js";import{a as U}from"./chunk-T7DXJKX7.js";import{a as i}from"./chunk-QGVBCWUY.js";import{e as o}from"./chunk-NFIPKH6V.js";import{l as _}from"./chunk-5QEXLALV.js";import{d as x}from"./chunk-TG2UTNEO.js";function O(e,l){if(e==null||l==null)return null;let{samples:n,spatialReference:r}=e,{distance:s,elevation:p}=l,v=S(r),a=y(r),m=n.length,c=new Array(m);for(let h=0;h<m;++h){let d=n[h],w=d.sampledZ,E=d.coordinate;c[h]={x:E[0],y:E[1],z:w,distance:D(d.distance,v,s),elevation:u(w,a,p)}}return c}function k(e,l){if(e==null||l==null||e.statistics==null||e.spatialReference==null)return null;let{distance:n,elevation:r}=l,{statistics:s,spatialReference:p}=e,v=S(p),a=y(p);return{maxDistance:D(s.maxDistance,v,n),minElevation:u(s.minElevation,a,r),maxElevation:u(s.maxElevation,a,r),avgElevation:u(s.avgElevation,a,r),elevationGain:u(s.elevationGain,a,r),elevationLoss:u(s.elevationLoss,a,r),maxPositiveSlope:s.maxPositiveSlope,maxNegativeSlope:s.maxNegativeSlope,avgPositiveSlope:s.avgPositiveSlope,avgNegativeSlope:s.avgNegativeSlope}}function D(e,l,n){return e==null?null:g(e*l,"meters",n)}function u(e,l,n){return e==null?null:g(e*l,"meters",n)}var t=class extends U.EventedAccessor{constructor(e){super(e),this.type=null,this.id=R(),this.title=null,this.color=new b("#000000"),this.visible=!0,this._getSamplesMemoized=P((l,n)=>O(l,n)),this._getStatisticsMemoized=P((l,n)=>k(l,n)),this.viewVisualizationEnabled=!0,this.result=null,this.effectiveUnits=null,this.numSamplesForPreview=30,this.numSamplesPerChunk=200,this.chartFillEnabled=!0,this.chartStrokeWidth=1.5,this.chartStrokeOffsetY=0,this._viewModel=null}get progress(){return this.result!=null&&this.visible?this.result.progress:0}get samples(){return this._getSamplesMemoized(this.result,this.effectiveUnits)}get statistics(){return this._getStatisticsMemoized(this.result,this.effectiveUnits)}get hoveredPoint(){let e=this._viewModel?.hoveredChartPosition;return e!=null?this._getPoint(e):null}get available(){return!0}get hasZ(){let e=this.result;return e!=null&&e.hasZ}get minDemResolution(){return C().defaultDemResolution}queryElevation(){throw new Error("not implemented")}attach(e){return this._viewModel=e,x([f(()=>e.effectiveUnits,l=>{this.effectiveUnits=l},M),f(()=>[e.input],()=>this._onChange(),z)])}toggleVisibility(e){this.visible=e===void 0?!this.visible:e}_onChange(){this.emit("change")}_getPoint(e){let{samples:l,result:n}=this;if(l==null||n==null)return null;let r=l.length;if(r===0)return null;let s=l[r-1].distance,p=F(l,e*s,c=>c.distance);if(p==null)return null;let{x:v,y:a,z:m}=p;return m==null?null:new N({x:v,y:a,z:m,spatialReference:n.spatialReference})}};i([o({nonNullable:!0})],t.prototype,"id",void 0),i([o({nonNullable:!0})],t.prototype,"title",void 0),i([o({type:b,nonNullable:!0})],t.prototype,"color",void 0),i([o({nonNullable:!0})],t.prototype,"visible",void 0),i([o({readOnly:!0})],t.prototype,"progress",null),i([o({readOnly:!0})],t.prototype,"samples",null),i([o({readOnly:!0})],t.prototype,"statistics",null),i([o()],t.prototype,"hoveredPoint",null),i([o()],t.prototype,"viewVisualizationEnabled",void 0),i([o()],t.prototype,"available",null),i([o()],t.prototype,"result",void 0),i([o()],t.prototype,"effectiveUnits",void 0),i([o()],t.prototype,"numSamplesForPreview",void 0),i([o()],t.prototype,"numSamplesPerChunk",void 0),i([o()],t.prototype,"chartFillEnabled",void 0),i([o()],t.prototype,"chartStrokeWidth",void 0),i([o()],t.prototype,"chartStrokeOffsetY",void 0),i([o({readOnly:!0})],t.prototype,"hasZ",null),i([o({readOnly:!0})],t.prototype,"minDemResolution",null),i([o()],t.prototype,"_viewModel",void 0),t=i([_("esri.widgets.ElevationProfile.ElevationProfileLine")],t);var ee=t;export{ee as a};
