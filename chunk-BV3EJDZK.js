import{a as f}from"./chunk-M5EGCHOG.js";import{a as _}from"./chunk-OBYF3P4E.js";import{a as w}from"./chunk-FHBFWDFD.js";import"./chunk-H5XONHBB.js";import{a as P}from"./chunk-AXYQJCCX.js";import{a as u}from"./chunk-5XCFNEYX.js";import{a as L}from"./chunk-GQL2MBZT.js";import"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as r}from"./chunk-QGVBCWUY.js";import{a as y}from"./chunk-MYO4NP2N.js";import{e as s}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as C}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import{g as b}from"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as m}from"./chunk-VTHXE323.js";var c="esri-swipe",d={base:c,baseDisabled:`${c}--disabled`,vertical:`${c}--vertical`,horizontal:`${c}--horizontal`,container:`${c}__container`,divider:`${c}__divider`,handle:`${c}__handle`,handleHidden:`${c}__handle--hidden`,handleIcon:`${c}__handle-icon`},M={handle:!0,divider:!0},n=class extends L{constructor(e,t){super(e,t),this.disabled=!1,this.messages=null,this.viewModel=new f,this._pointerOffset=0,this._container=null,y(b.getLogger(this),"Swipe","arcgis-swipe",{version:"4.32"}),this._onContainerPointerDown=this._onContainerPointerDown.bind(this),this._onContainerPointerMove=this._onContainerPointerMove.bind(this),this._onContainerPointerUp=this._onContainerPointerUp.bind(this)}get direction(){return this.viewModel.direction}set direction(e){this.viewModel.direction=e}get dragLabel(){return this.messages?.dragLabel??""}set dragLabel(e){this._overrideIfSome("dragLabel",e)}get icon(){return"compare"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get leadingLayers(){return this.viewModel.leadingLayers}set leadingLayers(e){this.viewModel.leadingLayers=e}get position(){return this.viewModel.position}set position(e){this.viewModel.position=e}get trailingLayers(){return this.viewModel.trailingLayers}set trailingLayers(e){this.viewModel.trailingLayers=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}set visibleElements(e){this._set("visibleElements",m(m({},M),e))}get visibleElements(){return this._get("visibleElements")||M}render(){let{state:e,direction:t}=this.viewModel,i=e==="disabled"||this.disabled,o={[w.disabled]:i,[d.baseDisabled]:i,[d.vertical]:t==="vertical",[d.horizontal]:t==="horizontal"};return u("div",{class:this.classes(d.base,w.widget,o)},e==="disabled"?null:this._renderContainer())}_renderHandle(){let{direction:e}=this.viewModel,{visibleElements:t}=this,i={[_.dragHorizontal]:e==="vertical",[_.dragVertical]:e==="horizontal"},o=this.classes(d.handle,!t.handle&&d.handleHidden);return u("div",{class:o,key:"handle",role:"presentation"},u("span",{"aria-hidden":"true",class:this.classes(d.handleIcon,i)}))}_renderDivider(){let{visibleElements:e}=this;return e&&e.divider?u("div",{class:d.divider,key:"divider",role:"presentation"}):null}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){let{disabled:e,dragLabel:t,viewModel:i}=this,{max:o,min:h,direction:a,position:v}=i,l=`${v}%`,p={top:a==="vertical"?l:void 0,left:a==="vertical"?void 0:l},g=this._renderContent();return u("div",e?{class:d.container,key:"container",role:"presentation",styles:p}:{afterCreate:this._afterContainerCreate,"aria-label":t,"aria-orientation":a,"aria-valuemax":`${o}`,"aria-valuemin":`${h}`,"aria-valuenow":`${v}`,"aria-valuetext":l,bind:this,class:d.container,key:"container",onkeydown:this._onContainerKeyDown,role:"slider",styles:p,tabIndex:0,title:t,"touch-action":"none"},g)}_afterContainerCreate(e){this._container=e,e.addEventListener("pointerdown",this._onContainerPointerDown)}_calculatePointerOffset(e){let{direction:t}=this,i=e.target,o=(t==="vertical"?i.clientHeight:i.clientWidth)/2,h=i.getBoundingClientRect(),a=e.clientX-h.left,v=e.clientY-h.top;this._pointerOffset=t==="vertical"?v-o:a-o}_onContainerPointerDown(e){e.preventDefault(),this._container&&document.activeElement!==this.container&&this._container.focus(),this._calculatePointerOffset(e),document.addEventListener("pointerup",this._onContainerPointerUp),document.addEventListener("pointermove",this._onContainerPointerMove)}_onContainerPointerUp(e){e.preventDefault(),document.removeEventListener("pointerup",this._onContainerPointerUp),document.removeEventListener("pointermove",this._onContainerPointerMove)}_onContainerPointerMove(e){e.preventDefault();let{_pointerOffset:t,container:i,direction:o}=this,{clientX:h,clientY:a}=e,{top:v,left:l,width:p,height:g}=i.getBoundingClientRect(),D=(o==="vertical"?a-v-t:h-l-t)/(o==="vertical"?g:p)*100;this.position=D}_getKeyPosition(e){let{key:t}=e,{position:i}=this,{max:o,min:h,step:a,stepMultiplier:v,direction:l}=this.viewModel,p=a*v;return["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(t)&&(e.preventDefault(),e.stopPropagation()),(l==="vertical"?t==="ArrowDown"||t==="ArrowRight":t==="ArrowUp"||t==="ArrowRight")?i+(e.shiftKey?p:a):(l==="vertical"?t==="ArrowUp"||t==="ArrowLeft":t==="ArrowDown"||t==="ArrowLeft")?i-(e.shiftKey?p:a):t==="Home"?h:t==="End"?o:(l==="vertical"?t==="PageDown":t==="PageUp")?i+p:(l==="vertical"?t==="PageUp":t==="PageDown")?i-p:null}_onContainerKeyDown(e){let t=this._getKeyPosition(e);typeof t=="number"&&(this.position=t)}};r([s()],n.prototype,"direction",null),r([s()],n.prototype,"disabled",void 0),r([s()],n.prototype,"dragLabel",null),r([s()],n.prototype,"icon",null),r([s()],n.prototype,"label",null),r([s()],n.prototype,"leadingLayers",null),r([s(),P("esri/widgets/Swipe/t9n/Swipe")],n.prototype,"messages",void 0),r([s()],n.prototype,"position",null),r([s()],n.prototype,"trailingLayers",null),r([s()],n.prototype,"view",null),r([s({type:f})],n.prototype,"viewModel",void 0),r([s()],n.prototype,"visibleElements",null),n=r([C("esri.widgets.Swipe")],n);var W=n;export{W as default};
