import{a as g}from"./chunk-7IOOWZFM.js";import{a as v,b as T,c as L}from"./chunk-PTFN55DA.js";import{a as s}from"./chunk-DXDHIMTP.js";import{a as b}from"./chunk-6LW5LY2X.js";import{a as u,c as h,d as f}from"./chunk-JA4ASPSI.js";import{a as n}from"./chunk-TUUOR3MF.js";import{a as l}from"./chunk-G4DZJMGT.js";import{a as c}from"./chunk-T7DXJKX7.js";import{a as t}from"./chunk-QGVBCWUY.js";import{H as y}from"./chunk-MYO4NP2N.js";import{e as o}from"./chunk-NFIPKH6V.js";import{l as m}from"./chunk-5QEXLALV.js";import{j as d}from"./chunk-P6QFA5MM.js";import{b as i}from"./chunk-4PTIEWMT.js";import{g as p}from"./chunk-XRGPJ3QY.js";var w={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function C(e){let r=null;if(typeof e=="string")if(e in w){let E=w[e];r=new s({resourceInfo:{data:{layers:[E]}}})}else p.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else r=d(s,e);return r}var a=class extends f(h(c.EventedMixin(y))){constructor(e){super(e),this.allLayers=new n({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=u(this),this.basemap=null,this.editableLayers=new n({getCollections:()=>[this.allLayers],itemFilterFunction:g}),this.ground=new s,this._basemapCache=v()}destroy(){T(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=i(this.basemap),i(this.ground),this._set("ground",null)}castBasemap(e){return L(e,this._basemapCache)}castGround(e){return C(e)??this._get("ground")}findLayerById(e){return this.allLayers.find(r=>r.id===e)}findTableById(e){return this.allTables.find(r=>r.id===e)}};t([o({readOnly:!0,dependsOn:[]})],a.prototype,"allLayers",void 0),t([o({readOnly:!0})],a.prototype,"allTables",void 0),t([o({type:b,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],a.prototype,"basemap",void 0),t([l("basemap")],a.prototype,"castBasemap",null),t([o({readOnly:!0})],a.prototype,"editableLayers",void 0),t([o({type:s,nonNullable:!0})],a.prototype,"ground",void 0),t([l("ground")],a.prototype,"castGround",null),t([o()],a.prototype,"undoRedo",void 0),a=t([m("esri.Map")],a);var K=a;export{K as a};
