import{c as Ae}from"./chunk-GWBRHLNH.js";import{b as se,i as Pe,j as oe,m as ce}from"./chunk-EQZWYK27.js";import{A as Ee,D as ue,a as $,ca as Re,d as ee,j as te,m as re,n as ae,p as ne,r as Ce,y as Se,z as le}from"./chunk-NJWTSROP.js";import{a as _,b as y,c as x}from"./chunk-ARRCN5K3.js";var e;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(e||(e={}));var Ie={[e.WGS84]:{[e.CGCS2000]:S,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:H,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:O,[e.PLATE_CARREE]:N,[e.WGS84]:S,[e.WGS84_ECEF]:G},[e.CGCS2000]:{[e.CGCS2000]:S,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:H,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:O,[e.PLATE_CARREE]:N,[e.WGS84]:S,[e.WGS84_ECEF]:G},[e.GCSMARS2000]:{[e.CGCS2000]:null,[e.GCSMARS2000]:S,[e.GCSMOON2000]:null,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:D,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.GCSMOON2000]:{[e.CGCS2000]:null,[e.GCSMARS2000]:null,[e.GCSMOON2000]:S,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:v,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.WEB_MERCATOR]:{[e.CGCS2000]:p,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:p,[e.SPHERICAL_ECEF]:Oe,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:S,[e.PLATE_CARREE]:Le,[e.WGS84]:p,[e.WGS84_ECEF]:Ne},[e.WGS84_ECEF]:{[e.CGCS2000]:F,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:F,[e.SPHERICAL_ECEF]:We,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:fe,[e.PLATE_CARREE]:He,[e.WGS84]:F,[e.WGS84_ECEF]:S},[e.SPHERICAL_ECEF]:{[e.CGCS2000]:L,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:L,[e.SPHERICAL_ECEF]:S,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:Ge,[e.PLATE_CARREE]:de,[e.WGS84]:L,[e.WGS84_ECEF]:Fe},[e.SPHERICAL_MARS_PCPF]:{[e.CGCS2000]:null,[e.GCSMARS2000]:J,[e.GCSMOON2000]:null,[e.LON_LAT]:J,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:S,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.SPHERICAL_MOON_PCPF]:{[e.CGCS2000]:null,[e.GCSMARS2000]:null,[e.GCSMOON2000]:z,[e.LON_LAT]:z,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:S,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.UNKNOWN]:{[e.CGCS2000]:null,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:null,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:S,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.LON_LAT]:{[e.CGCS2000]:S,[e.GCSMARS2000]:S,[e.GCSMOON2000]:S,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:H,[e.SPHERICAL_MARS_PCPF]:D,[e.SPHERICAL_MOON_PCPF]:v,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:O,[e.PLATE_CARREE]:N,[e.WGS84]:S,[e.WGS84_ECEF]:G},[e.PLATE_CARREE]:{[e.CGCS2000]:h,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:h,[e.SPHERICAL_ECEF]:me,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:Ue,[e.PLATE_CARREE]:S,[e.WGS84]:h,[e.WGS84_ECEF]:Ke}};function Q(t,n){return pe(t,n)?.projector}function pe(t,n){if(t==null||n==null)return null;if(o.source.spatialReference===t&&o.dest.spatialReference===n)return o;let r=_e(t,o.source),a=_e(n,o.dest);return r===e.UNKNOWN&&a===e.UNKNOWN?ee(t,n)?o.projector=S:o.projector=null:o.projector=Ie[r][a],o}function xe(t,n){switch(Q(t,n)){case S:return"copy3";case H:return"wgs84ToSphericalECEF";case O:return"wgs84ToWebMercator";case N:return"wgs84ToPlateCarree";case G:return"wgs84ToWGS84ECEF";case p:return"webMercatorToWGS84";case Oe:return"webMercatorToSphericalECEF";case Ne:return"webMercatorToWGS84ECEF";case Le:return"webMercatorToPlateCarree";case F:return"wgs84ECEFToWGS84";case We:return"wgs84ECEFToSphericalECEF";case fe:return"wgs84ECEFToWebMercator";case L:return"sphericalECEFToWGS84";case Ge:return"sphericalECEFToWebMercator";case J:return"sphericalMarsPCPFToMars2000";case z:return"sphericalMoonPCPFToMoon2000";case Fe:return"sphericalECEFToWGS84ECEF";case D:return"mars2000ToSphericalPCPF";case v:return"moon2000ToSphericalPCPF";default:return null}}function _e(t,n){return t?n.spatialReference===t?n.spatialReferenceId:(n.spatialReference=t,"metersPerUnit"in n&&(n.metersPerUnit=Re(t,1)),ue(t)?n.spatialReferenceId=e.SPHERICAL_ECEF:te(t)?n.spatialReferenceId=e.WGS84:re(t)?n.spatialReferenceId=e.WEB_MERCATOR:ae(t)?n.spatialReferenceId=e.PLATE_CARREE:t.wkt===Ee.wkt?n.spatialReferenceId=e.WGS84_ECEF:t.wkid===$.CGCS2000?n.spatialReferenceId=e.CGCS2000:t.wkt===Se.wkt?n.spatialReferenceId=e.SPHERICAL_MARS_PCPF:t.wkt===le.wkt?n.spatialReferenceId=e.SPHERICAL_MOON_PCPF:ne(t)?n.spatialReferenceId=e.GCSMARS2000:Ce(t)?n.spatialReferenceId=e.GCSMOON2000:n.spatialReferenceId=e.UNKNOWN):e.UNKNOWN}function S(t,n,r,a){t!==r&&(r[a++]=t[n++],r[a++]=t[n++],r[a]=t[n])}function p(t,n,r,a){r[a]=m*(t[n]/W),r[a+1]=m*(Te-2*Math.atan(Math.exp(-t[n+1]/W))),r[a+2]=t[n+2]}function Oe(t,n,r,a){let E=t[n]/W,l=Te-2*Math.atan(Math.exp(-t[n+1]/W)),u=W+t[n+2],C=Math.cos(l)*u;r[a]=Math.cos(E)*C,r[a+1]=Math.sin(E)*C,r[a+2]=Math.sin(l)*u}function Ne(t,n,r,a){p(t,n,r,a),G(r,a,r,a)}function he(t,n,r,a,E){let l=.4999999*Math.PI,u=se(d*t[n+1],-l,l),C=Math.sin(u);r[a++]=d*t[n]*E.radius,r[a++]=E.halfSemiMajorAxis*Math.log((1+C)/(1-C)),r[a]=t[n+2]}function O(t,n,r,a){he(t,n,r,a,_)}function N(t,n,r,a){r[a]=t[n]*ie,r[a+1]=t[n+1]*ie,r[a+2]=t[n+2]}function h(t,n,r,a){r[a]=t[n]*Me,r[a+1]=t[n+1]*Me,r[a+2]=t[n+2]}function Le(t,n,r,a){p(t,n,r,a),N(r,a,r,a)}function He(t,n,r,a){F(t,n,r,a),N(r,a,r,a)}function de(t,n,r,a){L(t,n,r,a),N(r,a,r,a)}function me(t,n,r,a){h(t,n,r,a),H(r,a,r,a)}function Ue(t,n,r,a){h(t,n,r,a),O(r,a,r,a)}function Ke(t,n,r,a){h(t,n,r,a),G(r,a,r,a)}function V(t,n,r,a,E){let l=E+t[n+2],u=d*t[n+1],C=d*t[n],R=Math.cos(u)*l;r[a]=Math.cos(C)*R,r[a+1]=Math.sin(C)*R,r[a+2]=Math.sin(u)*l}function v(t,n,r,a){V(t,n,r,a,x.radius)}function D(t,n,r,a){V(t,n,r,a,y.radius)}function H(t,n,r,a){V(t,n,r,a,_.radius)}function X(t,n,r,a,E){let l=t[n],u=t[n+1],C=t[n+2],R=Math.sqrt(l*l+u*u+C*C),P=ce(C/(R===0?1:R)),s=Math.atan2(u,l);r[a++]=m*s,r[a++]=m*P,r[a]=R-E}function z(t,n,r,a){X(t,n,r,a,x.radius)}function J(t,n,r,a){X(t,n,r,a,y.radius)}function L(t,n,r,a){X(t,n,r,a,_.radius)}function Ge(t,n,r,a){L(t,n,r,a),O(r,a,r,a)}function Fe(t,n,r,a){L(t,n,r,a),G(r,a,r,a)}function we(t,n,r,a,E){let l=d*t[n],u=d*t[n+1],C=t[n+2],R=Math.sin(u),P=Math.cos(u),s=E.radius/Math.sqrt(1-E.eccentricitySquared*R*R);r[a++]=(s+C)*P*Math.cos(l),r[a++]=(s+C)*P*Math.sin(l),r[a++]=(s*(1-E.eccentricitySquared)+C)*R}function G(t,n,r,a){we(t,n,r,a,_)}function F(t,n,r,a){let E=Ae,l=t[n],u=t[n+1],C=t[n+2],R,P,s,i,M,w,K,c,A,U,g,B,b,f,T,j,k,q,I,Y,Z;R=Math.abs(C),P=l*l+u*u,s=Math.sqrt(P),i=P+C*C,M=Math.sqrt(i),Y=Math.atan2(u,l),w=C*C/i,K=P/i,f=E.a2/M,T=E.a3-E.a4/M,K>.3?(c=R/M*(1+K*(E.a1+f+w*T)/M),I=Math.asin(c),U=c*c,A=Math.sqrt(1-U)):(A=s/M*(1-w*(E.a5-f-K*T)/M),I=Math.acos(A),U=1-A*A,c=Math.sqrt(U)),g=1-_.eccentricitySquared*U,B=_.radius/Math.sqrt(g),b=E.a6*B,f=s-B*A,T=R-b*c,k=A*f+c*T,j=A*T-c*f,q=j/(b/g+k),I+=q,Z=k+j*q/2,C<0&&(I=-I),r[a++]=m*Y,r[a++]=m*I,r[a]=Z}function We(t,n,r,a){F(t,n,r,a),H(r,a,r,a)}function fe(t,n,r,a){F(t,n,r,a),O(r,a,r,a)}var o={source:{spatialReference:null,spatialReferenceId:e.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:e.UNKNOWN,metersPerUnit:1},projector:S},d=Pe(1),m=oe(1),Te=.5*Math.PI,W=_.radius,ie=W*Math.PI/180,Me=180/(W*Math.PI);function ze(t,n,r,a,E,l,u=Math.floor(t.length/3)){let C=Q(n,E);if(C==null)return!1;if(C===S){if(t===a&&r===l)return!0;let P=r+3*u;for(let s=r,i=l;s<P;s++,i++)a[i]=t[s];return!0}let R=r+3*u;for(let P=r,s=l;P<R;P+=3,s+=3)C(t,P,a,s);return!0}export{e as a,Ie as b,Q as c,pe as d,xe as e,S as f,he as g,O as h,X as i,Me as j,ze as k};
