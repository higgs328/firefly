import{a as x}from"./chunk-PCYNPIKE.js";import{d as O}from"./chunk-OLOKUDVI.js";import{e as A}from"./chunk-TG45K3WR.js";import{f as T}from"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import{j as E}from"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import{L as w,O as M,l as y,r,u as v,z as g}from"./chunk-4PTIEWMT.js";import{a as h}from"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{f as u}from"./chunk-VTHXE323.js";function N(b,k){return u(this,arguments,function*(t,e,o={}){function s(p){return u(this,null,function*(){let f=z(t),{tooltipOptions:i}=t;if(e==="coordinates"?(e="x",i.xyMode="coordinates"):e!=="direction"&&e!=="distance"||(i.xyMode="direction-distance"),yield E(),r(o)||r(p))return;let n=f?.tooltip;if(!n||!f.activeTooltipInfo?.editableFields?.find(a=>a.name===e))return;let{handle:C,promise:F}=j(n,o),m=w(),I=v(o.signal,m.resolve),H=v(p,m.resolve),L=i.offset,P=n.position;try{if(i.forceEnabled=!0,yield M(),o.position&&(i.offset=0,n.position=O(o.position[0],o.position[1])),yield n.enterInputMode(e),r(o)||r(p))return;o.onOpen?.(),yield Promise.race([A(()=>f.destroyed||n.content?.mode==="feedback",o),F,m.promise])}finally{I?.remove(),H?.remove(),C.remove();let a=n.outerContainer.contains(document.activeElement);i.enabled?yield n.exitInputMode({focusOnView:a}):a&&t.view?.focus(),o.onClose?.(),n.position=P,i.offset=L,i.forceEnabled=!1}})}let l=c.get(t);l&&(l.abort(),yield l.promise);let d=T(s);return c.set(t,d),d.promise.catch(g).finally(()=>{c.get(t)===d&&c.delete(t)})})}var c=new Map,V={area:!1,distance:!1,direction:!1,elevation:!1,orientation:!1,radius:!1,rotation:!1,scale:!1,size:!1,totalLength:!1,coordinates:!1,helpMessage:!1,header:!1};function Q(t){t.tooltipOptions.visibleElements=new x(V)}function j(t,{hideOnBlur:e=!0}){let o=w();if(!e)return{promise:o.promise,handle:h()};let{outerContainer:b}=t,k=y(b,"focusout",({relatedTarget:s})=>{s instanceof HTMLElement&&b.contains(s)||o.resolve()});return{promise:o.promise,handle:k}}function z(t){let{activeComponent:e}=t;return e&&"tooltip"in e&&"activeTooltipInfo"in e&&"destroyed"in e?e:null}export{Q as hideAllVisibleElements,N as showTooltipAndFocusField};
