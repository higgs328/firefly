import{a as N,b as q,h as B,i as R}from"./chunk-FKASYKK7.js";import"./chunk-LAAJ7BOG.js";import{D as i,F as P,ca as l,ja as M,ma as k,mb as U,na as C,oa as O,pa as w,qa as D,ra as E,rb as a}from"./chunk-A2QQP5DF.js";import{a as S,c as T}from"./chunk-LTHAIW3V.js";import"./chunk-RRQS6PLL.js";import{K as u,ea as v}from"./chunk-WFHQTMIY.js";import{a as _}from"./chunk-XAZOVQGA.js";import{b as n,m as b,z as I}from"./chunk-V3KEO7AJ.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import"./chunk-KVM6SHDX.js";import"./chunk-EQZWYK27.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import"./chunk-G4DZJMGT.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import{y as x}from"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var c=class{getOperatorType(){return 10009}supportsCurves(){return!0}accelerateGeometry(e,s,m){return!1}canAccelerateGeometry(e){return!1}executeMany(e,s,m,r=0){return new y(e,s,m,r)}},y=class extends S{constructor(e,s,m,r){super(),this.m_shape=new P,this.m_currentGeom=i,this.m_progressCounter=0,this.m_geomIndex=-1,this.m_geomTypeIndex=-1,this.m_index=-1,this.m_bBuilt=!1,this.m_bOutputOnlyModified=!1,this.m_bSimplifyPolygons=!1,this.m_bSnapToSr=!1,this.m_progressTracker=m,this.m_inputGeometries=e,this.m_sr=s,this.m_options=r,r===1||r===2?(this.m_bOutputOnlyModified=!0,this.m_options=0,this.m_bSimplifyPolygons=!0,this.m_bSnapToSr=s!=null&&r===2,this.m_bSnapToSr&&!U()&&b("PE is required for snapping to spatial reference operation")):r===0&&(this.m_bSimplifyPolygons=!0)}progress_(e=!1){}tock(){return!0}getRank(){return 1}moveToNextGeom(){for(;;){if(this.m_bBuilt?this.m_currentGeom=this.m_shape.getNextGeometry(this.m_currentGeom):(this.m_currentGeom=this.m_shape.getFirstGeometry(),this.m_bBuilt=!0),this.m_currentGeom!==i){let e=!1;if(this.m_bSimplifyPolygons&&this.m_shape.getGeometryType(this.m_currentGeom)===n.enumPolygon&&(e=l(this.m_shape,this.m_currentGeom,-1,!1,i,this.m_progressTracker)),this.m_bOutputOnlyModified&&!e&&!this.m_shape.getGeometryModified(this.m_currentGeom))continue}break}}next(){if(this.m_bBuilt)this.moveToNextGeom();else{this.m_geomIndex=this.m_shape.createGeometryUserIndex();let e=new _;for(let t=this.m_inputGeometries.next();t!=null;t=this.m_inputGeometries.next()){this.progress_(),I(t);let g=!1;this.m_bSnapToSr&&(t=t.clone(),g=a(this.m_sr,t));let p=this.m_shape.addGeometry(t);this.m_shape.setGeometryUserIndex(p,this.m_geomIndex,this.m_inputGeometries.getGeometryID());let G=t.getGeometryType();G===n.enumPoint&&(this.m_geomTypeIndex===-1&&(this.m_geomTypeIndex=this.m_shape.createGeometryUserIndex()),this.m_shape.setGeometryUserIndex(p,this.m_geomTypeIndex,G));let d=new _;t.queryLooseEnvelope(d),e.mergeEnvelope2D(d),g&&this.m_shape.setGeometryModified(p,!0)}let s=u(this.m_sr,e,!0),m=u(this.m_sr,e,!1);e.inflate(10*s.total()),this.m_shape.forceSetEnvelope2D(e);let r=null,h=0,f=0;if(this.m_shape.hasCurves()){r=new w;let t=k(s.total(),e);h=C(s.total()),f=O(t,h),M(this.m_shape,t,s.total(),12e3,r,null,this.m_progressTracker)}if(E(this.m_shape,m,this.m_progressTracker)){if(D(this.m_shape,s.add(f),this.m_progressTracker,this.m_options===0,this.m_bOutputOnlyModified),r!==null){if(this.m_bSimplifyPolygons){for(let t=this.m_shape.getFirstGeometry();t!==i;t=this.m_shape.getNextGeometry(t))this.m_shape.getGeometryType(t)===n.enumPolygon&&l(this.m_shape,t,-1,!1,i,this.m_progressTracker)&&this.m_shape.setGeometryModified(t,!0);this.m_bSimplifyPolygons=!1}r.stitchCurves(this.m_shape,i,h,!0),r.clearStitcher(this.m_shape)}}else this.m_bSimplifyPolygons=!1,r!==null&&(r.stitchCurves(this.m_shape,i,h,!0),r.clearStitcher(this.m_shape));this.moveToNextGeom()}if(this.m_currentGeom!==i){if(this.m_index=this.m_shape.getGeometryUserIndex(this.m_currentGeom,this.m_geomIndex),this.m_geomTypeIndex!==-1&&this.m_shape.getGeometryUserIndex(this.m_currentGeom,this.m_geomTypeIndex)===n.enumPoint){let e=new v({vd:this.m_shape.getVertexDescription()});return this.m_shape.queryPointGeometryOnly(this.m_currentGeom,e),this.m_bSnapToSr&&a(this.m_sr,e),e}{let e=this.m_shape.getGeometry(this.m_currentGeom);return this.m_bSnapToSr&&a(this.m_sr,e),e}}return null}getGeometryID(){return this.m_index}},A=new c;function F(o,e,s){let m=A.executeMany(new T(o),e,null,s);return Array.from(m)}function L(){return A.supportsCurves()}function Z(o){let e=o.map(q),s=N(o);return F(e,B(s)).map(m=>R(m,s)).filter(x)}var $=L();export{Z as executeMany,$ as supportsCurves};
