import{a as l}from"./chunk-6ZSLG6BI.js";import{a as y}from"./chunk-DDZ3KR2Q.js";import{o as p}from"./chunk-AUAZP44J.js";import{g as h}from"./chunk-KNVXE32P.js";import{o as f}from"./chunk-76ATOSLU.js";import{a as s,b as i,f as u}from"./chunk-VTHXE323.js";function b(r){let t=r.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t.orderByFields&&(t.orderByFields=t.orderByFields.join(",")),t}function T(r,t){let e={};for(let a of t){let{parentObjectId:o,parentGlobalId:n,attachmentInfos:m}=a;for(let c of m){let{id:I}=c,j=f(h(`${r.path}/${o}/attachments/${I}`)),d=l.fromJSON(c);d.set({url:j,parentObjectId:o,parentGlobalId:n}),e[o]?e[o].push(d):e[o]=[d]}}return e}function g(r,t,e){let a={query:y(s(i(s({},r.query),{f:"json"}),b(t)))};return e&&(a=i(s(s({},e),a),{query:s(s({},e.query),a.query)})),p(r.path+"/queryAttachments",a).then(o=>o.data.attachmentGroups)}function w(r,t,e){return u(this,null,function*(){let{objectIds:a}=t,o=[];for(let n of a)o.push(p(r.path+"/"+n+"/attachments",e));return Promise.all(o).then(n=>a.map((m,c)=>({parentObjectId:m,attachmentInfos:n[c].data.attachmentInfos})))})}export{T as a,g as b,w as c};
