import{B as c}from"./chunk-WCHIR27X.js";import{a as n}from"./chunk-2TX472ZB.js";import{o as m,r as f}from"./chunk-4PTIEWMT.js";import{g as a}from"./chunk-XRGPJ3QY.js";import{f as i}from"./chunk-VTHXE323.js";function d(r,t,s){return i(this,null,function*(){let e=r.layer;if(c(e)){let l=yield e.fetchTile(t[0],t[1],t[2],s);if(f(s))throw a.getLogger(r).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),m();return l}let o=r.getTileUrl(t);n(e)&&e.refreshTimestamp&&(o+=`${o.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);let h=r.hasMixedImageFormats?"image+type":"image";return s.requester.request(o,h,s)})}export{d as a};
