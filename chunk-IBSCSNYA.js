import{d as r}from"./chunk-ONYJLWAD.js";var a=class{constructor(t,s){this._material=t,this._repository=s,this._map=new Map}dispose(){this._map.forEach((t,s)=>{t!=null&&this._repository.release(this._material,s)})}load(t,s,e){if(!this._material.produces.get(s)?.(e))return null;this._map.has(e)||this._map.set(e,this._repository.acquire(this._material,s,e));let i=this._map.get(e);if(i!=null){if(i.ensureResources(t)===r.LOADED)return i;this._repository.requestRender()}return null}};export{a};
