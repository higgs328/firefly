import{a as j}from"./chunk-BBBPJI4H.js";import{a as g}from"./chunk-5XTCPT52.js";import{a as v}from"./chunk-MIS6QMFE.js";import{a as p}from"./chunk-DKGGDYJI.js";import{c as w,d as S}from"./chunk-PVDFCTA4.js";import{a as r}from"./chunk-QGVBCWUY.js";import{e as l}from"./chunk-NFIPKH6V.js";import{l as d}from"./chunk-5QEXLALV.js";import{p as b}from"./chunk-4PTIEWMT.js";import{b as f}from"./chunk-YOFFGXOB.js";import{g as u}from"./chunk-XRGPJ3QY.js";import{a,b as m,f as n}from"./chunk-VTHXE323.js";var y,o=y=class extends g{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){let t=this.portal!=null?this.portal:p.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new y({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){let e=t&&"acceptedFormats"in t?t.acceptedFormats:["web"];return this._fetchSymbol(m(a({},t),{acceptedFormats:e}))}fetchCIMSymbol(t){return n(this,null,function*(){let e=yield this.fetchSymbol(m(a({},t),{acceptedFormats:["cim"]}));if(e?.type!=="cim")throw new f("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e})}_fetchSymbol(t){return n(this,null,function*(){let e=t!=null?t.cache:null,i=e?this._fetchCacheKey:null;if(e!=null){let s=i&&e.get(i);if(s)return s.clone()}let{resolveWebStyleSymbol:_}=yield import("./chunk-WUGCPNSK.js");b(t);let c=_(this,{portal:this.portal},t);c.catch(s=>{u.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",s)});let h=yield c;return e?.set(i,h.clone()),h})}};r([l({json:{write:!1}})],o.prototype,"color",void 0),r([l({type:String,json:{write:!0}})],o.prototype,"styleName",void 0),r([l({type:p,json:{write:!1}})],o.prototype,"portal",void 0),r([l({type:String,json:{read:w,write:S}})],o.prototype,"styleUrl",void 0),r([l({type:j,json:{read:!1}})],o.prototype,"thumbnail",void 0),r([l({type:String,json:{write:!0}})],o.prototype,"name",void 0),r([v({styleSymbolReference:"web-style"},{readOnly:!0})],o.prototype,"type",void 0),r([l()],o.prototype,"_fetchCacheKey",null),o=y=r([d("esri.symbols.WebStyleSymbol")],o);var L=o;export{L as a};
