import{a as O}from"./chunk-YHK6JEIR.js";import{a as f}from"./chunk-XBE326RR.js";import{a as B}from"./chunk-C6GAOMLO.js";import"./chunk-BNOCJUWF.js";import{a as I}from"./chunk-FHBFWDFD.js";import{a as D}from"./chunk-AXYQJCCX.js";import{a as c}from"./chunk-5XCFNEYX.js";import{a as j}from"./chunk-GQL2MBZT.js";import{b as V}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import{j as A,o as M}from"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import{a as z}from"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import{a as P}from"./chunk-7P44K2YD.js";import{b as $}from"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import{a as R}from"./chunk-WFKZLI6F.js";import{b as E}from"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{a as x,b as N,j as y}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as r}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as o}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as k}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import{b as T,l as w}from"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as g,b as L}from"./chunk-VTHXE323.js";var h="esri-scale-range-slider",_=`${h}__scale-menu`,d={base:h,segmentElementActive:`${h}__segment-active`,scaleIndicatorWrapper:`${h}__scale-indicator-wrapper`,scaleIndicator:`${h}__scale-indicator`,scaleIndicatorIcon:`${h}__scale-indicator-icon`,scaleIndicatorContainer:`${h}__scale-indicator-container`,scaleMenuContainer:`${_}-container`,scaleMenuSeparator:`${_}-separator`,scaleMenuToggle:`${_}-toggle`,scaleMenuSubLabel:`${_}-sublabel`,scalePreview:`${h}__scale-preview`,scalePreviewThumbnail:`${h}__scale-preview-thumbnail`};var J="en-wo",K=R().slice(0,2),t;(function(e){e.ar="ar",e.bg="bg",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es="es",e.et="et",e.fi="fi",e.fr="fr",e.is="is",e.it="it",e.ja="ja",e.ko="ko",e.lt="lt",e.lv="lv",e.nl="nl",e.nn="nn",e.pl="pl",e.pt="pt",e.ro="ro",e.ru="ru",e.sk="sk",e.sv="sv",e.th="th",e.zh="zh"})(t||(t={}));var Q={ae:t.en,ar:t.es,at:t.de,au:t.en,be:t.nl,bg:t.bg,bo:t.es,br:t.pt,ca:t.en,ch:t.de,ci:t.fr,cl:t.es,cn:t.zh,co:t.es,cr:t.es,cz:t.cs,de:t.de,dk:t.da,ee:t.et,eg:t.en,es:t.es,fi:t.fi,fr:t.fr,gb:t.en,gl:t.da,gr:t.el,gt:t.es,hk:t.en,id:t.en,ie:t.en,il:t.en,in:t.en,iq:t.ar,is:t.is,it:t.it,jp:t.ja,ke:t.en,kr:t.ko,kw:t.ar,li:t.de,lt:t.lt,lu:t.en,lv:t.lv,ma:t.fr,mg:t.fr,ml:t.fr,mo:t.en,mx:t.es,my:t.en,ni:t.es,nl:t.nl,no:t.nn,nz:t.en,pe:t.es,pl:t.pl,pr:t.es,pt:t.pt,ro:t.ro,ru:t.ru,rw:t.en,se:t.sv,sg:t.en,sk:t.sk,sr:t.nl,sv:t.es,th:t.th,tn:t.fr,tw:t.zh,us:t.en,ve:t.es,vi:t.en,wo:t.en,za:t.en},F=new Set(["ar-iq","ar-kw","bg-bg","cs-cz","da-dk","da-gl","de-at","de-ch","de-de","de-li","el-gr","en-ae","en-au","en-ca","en-eg","en-gb","en-hk","en-id","en-ie","en-il","en-in","en-iq","en-ke","en-lu","en-mo","en-my","en-nz","en-rw","en-sg","en-us","en-vi","en-wo","en-za","es-ar","es-bo","es-cl","es-co","es-cr","es-es","es-gt","es-mx","es-ni","es-pe","es-pr","es-sv","es-ve","et-ee","fi-fi","fr-ci","fr-fr","fr-ma","fr-mg","fr-ml","fr-tn","is-is","it-it","ja-jp","ko-kr","lt-lt","lv-lv","nl-be","nl-nl","nl-sr","nn-no","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sv-se","th-th","zh-cn","zh-tw"]);function X(e){return e.toLowerCase()}function Y(e){return`url(${E(`esri/widgets/ScaleRangeSlider/images/scalePreview/${e}.jpg`)})`}function q(e){e=X(e);let a=`${K}-${e}`,i=`${Q[e]}-${e}`;return Y(F.has(a)?a:F.has(i)?i:J)}function U(e){if(!(e<0||e>=5*5))return`-${128*(e%5)}px -${128*Math.floor(e/5)}px`}var C={preview:!0,scaleMenus:{maxScaleMenu:!0,minScaleMenu:!0}},Z={maximumFractionDigits:0},H="1:",ee=16,l=class extends j{constructor(e,a){super(e,a),this._activeMenu=null,this._activeThumb=null,this._customInput=null,this._maxThumbNode=null,this._minThumbNode=null,this._previewAutoCloseTimeoutId=void 0,this._previewPopover=null,this._slider=new B({thumbCreatedFunction:(i,s,n)=>{i===0?this._minThumbNode=n:i===1&&(this._maxThumbNode=n),this.addHandles([w(n,"mouseenter",()=>{this._activeThumb=i,this.scheduleRender()}),w(n,"mouseleave",()=>{this._previewAutoCloseTimeoutId||(this._activeThumb=null,this.scheduleRender())})])}}),this.disabled=!1,this.messages=null,this.region="US",this.viewModel=new O,this.visibleElements=C,this._afterInputNumberCreate=i=>{"value"in i&&i.value!=null&&"setNumberValue"in i&&i.setNumberValue({committing:!1,value:i.value,origin:"direct"}),this._customInput=i},this._handleCustomScaleInputChange=(i,s)=>{let{viewModel:{scaleRanges:n}}=this,u=Number.parseFloat(s.value);Number.isNaN(u)?s.value=i:this._setScale(n.clampScale(u))}}loadDependencies(){return V({button:()=>import("./chunk-K3RCADAN.js"),dropdown:()=>import("./chunk-F6T2J7EG.js"),"dropdown-group":()=>import("./chunk-KPY43GC2.js"),"dropdown-item":()=>import("./chunk-XJK7VSUG.js"),icon:()=>import("./chunk-7Z2RNQA3.js"),"input-number":()=>import("./chunk-M6HYH3SF.js"),label:()=>import("./chunk-S24JESVO.js"),popover:()=>import("./chunk-J5HY7FQ5.js")})}initialize(){this.addHandles([x(()=>this.viewModel,e=>this._slider.viewModel=e?.sliderViewModel??null,y),x(()=>this._interactive,e=>{this._slider.disabled=!e,e||this._setActiveMenu(null)},y),this._slider.on("thumb-drag",({index:e})=>{this._activeThumb=e,clearTimeout(this._previewAutoCloseTimeoutId);let a=250;this._previewAutoCloseTimeoutId=setTimeout(()=>{this._previewAutoCloseTimeoutId=void 0,this._activeThumb=null},a)}),N(()=>this.view?.stationary===!0,()=>this.scheduleRender())])}destroy(){this._slider=T(this._slider)}get _maxScaleMenuEnabled(){let{scaleMenus:e}=this.visibleElements;return e===!0||typeof e!="boolean"&&e.maxScaleMenu}get _minScaleMenuEnabled(){let{scaleMenus:e}=this.visibleElements;return e===!0||typeof e!="boolean"&&e.minScaleMenu}get _interactive(){return this.viewModel?.state!=="disabled"&&!this.disabled}get effectiveMaxScale(){return this.viewModel.effectiveMaxScale}get effectiveMinScale(){return this.viewModel.effectiveMinScale}get effectiveMaxScaleLimit(){return this.viewModel.effectiveMaxScaleLimit}get effectiveMinScaleLimit(){return this.viewModel.effectiveMinScaleLimit}get icon(){return"actual-size"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get maxScale(){return this.viewModel.maxScale}set maxScale(e){this.viewModel.maxScale=e}get maxScaleLimit(){return this.viewModel.maxScaleLimit}set maxScaleLimit(e){this.viewModel.maxScaleLimit=e}get mode(){return this.viewModel.mode}set mode(e){this.viewModel.mode=e}get minScale(){return this.viewModel.minScale}set minScale(e){this.viewModel.minScale=e}get minScaleLimit(){return this.viewModel.minScaleLimit}set minScaleLimit(e){this.viewModel.minScaleLimit=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return L(g(g({},C),e),{scaleMenus:typeof e?.scaleMenus=="boolean"?e.scaleMenus:g(g({},C.scaleMenus),e?.scaleMenus)})}formatScale(e){return`${H}${$(e,Z)}`}render(){let{_interactive:e,_slider:a,label:i,view:s,viewModel:{state:n}}=this,u=this._getLabel("min"),p=this._getLabel("max"),{segmentElements:v}=a,m=v.at(this.mode==="min-scale-only"?-1:-2);return m&&m.classList.add(d.segmentElementActive),c("div",{"aria-label":i,class:this.classes(d.base,I.widget,e?null:I.disabled)},c("div",{class:d.scaleIndicatorWrapper,dir:"ltr"},n==="ready"&&s?this._renderCurrentScaleIndicator():null,a.render(),this._renderPreviewPopover()),c("div",{class:d.scaleMenuContainer},this._minScaleMenuEnabled&&u?this._renderScaleMenuToggle("min",u):null,c("div",{class:d.scaleMenuSeparator}),this._maxScaleMenuEnabled&&p?this._renderScaleMenuToggle("max",p):null))}_renderPreviewPopover(){let{_activeThumb:e}=this,a=e!=null&&this.visibleElements.preview,i=a?e===0?this._minThumbNode:this._maxThumbNode:"";return c("calcite-popover",{afterCreate:A,afterUpdate:()=>this._previewPopover?.reposition(),bind:this,"data-node-ref":"_previewPopover",label:this.messages.preview,offsetDistance:ee,open:a,overlayPositioning:"fixed",placement:"top",referenceElement:i,triggerDisabled:!0},this._renderScalePreview())}_renderScalePreview(){let{_activeThumb:e,_slider:a,region:i,viewModel:{scaleRanges:s}}=this,n=e===0||this.mode!=="range"?a.values[0]:a.values[1],u=Object.keys(f.RecommendedScales).indexOf(s.findScaleRangeByIndex(n).id),p={backgroundImage:q(i),backgroundPosition:U(u)};return c("div",{class:d.scalePreview},c("div",{class:d.scalePreviewThumbnail,styles:p}))}_getLabel(e){let{_slider:a,messages:i,mode:s,viewModel:{scaleRanges:n}}=this,[u,p]=a.values,v=e==="min"||s!=="range"?u:p,m=i.scaleRangeLabels[n.findScaleRangeByIndex(v).id];switch(s){case"range":return m;case"max-scale-only":return e==="min"?null:m;case"min-scale-only":return e==="min"?m:null}}_renderScaleMenuToggle(e,a){let{_activeMenu:i,_interactive:s}=this,n=i===e;return[c("calcite-dropdown",{closeOnSelectDisabled:!0,"data-type":e,open:n,overlayPositioning:"fixed",placement:e==="max"?"bottom-end":"bottom-start",scale:"s",onCalciteDropdownClose:({currentTarget:u})=>{this._activeMenu===e&&this._setActiveMenu(null),M(u.querySelector("calcite-button"))},onCalciteDropdownOpen:()=>this._setActiveMenu(e)},c("calcite-button",{appearance:n?"outline":"transparent","aria-pressed":n.toString(),class:d.scaleMenuToggle,disabled:!s,iconEnd:"chevron-down",scale:"s",slot:"trigger"},a),n&&e==="max"?this._renderMaxScaleMenu():null,n&&e==="min"?this._renderMinScaleMenu():null)]}_renderMinScaleMenu(){let{effectiveMaxScale:e,effectiveMinScaleLimit:a,view:i,viewModel:{scaleRanges:s}}=this,n=i?i.scale:void 0;return this._renderScaleMenu({type:"min",min:a,max:s.findScaleRange(e).minScale,viewScale:n})}_renderMaxScaleMenu(){let{effectiveMinScale:e,effectiveMaxScaleLimit:a,view:i,viewModel:{scaleRanges:s}}=this,n=i?i.scale:void 0;return this._renderScaleMenu({type:"max",min:s.findScaleRange(e).maxScale,max:a,viewScale:n})}_renderScaleMenu({viewScale:e,min:a,max:i,type:s}){let{effectiveMaxScale:n,effectiveMinScale:u,messages:p}=this,v=s==="max"?n:u,m=f.fromScaleRange({minScale:a,maxScale:i}),W=this.messages.featuredScaleLabels,b=f.RecommendedScales,G=Object.keys(b).filter(S=>m.contains(b[S])).map(S=>this._renderScaleMenuItem({scaleLabel:W[S],scaleValue:b[S],isSelected:v===b[S],valueVisible:S!=="world"}));return c("calcite-dropdown-group",{key:`${this.id}__scale-menu--${s}`},this._renderCustomScaleValue({currentScale:v}),e!=null?this._renderScaleMenuItem({scaleValue:e,scaleLabel:p.featuredScaleLabels.current,isSelected:v===e,valueVisible:!0}):null,G)}_renderCustomScaleValue({currentScale:e}){let{messages:a}=this,i=Math.round(e).toString();return c("calcite-dropdown-item",{afterCreate:s=>{M(s)},key:"custom-scale",label:a.featuredScaleLabels.custom,onCalciteDropdownItemSelect:()=>{M(this._customInput)}},c("calcite-label",{scale:"s"},c("span",null,a.featuredScaleLabels.custom),c("calcite-input-number",{afterCreate:this._afterInputNumberCreate,groupSeparator:!0,inputMode:"numeric",max:f.RecommendedScales.world,min:0,numberButtonType:"none",placeholder:a.customScaleInputTooltip,prefixText:H,scale:"s",step:1,value:i,onCalciteInputNumberChange:({currentTarget:s})=>this._handleCustomScaleInputChange(i,s)})))}_renderScaleMenuItem(e){let{scaleValue:a,scaleLabel:i,valueVisible:s,isSelected:n}=e;return c("calcite-dropdown-item",{key:i,label:i,selected:n,onCalciteDropdownItemSelect:this._setScale.bind(this,a)},i,s?c("div",{class:d.scaleMenuSubLabel},this.formatScale(a)):void 0)}_renderCurrentScaleIndicator(){let{_slider:e,messages:a,view:i,viewModel:{scaleRanges:s}}=this,n=s.clampScale(i.scale),u=this.viewModel.mapScaleToSlider(n),p=u/e.max,v=a.scaleRangeLabels[s.findScaleRangeByIndex(u).id],m=P(a.currentScaleTooltip,{scaleLabel:v});return c("div",{class:d.scaleIndicatorContainer,key:"scale-indicator"},c("div",{"aria-label":m,class:d.scaleIndicator,styles:{left:100*p+"%"},title:m},this.renderCurrentScaleIndicatorIcon()))}renderCurrentScaleIndicatorIcon(){return c("calcite-icon",{class:d.scaleIndicatorIcon,icon:"caret-up",scale:"s"})}_setScale(e){this._activeMenu==="max"?this.maxScale=Math.min(e,this.effectiveMinScale-1):this.minScale=Math.max(e,this.effectiveMaxScale+1),this._setActiveMenu(null)}_setActiveMenu(e){this._activeMenu=e}};r([o()],l.prototype,"_activeMenu",void 0),r([o()],l.prototype,"_activeThumb",void 0),r([o()],l.prototype,"_customInput",void 0),r([o()],l.prototype,"_maxScaleMenuEnabled",null),r([o()],l.prototype,"_minScaleMenuEnabled",null),r([o()],l.prototype,"_slider",void 0),r([o({readOnly:!0})],l.prototype,"_interactive",null),r([o()],l.prototype,"disabled",void 0),r([o()],l.prototype,"effectiveMaxScale",null),r([o()],l.prototype,"effectiveMinScale",null),r([o()],l.prototype,"effectiveMaxScaleLimit",null),r([o()],l.prototype,"effectiveMinScaleLimit",null),r([o()],l.prototype,"icon",null),r([o()],l.prototype,"label",null),r([o()],l.prototype,"layer",null),r([o()],l.prototype,"maxScale",null),r([o()],l.prototype,"maxScaleLimit",null),r([o(),D("esri/widgets/ScaleRangeSlider/t9n/ScaleRangeSlider")],l.prototype,"messages",void 0),r([o()],l.prototype,"mode",null),r([o()],l.prototype,"minScale",null),r([o()],l.prototype,"minScaleLimit",null),r([o()],l.prototype,"region",void 0),r([o()],l.prototype,"view",null),r([o()],l.prototype,"viewModel",void 0),r([o()],l.prototype,"visibleElements",void 0),r([z("visibleElements")],l.prototype,"castVisibleElements",null),l=r([k("esri.widgets.ScaleRangeSlider")],l);var ke=l;export{ke as default};
