import{a as H}from"./chunk-MQAOF7UM.js";import{a as I}from"./chunk-P3Q7CK5J.js";import"./chunk-XYIGCQDU.js";import"./chunk-HV7UN6YW.js";import{a as B}from"./chunk-7GRX7BHW.js";import"./chunk-LPJC2UFS.js";import"./chunk-PLP72RZR.js";import"./chunk-XLLZ5QPN.js";import"./chunk-C6GAOMLO.js";import"./chunk-BNOCJUWF.js";import{d as W,e as $}from"./chunk-LSYBUGGM.js";import"./chunk-B3VPRADQ.js";import"./chunk-HJQNAAJT.js";import"./chunk-KP75LCOH.js";import"./chunk-ES4WUTEM.js";import{a as R}from"./chunk-FHBFWDFD.js";import{a as V}from"./chunk-OVELHKV3.js";import"./chunk-5AFOYCWC.js";import"./chunk-Z3MWEX65.js";import"./chunk-YB6RTOHR.js";import"./chunk-G23ELQMS.js";import"./chunk-7Y6S2GNA.js";import"./chunk-VOB6IBIW.js";import"./chunk-63B3IOWG.js";import"./chunk-QS3EYJPF.js";import{a as M}from"./chunk-HJJZ2AXH.js";import"./chunk-TPNSUEHH.js";import{a as C}from"./chunk-RDGG4TVD.js";import"./chunk-I4CY6X6S.js";import"./chunk-LAX5536Z.js";import"./chunk-N3HRYLNW.js";import"./chunk-4DBMALZW.js";import"./chunk-CVWWHM2V.js";import"./chunk-6OQYVEQJ.js";import"./chunk-YOXOWGT6.js";import"./chunk-EFZOSMYP.js";import"./chunk-WI7F4ZKJ.js";import"./chunk-MJ7M24NH.js";import"./chunk-GJH4QFRX.js";import"./chunk-T63F7663.js";import"./chunk-O4V2VBSK.js";import"./chunk-5TKRKB5E.js";import"./chunk-XAGMDNNR.js";import"./chunk-OP2TLIUN.js";import"./chunk-T2THIR6K.js";import"./chunk-LORHDXEB.js";import"./chunk-BBBPJI4H.js";import"./chunk-45BTW5EG.js";import"./chunk-TPFBHGDM.js";import"./chunk-73NLRHJD.js";import"./chunk-PNFEUBDF.js";import"./chunk-6RCCEJDL.js";import"./chunk-PQ2TNDUX.js";import"./chunk-6X6MKRQ3.js";import"./chunk-FQFHMHYU.js";import"./chunk-SZMEI3WL.js";import"./chunk-KKVGD67U.js";import"./chunk-MYOJWRDU.js";import"./chunk-L7UKJKHG.js";import"./chunk-V2IENAEU.js";import"./chunk-QAGQFNF2.js";import"./chunk-SY7JS2VW.js";import"./chunk-WK57SDN6.js";import"./chunk-AG4V3ZUO.js";import"./chunk-YWLMJ26A.js";import"./chunk-QAWNU3UJ.js";import"./chunk-HRQT4R6X.js";import"./chunk-44BHLWQ4.js";import"./chunk-5BPM64SU.js";import"./chunk-PMVHHMQJ.js";import"./chunk-NAFOM5UA.js";import"./chunk-DO7UF2F2.js";import"./chunk-ZTR6OS44.js";import"./chunk-VRTKAD2J.js";import"./chunk-DBLKLHK2.js";import"./chunk-UTE3ASAZ.js";import"./chunk-2AFEAPEX.js";import"./chunk-GNGXUEWV.js";import"./chunk-QBI5NDCA.js";import"./chunk-NOHW2DKR.js";import"./chunk-HVJAAM3A.js";import"./chunk-ACPEJEHK.js";import"./chunk-I7B3LWNP.js";import"./chunk-YP2E5N4E.js";import"./chunk-QLMNLSCT.js";import"./chunk-P55G5ATK.js";import"./chunk-JT3K52KQ.js";import"./chunk-SPLEGG4R.js";import"./chunk-Y4TJDUGP.js";import"./chunk-6PAFOJ4W.js";import"./chunk-74SDGE57.js";import"./chunk-FRXWHX3T.js";import"./chunk-DTDQ5X42.js";import"./chunk-RX2HFR4X.js";import"./chunk-AZW7YPTQ.js";import"./chunk-NJLJX4X6.js";import"./chunk-DZHFTD24.js";import"./chunk-K57Z4J34.js";import"./chunk-VWG3KVOU.js";import"./chunk-JOEUVLAN.js";import"./chunk-JZQDGIDQ.js";import"./chunk-CZ6CGC7I.js";import"./chunk-7B6U3N62.js";import"./chunk-46WDO5LS.js";import"./chunk-G5EYK5KM.js";import"./chunk-YJKJQU3F.js";import"./chunk-OK4K3OQT.js";import"./chunk-BPWNCOXC.js";import"./chunk-VNS4CQ27.js";import"./chunk-AVMO6LCR.js";import"./chunk-TEGPMVWT.js";import"./chunk-CLQRQC3Y.js";import"./chunk-KSNU73LO.js";import"./chunk-FACEVGRE.js";import"./chunk-5XTCPT52.js";import"./chunk-R3XLNYYB.js";import"./chunk-BMYVPMAK.js";import"./chunk-6F25LG6O.js";import"./chunk-GJ2QRXGN.js";import"./chunk-3JGYBNJA.js";import"./chunk-F5AJITOA.js";import"./chunk-IHATPE6U.js";import"./chunk-PU4AK46X.js";import"./chunk-ZC6EBRE4.js";import"./chunk-KALOJIUA.js";import"./chunk-KMMTNF7G.js";import"./chunk-MIS6QMFE.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import"./chunk-QKO56XO6.js";import"./chunk-JRGT3GTH.js";import"./chunk-K75TK42V.js";import"./chunk-VV5G7VY5.js";import"./chunk-OLOKUDVI.js";import"./chunk-DYTVXYAV.js";import"./chunk-ZTOZWLEE.js";import"./chunk-RJWOVI3M.js";import"./chunk-RSDQHAJX.js";import"./chunk-BOVYXYHK.js";import"./chunk-KVM6SHDX.js";import"./chunk-POX73EYJ.js";import"./chunk-NKUXRYJG.js";import"./chunk-HX2VGIR2.js";import"./chunk-ERDKAICI.js";import"./chunk-EQZWYK27.js";import"./chunk-JLPLCY2B.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import{a as T}from"./chunk-AXYQJCCX.js";import{a as b}from"./chunk-5XCFNEYX.js";import"./chunk-GQL2MBZT.js";import"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import{j as D}from"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as v}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as z}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as P}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import{b as F}from"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var k,y="esri-color-size-slider",w={base:y,rampElement:`${y}__ramp`,sliderContainer:`${y}__slider-container`,histogramContainer:`${y}__histogram-container`,primaryHandle:`${y}--primary-handle`,track:`${y}--interactive-track`},g=k=class extends B{constructor(e,i){super(e,i),this._backgroundFillColor="#e0e0e0",this._minRampFillWidth=.2,this._rampNode=null,this._maxRampFillWidth=1,this.messages=null,this.viewModel=new H,this._bgFillId=`${this.id}-bg-fill`,this._rampFillId=`${this.id}-linear-gradient`}get handlesSyncedToPrimary(){return this.viewModel.handlesSyncedToPrimary}set handlesSyncedToPrimary(e){this.viewModel.handlesSyncedToPrimary=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get persistSizeRangeEnabled(){return this.viewModel.persistSizeRangeEnabled}set persistSizeRangeEnabled(e){this.viewModel.persistSizeRangeEnabled=e}get primaryHandleEnabled(){return this.viewModel.primaryHandleEnabled}set primaryHandleEnabled(e){this.viewModel.primaryHandleEnabled=e}get stops(){return this.viewModel.stops}set stops(e){this.viewModel.stops=e}static fromRendererResult(e,i){let n=e.size.visualVariables,t=e.renderer.authoringInfo?.univariateTheme,r=e.color?.visualVariable.stops,{statistics:s}=e,{avg:m,stddev:a}=s;if(!r)throw new F("ColorSizeSlider-fromRendererResult:invalid-renderer-result","'result' must include 'color' variable.");let d=t==="above-and-below",[p,u]=I(e.renderer.authoringInfo),o=n.find(l=>l?.target!=="outline"&&!(l?.axis&&!l?.field&&!l?.valueExpression)&&(l?.field||l?.valueExpression)),h=o.stops,x=r.map((l,c)=>{let{color:_,label:S,value:E}=l,f;return f=h&&h.length>0?h[c].size:c===0?o.minSize:c===r.length-1?o.maxSize:null,new V({color:_,label:S,value:E,size:f})});return new k({max:u,min:p,stops:x,primaryHandleEnabled:d,handlesSyncedToPrimary:d,persistSizeRangeEnabled:d,histogramConfig:{average:m??void 0,standardDeviation:a??void 0,bins:i?i.bins:[]}})}updateFromRendererResult(e,i){let n=e.size.visualVariables,t=e.renderer.authoringInfo?.univariateTheme,r=e.color?.visualVariable.stops,{statistics:s}=e,{avg:m,stddev:a}=s;if(!r)throw new F("ColorSizeSlider-fromRendererResult:invalid-renderer-result","'result' must include 'color' variable.");let d=t==="above-and-below",[p,u]=I(e.renderer.authoringInfo),o=n.find(l=>l?.target!=="outline"&&!(l?.axis&&!l?.field&&!l?.valueExpression)&&(l?.field||l?.valueExpression)),h=o.stops,x=r.map((l,c)=>{let{color:_,label:S,value:E}=l,f;return f=h&&h.length>0?h[c].size:c===0?o.minSize:c===r.length-1?o.maxSize:null,new V({color:_,label:S,value:E,size:f})});this.set({max:u,min:p,stops:x,primaryHandleEnabled:d,handlesSyncedToPrimary:d,persistSizeRangeEnabled:d,histogramConfig:{average:m,standardDeviation:a,bins:i?i.bins:[]}})}updateRenderer(e){let{stops:i}=this,n=i[0],t=i[i.length-1],r=i[Math.floor(i.length/2)],s=e.clone(),m=s.visualVariables?.map(a=>{if(a.type==="size"){if(a?.target==="outline"||a?.axis&&!a?.field&&!a?.valueExpression)return a;a.minSize!=null&&a.maxSize!=null?a.set({maxDataValue:t.value,minDataValue:n.value,maxSize:t.size,minSize:n.size}):a.stops&&a.set({stops:i.map(d=>{let{label:p,size:u,value:o}=d;return new M({label:p,size:u,value:o})})})}else a.type==="color"&&a.set({stops:this.stops.map(d=>{let{color:p,label:u,value:o}=d;return new C({color:p,label:u,value:o})})});return a})??null;if(s.visualVariables=m,s.classBreakInfos.length>1){let a=r.value;s.classBreakInfos[0].maxValue=a,s.classBreakInfos[1].minValue=a}return s}updateVisualVariables(e){return e.map(i=>{let n=i.clone();if(i.type==="size"){if(i?.target==="outline"||i?.axis&&!i?.field&&!i?.valueExpression)return n;if(i.minSize!=null&&i.maxSize!=null){let{stops:t}=this,r=t[0],s=t[t.length-1];n.set({maxDataValue:s.value,minDataValue:r.value,maxSize:s.size,minSize:r.size})}else i.stops&&n.set({stops:this.stops.map(t=>{let{label:r,size:s,value:m}=t;return new M({label:r,size:s,value:m})})})}else i.type==="color"&&n.set({stops:this.stops.map(t=>{let{color:r,label:s,value:m}=t;return new C({color:r,label:s,value:m})})});return n})}render(){let{label:e,primaryHandleEnabled:i,state:n,visibleElements:t}=this,r=n==="disabled",s=this.classes(w.base,R.widget,R.panel,{[R.disabled]:r,[w.primaryHandle]:i,[w.track]:!!t.interactiveTrack});return b("div",{"aria-label":e,class:s},r?null:this.renderContent(this._renderRamp(),w.sliderContainer,w.histogramContainer))}_renderRamp(){let{_bgFillId:e,_rampFillId:i,viewModel:n,zoomOptions:t}=this,r=n.getStopInfo();return b("div",{afterCreate:D,bind:this,class:w.rampElement,"data-node-ref":"_rampNode"},b("svg",{xmlns:"http://www.w3.org/2000/svg"},b("defs",null,this.renderRampFillDefinition(i,r),this.renderBackgroundFillDefinition(e)),b("rect",{fill:this._backgroundFillColor,height:"100%",width:"100%",x:"0",y:"0"}),this._renderPaths()),t?this.renderZoomCaps():null)}_renderPaths(){if(!this._rampNode)return;let{offsetHeight:e=0,offsetWidth:i=0}=this._rampNode;if(e==null||i==null)return;let{primaryHandleEnabled:n,stops:t,values:r,viewModel:{max:s,min:m},_bgFillId:a,_maxRampFillWidth:d,_minRampFillWidth:p,_rampFillId:u}=this,o=[d,p];t[0].size<t[t.length-1].size&&o.reverse();let h=r.slice().sort((E,f)=>E>f?1:-1),[x,l]=o,[c,_]=h,S=n?W({max:s,min:m,pathHeight:e,pathWidth:i,stops:t,padding:p}):$({bottomValue:c,bottomWidth:x,max:s,min:m,pathHeight:e,pathWidth:i,topValue:_,topWidth:l});return[b("path",{d:S,fill:`url(#${a})`,key:"background"}),b("path",{d:S,fill:`url(#${u})`,key:"fill"})]}};v([z()],g.prototype,"label",null),v([z(),T("esri/widgets/smartMapping/ColorSizeSlider/t9n/ColorSizeSlider")],g.prototype,"messages",void 0),v([z()],g.prototype,"persistSizeRangeEnabled",null),v([z()],g.prototype,"primaryHandleEnabled",null),v([z()],g.prototype,"stops",null),v([z({type:H})],g.prototype,"viewModel",void 0),g=k=v([P("esri.widgets.smartMapping.ColorSizeSlider")],g);var ae=g;export{ae as default};
