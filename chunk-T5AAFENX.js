import{b as E}from"./chunk-JHYPNXRL.js";import{a as _}from"./chunk-7ECGJFJY.js";import{a as v}from"./chunk-4OC4J3KU.js";import{a as u}from"./chunk-6F25LG6O.js";import{aa as l}from"./chunk-NJWTSROP.js";import{a as f}from"./chunk-TG45K3WR.js";import{a as o}from"./chunk-QGVBCWUY.js";import{e as t}from"./chunk-NFIPKH6V.js";import{l as h}from"./chunk-5QEXLALV.js";import{d as g}from"./chunk-TG2UTNEO.js";import{f as c}from"./chunk-VTHXE323.js";var e=class extends _{constructor(r){super(r),this.type="ground",this.color=new u("#ff7f00"),this.viewVisualizationEnabled=!0,this.numSamplesForPreview=50,this.numSamplesPerChunk=1e3,this._getQueryElevationDependencies=v((n,i)=>({ground:n,groundLayers:i}))}get available(){let r=this._ground;return r!=null&&r.layers.some(n=>n.visible)}get minDemResolution(){return E(this._ground)}get _queryElevationDependencies(){return this._getQueryElevationDependencies(this._ground,this._groundLayers)}get _ground(){return this._viewModel?.view?.map?.ground}get _groundLayers(){return this._ground?.layers?.toArray()??[]}queryElevation(r,n){return c(this,null,function*(){let i=this._queryElevationDependencies;if(i==null)throw new Error("ElevationProfileLineGround: no dependencies");let{ground:s}=i;if(s==null)throw new Error("No ground configured in the view");let p=yield s.queryElevation(r,n),m=l(r.spatialReference),d=l(s.layers.at(0).spatialReference);if(m!==d){let y=p.geometry;y.points=y.points.map(([w,D,a])=>[w,D,a===n.noDataValue?a:a*d/m])}return p})}attach(r){return g([super.attach(r),f(()=>this._queryElevationDependencies,()=>this._onChange())])}};o([t({type:u,nonNullable:!0})],e.prototype,"color",void 0),o([t()],e.prototype,"viewVisualizationEnabled",void 0),o([t()],e.prototype,"available",null),o([t({readOnly:!0})],e.prototype,"minDemResolution",null),o([t()],e.prototype,"_queryElevationDependencies",null),o([t()],e.prototype,"_ground",null),o([t()],e.prototype,"_groundLayers",null),e=o([h("esri.widgets.ElevationProfile.ElevationProfileLineGround")],e);var N=e;export{N as a};
