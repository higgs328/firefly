import{o as c}from"./chunk-AUAZP44J.js";import{d as o}from"./chunk-KNVXE32P.js";import{f as u}from"./chunk-VTHXE323.js";function L(e){return p(e)||l(e)}function m(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function h(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function v(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-notes"&&"sublayers"in e}function S(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function w(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="link-chart"&&"layers"in e}function l(e){return e?.type==="scene"}function y(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function j(e){return e?.type==="subtype-sublayer"}function p(e){let t=e?.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function E(e){let t=e?.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}function C(e){return e!=null&&"type"in e&&e.type==="group"}var T={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function M(e){let t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function x(e){return e==="IntegratedMeshLayer"||e==="IntegratedMesh3DTilesLayer"}function I(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function O(e){return e?.type==="voxel"}function B(e){return e?.type==="imagery-tile"}function F(e){return e?.parent!=null&&"declaredClass"in e.parent&&e.parent.declaredClass==="esri.Basemap"&&e.parent.baseLayers.includes(e)}function k(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function P(e){let t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}function D(e){return e?.type==="feature"&&e.source?.type==="feature-layer"}function G(e){let t=/[:;]/,n=[],a=!1;if(e&&(e.forEach((i,r)=>{n.push([r,i]),!a&&t.test(i)&&(a=!0)}),n.length>0)){let i;if(a){let r={};n.forEach(s=>{r[s[0]]=s[1]}),i=JSON.stringify(r)}else{let r=[];n.forEach(s=>{r.push(s[0]+":"+s[1])}),i=r.join(";")}return i}return null}function N(e){if(!e)return;let t=[];return e.forEach((n,a)=>{t.push('"'+a+'":'+JSON.stringify(n))}),t.length?"{"+t.join(",")+"}":void 0}function U(e){if(e.activeLayer){let t=e.activeLayer.tileMatrixSet;if(t)return t;let n=e.activeLayer.tileMatrixSets;if(n)return n}return null}function z(e,t){return u(this,null,function*(){let n=o?.findServerInfo(e);if(n?.currentVersion!=null)return n.owningSystemUrl||null;let a=e.toLowerCase().indexOf("/rest/services");if(a===-1)return null;let i=`${e.slice(0,a)}/rest/info`,r=t!=null?t.signal:null,{data:s}=yield c(i,{query:{f:"json"},responseType:"json",signal:r});return s?.owningSystemUrl||null})}function f(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function J(e){return e!=null&&typeof e=="object"&&"isTable"in e&&!!e.isTable}function V(e){return f(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function g(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function W(e){return!!g(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function q(e){return e?("subtypes"in e?e.subtypes:y(e.parent)?e.parent.subtypes:[])??[]:[]}export{L as a,m as b,h as c,v as d,S as e,w as f,y as g,j as h,p as i,E as j,C as k,T as l,M as m,x as n,I as o,O as p,B as q,F as r,k as s,P as t,D as u,G as v,N as w,U as x,z as y,f as z,J as A,V as B,W as C,q as D};
