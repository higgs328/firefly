function ms(e){switch(e){case 1:return"Unknown error";case 2:return"Corrupted geometry";case 3:return"Empty geometry";case 4:return"Math singularity";case 5:return"Buffer is too small";case 6:return"Invalid shape type";case 7:return"Projection out of supported range";case 8:return"Non simple geometry";case 9:return"Cannot calculate geodesic";case 10:return"Notation conversion";case 11:return"Missing grid file";case 12:return"Invalid call";case 13:return"Internal error";case 14:return"Not implemented";case 15:return"IO error";case 16:return"Invalid 3D";case 17:return"An ambiguous geography edge with antipodal points";case 18:return"Geocentric coordinates require ellipsoidal height";case 19:return"Geography cannot be projected into a gnomonic plane or a result of an operation cannot fit into a gnomonic plane";case 20:return"Geometry is too large to be exported in to a given format";case 22:return"Operation is canceled by the user";case 21:return"The operation, such as projection or geodetic computation, cannot be performed without pe-wasm loaded";default:return"unknown error"}}function x(e,t){try{if(!e)throw new Error(t)}catch(s){throw s}}var P=class extends Error{constructor(t,s){super(s),this.m_AdditionalMessage=s,this.m_ErrorType=t,this.name="GeometryError"}what(){return ms(this.m_ErrorType)}additionalMessage(){return this.m_AdditionalMessage?this.m_AdditionalMessage:""}code(){return this.m_ErrorType}},K=class extends P{constructor(t){super(2,t),this.name="CorruptedGeometryError"}},H=class extends P{constructor(t){super(3,t),this.name="EmptyGeometryError"}},tt=class extends P{constructor(t){super(4,t),this.name="MathSingularityError"}},st=class extends P{constructor(t){super(21,t),this.name="ProjectionEngineNotLoadedError"}},et=class extends P{constructor(t){super(8,t),this.name="NonSimpleGeometryError"}},Z;(function(e){e[e.enumUnknown=0]="enumUnknown",e[e.enumPoint=513]="enumPoint",e[e.enumLine=5122]="enumLine",e[e.enumBezier=5123]="enumBezier",e[e.enumEllipticArc=5124]="enumEllipticArc",e[e.enumEnvelope=3077]="enumEnvelope",e[e.enumMultiPoint=8710]="enumMultiPoint",e[e.enumPolyline=25607]="enumPolyline",e[e.enumPolygon=27656]="enumPolygon",e[e.enumMultipatch=40969]="enumMultipatch",e[e.enumGeometryCollection=3594]="enumGeometryCollection",e[e.enumRationalBezier2=5134]="enumRationalBezier2",e[e.enumBezier2=5135]="enumBezier2",e[e.enumRationalBezier23d=5392]="enumRationalBezier23d",e[e.enumGreatArc3d=5393]="enumGreatArc3d"})(Z||(Z={}));var cs=[0,0,1,1,1,2,0,1,2,3,-1,-1,-1,-1,1,1];function oe(e){return cs[15&e]}function ae(e){return!!(512&e)}function me(e){return!!(1024&e)}function ce(e){return!!(2048&e)}function Bt(e){return!!(4096&e)}function ls(e){return!!(8192&e)}function fs(e){return!!(16384&e)}function vs(e){return!!(32768&e)}function le(e){let t=e.getGeometryType();return ls(t)?e.getPointCount():e.isEmpty()?0:t===Z.enumEnvelope?4:t===Z.enumPoint?1:Bt(t)?2:void bs("missing type")}function Rt(e){let t=e.getGeometryType();if(fs(t))return e.hasNonLinearSegments();if(t===Z.enumGeometryCollection){let s=e;for(let i=0,n=s.getGeometryCount();i<n;i++)if(Rt(s.getGeometry(i)))return!0;return!1}return!!Bt(t)&&t!==Z.enumLine}function fe(e){throw new st(e)}function ve(e){throw new K(e)}function B(e){throw new Error(e)}function be(e){throw new tt(e)}function de(){B("Geometry type is not supported for 3D operations.")}function _e(e){throw new P(12,e)}function pe(e){throw new H(e)}function R(e){throw new P(14,e)}function Gt(e){throw new Error(e)}function bs(e){throw new P(13,e)}function xe(e){throw new Error(e)}function Ne(e){throw new et(e)}function ds(){R("Operation does not support curves.")}function ye(e){e&&Rt(e)&&ds()}function ge(e){e&&vs(e.getGeometryType())&&R("Unsupported geometry type.")}function _s(e){e===Z.enumGeometryCollection&&B("Geometry_collection instances are not supported in this operation")}function Te(e){_s(e.getGeometryType())}function Ee(e){B(`bad wkid: ${e}`)}function Me(e){let t="bad wkt: ";t+=e,t+="...",B(t)}function we(e,t){e||B(t)}var Q=class e{constructor(t){this.sum=t,this.compensation=0}assign(t){return this.compensation=t.compensation,this.sum=t.sum,this}reset(){this.sum=this.compensation=0}resetToStart(t){this.sum=t,this.compensation=0}normalize(){let t=[Number.NaN];this.sum=O(this.sum,this.compensation,t),this.compensation=t[0]}add(t){let s=this.sum+t,i;if(Math.abs(this.sum)>=Math.abs(t)){let n=this.sum-s+t;i=this.compensation+n}else{let n=t-s+this.sum;i=this.compensation+n}this.sum=s,this.compensation=i}sub(t){this.add(-t)}addProduct(t,s){let i=[0],n=$(t,s,i);this.add(n),this.add(i[0])}mul(t){let s=new e(0);s.addProduct(this.sum,t),s.addProduct(this.compensation,t),this.assign(s)}getResult(){return this.sum+this.compensation}pe(t){return this.add(t),this}me(t){return this.add(-t),this}},ps=0x00000000ffffffffn,xs=0x0000ffffn,Ns=0x000000ffn,ys=0x0fn,gs=0xffff0000n,Ts=0xff00n,Es=0xf0n,Ms=[5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1],ws=[-1,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3];function ht(e){let t=0;return e&xs||(t+=16,e>>=16n),e&Ns||(t+=8,e>>=8n),e&ys||(t+=4,e>>=4n),t+Ms[Number(BigInt.asUintN(4,e))]}function Is(e){let t=0;return e&gs&&(t+=16,e>>=16n),e&Ts&&(t+=8,e>>=8n),e&Es&&(t+=4,e>>=4n),t+ws[Number(BigInt.asUintN(4,e))]+1}function kt(e){let t=0;return e&ps||(t=32,e>>=32n),t+ht(BigInt.asUintN(32,e))}function Ds(e){let t=0;return 0xffffffff00000000n&e&&(t=32,e>>=32n),t+Is(e)}var j=class e{constructor(t,s){if(this.m_EnvelopeType=1,t!==void 0){if(t instanceof e)return this.vmin=t.vmin,void(this.vmax=t.vmax);this.vmin=t,this.vmax=s,this.normalize()}else this.setEmpty()}static construct(t,s){return new e(t,s)}static constructEmpty(){return new e}setCoords(t,s){this.vmin=t,this.vmax=s,this.normalize()}setCoordsFromEnvelope(t){this.vmin=t.vmin,this.vmax=t.vmax}setEmpty(){this.vmin=Number.NaN,this.vmax=Number.NaN}getCenter(){return .5*(this.vmin+this.vmax)}equalsRange(t,s){return Wt(this.vmin,t)&&Wt(this.vmax,s)}equals(t,s){return!(!this.isEmpty()||!t.isEmpty())||(s!==void 0?Math.abs(this.vmin-t.vmin)<=s&&Math.abs(this.vmax-t.vmax)<=s:this.vmin===t.vmin&&this.vmax===t.vmax)}width(){return this.vmax-this.vmin}isEmpty(){return Number.isNaN(this.vmin)||Number.isNaN(this.vmax)}isZero(){return this.vmin===this.vmax}setInfinite(){this.vmin=Number.NEGATIVE_INFINITY,this.vmax=Number.POSITIVE_INFINITY}move(t){this.isEmpty()||(this.vmin+=t,this.vmax+=t)}contains(t){return t.vmin>=this.vmin&&t.vmax<=this.vmax}containsCoordinate(t){return t>=this.vmin&&t<=this.vmax}containsRightExclusive(t){return t>=this.vmin&&t<this.vmax}containsExclusiveCoordinate(t){return t>this.vmin&&t<this.vmax}containsExclusive(t){return t.vmin>this.vmin&&t.vmax<this.vmax}isIntersecting(t){return this.vmin<=t.vmin?this.vmax>=t.vmin:t.vmax>=this.vmin}mergeCoordinate(t){if(this.isEmpty())return this.vmin=t,void(this.vmax=t);this.mergeNeCoordinate(t)}merge(t){if(t.isEmpty())return;let s=t.vmin,i=t.vmax;this.mergeCoordinate(s),this.mergeCoordinate(i)}mergeNe(t){let s=t.vmin,i=t.vmax;this.mergeNeCoordinate(s),this.mergeNeCoordinate(i)}mergeNeCoordinate(t){t<this.vmin?this.vmin=t:t>this.vmax&&(this.vmax=t)}intersect(t){this.isEmpty()||t.isEmpty()?this.setEmpty():(this.vmin<t.vmin&&(this.vmin=t.vmin),this.vmax>t.vmax&&(this.vmax=t.vmax),this.vmin>this.vmax&&this.setEmpty())}inflate(t){this.isEmpty()||(this.vmin-=t,this.vmax+=t,this.vmax<this.vmin&&this.setEmpty())}normalize(){this.vmin<=this.vmax||(this.vmin>this.vmax?this.vmax=W(this.vmin,this.vmin=this.vmax):this.setEmpty())}isValid(){return this.isEmpty()||this.vmin<=this.vmax}snapClip(t){return as(t,this.vmin,this.vmax)}calculateToleranceFromEnvelope(){return this.isEmpty()?Xt():(Math.abs(this.vmin)+Math.abs(this.vmax)+1)*Xt()}static unit(){return Ps}normalizeNoNAN(){this.vmin>this.vmax&&(this.vmax=W(this.vmin,this.vmin=this.vmax))}setCoordsNoNAN(t,s){this.vmin=t,this.vmax=s,this.normalizeNoNAN()}clone(){return new e(this.vmin,this.vmax)}},Ps=new j(0,1),_=class e{static getNAN(){return new e(Number.NaN)}constructor(t,s){this.m_value=t??0,this.m_eps=s??0}[Symbol.toPrimitive](t){return this}clone(){return new e(this.m_value,this.m_eps)}assign(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}scaleError(t){this.m_eps*=t}setError(t){this.m_eps=t}set(t,s){return this.m_value=t,this.m_eps=s??0,this}setWithEps(t,s){return s===void 0&&(s=1),this.m_value=t,this.m_eps=e.ulp(t)*s,this}setE(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}precise(){return new e(this.m_value)}value(){return this.m_value}toDouble(){return this.m_value}eps(){return this.m_eps}resetError(){return this.m_eps=0,this}absThis(){return this.m_value=Math.abs(this.m_value),this}add(t){return this.clone().addThis(t)}addE(t){return this.clone().addThisE(t)}addThisE(t){let s=this.m_value+t.m_value,i=this.m_eps+t.m_eps+e.ulp(s);return this.m_value=s,this.m_eps=i,this}addThis(t){let s=this.m_value+t,i=this.m_eps+e.ulp(s);return this.m_value=s,this.m_eps=i,this}subE(t){return this.clone().subThisE(t)}sub(t){return this.clone().subThis(t)}subThisE(t){let s=this.m_value-t.m_value,i=this.m_eps+t.m_eps+e.ulp(s);return this.m_value=s,this.m_eps=i,this}subThis(t){let s=this.m_value-t,i=this.m_eps+e.ulp(s);return this.m_value=s,this.m_eps=i,this}setAddE(t,s){return this.m_value=t.m_value+s.m_value,this.m_eps=t.m_eps+s.m_eps+e.ulp(this.m_value),this}setAdd(t,s){return this.m_value=t+s,this.m_eps=e.ulp(this.m_value),this}setAddEN(t,s){return this.m_value=t.m_value+s,this.m_eps=t.m_eps+e.ulp(this.m_value),this}setAddNE(t,s){return this.m_value=t+s.m_value,this.m_eps=s.m_eps+e.ulp(this.m_value),this}setSubE(t,s){return this.m_value=t.m_value-s.m_value,this.m_eps=t.m_eps+s.m_eps+e.ulp(this.m_value),this}setSub(t,s){return this.m_value=t-s,this.m_eps=e.ulp(this.m_value),this}setSubEN(t,s){return this.m_value=t.m_value-s,this.m_eps=t.m_eps+e.ulp(this.m_value),this}setSubNE(t,s){return this.m_value=t-s.m_value,this.m_eps=s.m_eps+e.ulp(this.m_value),this}mulThisE(t){let s=this.m_value*t.m_value;return this.m_eps=this.m_eps*Math.abs(t.m_value)+t.m_eps*Math.abs(this.m_value)+this.m_eps*t.m_eps+e.ulp(s),this.m_value=s,this}mulThis(t){let s=this.m_value*t;return this.m_eps=this.m_eps*Math.abs(t)+e.ulp(s),this.m_value=s,this}mul(t){return this.clone().mulThis(t)}mulE(t){return this.clone().mulThisE(t)}setMulE(t,s){let i=t.m_value*s.m_value;return this.m_eps=t.m_eps*Math.abs(s.m_value)+s.m_eps*Math.abs(t.m_value)+t.m_eps*s.m_eps+e.ulp(i),this.m_value=i,this}setMul(t,s){return this.m_value=t*s,this.m_eps=e.ulp(this.m_value),this}setMulEN(t,s){return this.setE(t),this.mulThis(s)}setMulNE(t,s){return this.setE(s),this.mulThis(t)}mulThisByPower2(t){return this.m_value*=t,this.m_eps*=Math.abs(t),this}static st_mulByPower2(t,s){return new e(t.m_value,t.m_eps).mulThisByPower2(s)}divE(t){return this.clone().divThisE(t)}divThisE(t){let s=Math.abs(t.m_value),i=this.m_value/t.m_value,n=(this.m_eps+Math.abs(i)*t.m_eps)/s;if(t.m_eps>.01*s){let r=t.m_eps/s;n*=1+(1+r)*r}return this.m_value=i,this.m_eps=n+e.ulp(i),this}divThis(t){let s=Math.abs(t);return this.m_value/=t,this.m_eps=this.m_eps/s+e.ulp(this.m_value),this}setDivE(t,s){return this.setE(t),this.divThisE(s)}setDiv(t,s){return this.m_value=t/s,this.m_eps=e.ulp(this.m_value),this}setDivEN(t,s){return this.setE(t),this.divThis(s)}setDivNE(t,s){return this.set(t),this.divThisE(s)}divThisByPower2(t){return this.m_value/=t,this.m_eps/=Math.abs(t),this}invThis(){return this.setE(Y.clone().divThisE(this)),this}sqrt(){return this.clone().sqrtThis()}sqrtThis(){let t,s;return this.m_value>=0?(t=Math.sqrt(this.m_value),s=this.m_value>10*this.m_eps?.5*this.m_eps/t:this.m_value>this.m_eps?t-Math.sqrt(this.m_value-this.m_eps):Math.max(t,Math.sqrt(this.m_value+this.m_eps)-t),s+=e.ulp(t)):this.m_value<-this.m_eps?(t=Number.NaN,s=Number.NaN):(t=0,s=Math.sqrt(this.m_eps)),this.m_value=t,this.m_eps=s,this}sqr(){return this.clone().sqrThis()}sqrThis(){let t=this.m_value*this.m_value;return this.m_eps=2*this.m_eps*Math.abs(this.m_value)+this.m_eps*this.m_eps+e.ulp(t),this.m_value=t,this}setSin(t){let s=Math.sin(t.m_value),i=Math.cos(t.m_value);this.m_value=s;let n=Math.abs(s),r=Math.abs(t.value());return this.m_eps=(Math.abs(i)+.5*n*t.m_eps)*t.m_eps+e.ulp(n+r),this}static ulp(t){let s=U(t),i=((0x7ff0000000000000n&s)>>52n)-1075n;return i>-1023n?(s=i+0x3ffn<<52n,js(s)):t===0?0:Number.MIN_VALUE}setCos(t){let s=Math.sin(t.m_value),i=Math.cos(t.m_value);this.m_value=i;let n=Math.abs(i),r=Math.abs(t.value());return this.m_eps=(Math.abs(s)+.5*n*t.m_eps)*t.m_eps+e.ulp(n+r),this}static st_cosAndSin(t,s,i){let n=Math.sin(t.m_value),r=Math.cos(t.m_value);i.m_value=n,s.m_value=r;let u=Math.abs(n),o=Math.abs(r),h=Math.abs(t.value());i.m_eps=(Math.abs(r)+.5*u*t.m_eps)*t.m_eps+e.ulp(u+h),s.m_eps=(Math.abs(n)+.5*o*t.m_eps)*t.m_eps+e.ulp(o+h)}negate(){return this.clone().negateThis()}negateThis(){return this.m_value=-this.m_value,this}setAbs(){return this.m_value=Math.abs(this.m_value),this}isInInterval(t){return j.construct(this.m_value-this.m_eps,this.m_value+this.m_eps).isIntersecting(t)}eq(t){return Math.abs(this.m_value-t.m_value)<=this.m_eps+t.m_eps}ne(t){return!this.eq(t)}gt(t){return this.m_value-t.m_value>this.m_eps+t.m_eps}lt(t){return t.m_value-this.m_value>this.m_eps+t.m_eps}ge(t){return!this.lt(t)}le(t){return!this.gt(t)}tolEQ(t,s){return Math.abs(this.m_value-t.m_value)<=s||this.eq(t)}tolNE(t,s){return!this.tolEQ(t,s)}tolGT(t,s){return this.m_value-t.m_value>s&&this.gt(t)}tolLT(t,s){return t.m_value-this.m_value>s&&this.lt(t)}tolGE(t,s){return!this.tolLT(t,s)}tolLE(t,s){return!this.tolGT(t,s)}isZero(){return Math.abs(this.m_value)<=this.m_eps}isFuzzyZero(){return this.isZero()&&this.m_eps!==0}tolIsZero(t){return Math.abs(this.m_value)<=Math.max(this.m_eps,t)}setPi(){this.setE(As)}setEuler(){this.set(2.718281828459045,mt())}static size(){return 1}};function y(e,t){let s=X(e),i=X(t),n=53-kt(s),r=53-kt(i);return(n>=0?n:0)+(r>=0?r:0)<=52}function V(e,t){let s=e+t;return s-e===t&&s-t===e}function E(e,t){let s=e-t;return e-s===t&&t+s===e}function mt(){return L()}_.dimensions=1;var As=new _(Math.PI,.5*mt()),Pe=new _(0,0),Y=new _(1,0),Ae=new _(4,0);function qe(e,t,s){return e.addE(t.subE(e).mulE(s))}function ze(e,t,s){return t.subE(t.subE(e).mulE(Y.subE(s)))}function qs(e){return Math.atanh(e)}function Ce(e){let t;if(e===0)t=1;else if(Math.abs(e)>.01)t=qs(e)/e;else{let s,i=-36.841361487904734;t=0;let n=e*e;for(let r=2*Math.trunc(i/Math.log(n)+2.5)-1;r>1;r-=2)s=1/r,t=(t+s)*n;t+=1}return t}function ot(e){let t=Math.PI*Math.PI/6,s;if(e===1)s=t;else if(e>1)s=t;else if(e===0)s=e;else if(e<0){let i=1+(e=Math.abs(e)),n=Math.log(i);s=n*n/-2-ot(e/i)}else if(e>.5){let i=1-e,n=Math.log(e)*Math.log(i);s=t-ot(i)-n}else{s=0;let i=1+Math.trunc(-16*Math.log(10)/Math.log(e)+1.5),n=i;for(let r=i;r>0;r--,n-=1)s*=e,s+=1/(n*n);s*=e}return s}function Ze(e,t){let s=t*e;if(Math.abs(t)<.1){let i=0;for(let n=60;n>=1;n--)i*=s,i+=1/n/n;return i*=e,i}return ot(s)/t}function Be(e,t){return e<t?jt(e,t):jt(t,e)}function Re(e,t){let s=Math.abs(e);return t>=0?s:-s}function Ge(e){return Math.round(e)}function zs(e,t,s,i,n){n[0]=t[0]+(s[0]-t[0])*i,n[1]=t[1]+(s[1]-t[1])*i,e===3&&(n[2]=t[2]+(s[2]-t[2])*i)}function Cs(e,t,s,i,n){n[0]=s[0]-(s[0]-t[0])*(1-i),n[1]=s[1]-(s[1]-t[1])*(1-i),e===3&&(n[2]=s[2]-(s[2]-t[2])*(1-i))}function ke(e,t,s,i,n){i<=.5?zs(e,t,s,i,n):Cs(e,t,s,i,n)}function Se(e,t,s,i,n){n[0]=t[0].addE(s[0].subE(t[0]).mulE(i)),n[1]=t[1].addE(s[1].subE(t[1]).mulE(i))}function Le(e,t,s,i,n){n[0]=s[0].subE(s[0].subE(t[0]).mulE(Y.subE(i))),n[1]=s[1].subE(s[1].subE(t[1]).mulE(Y.subE(i)))}function at(e,t,s){let i;return i=s<=.5?e+(t-e)*s:t-(t-e)*(1-s),i}function Fe(e,t,s){return e+(t-e)*s}function Oe(e,t,s){return t-(t-e)*(1-s)}function St(e,t,s,i){s<=.5?(i.x=e.x+(t.x-e.x)*s,i.y=e.y+(t.y-e.y)*s):(i.x=t.x-(t.x-e.x)*(1-s),i.y=t.y-(t.y-e.y)*(1-s))}function Qe(e,t,s,i){s<=.5?(i.x=e.x+(t.x-e.x)*s,i.y=e.y+(t.y-e.y)*s,i.z=e.z+(t.z-e.z)*s):(i.x=t.x-(t.x-e.x)*(1-s),i.y=t.y-(t.y-e.y)*(1-s),i.z=t.z-(t.z-e.z)*(1-s))}function Lt(e){return e*e}function Ue(e){return e*e*e}function Ve(e){return 1/Math.sqrt(e)}function je(e){return e<0?-1:e>0?1:0}function Ye(e,t,s,i){let n=[0],r=[0],u=[0];return O($(e,s,n),$(t,i,r),u)+(n[0]+r[0]+u[0])}var Ft=[0],Zs=[0];function $e(e,t,s){return Bs($(e,t,Ft),s,Ft[0],Zs)}var it=[0],nt=[0],rt=[0],ut=[0];function $(e,t,s){let i=e*t;return Ot(e,it,nt),Ot(t,rt,ut),s[0]=nt[0]*ut[0]-(i-it[0]*rt[0]-nt[0]*rt[0]-it[0]*ut[0]),i}function Ot(e,t,s){let i=134217729*e;t[0]=i-(i-e),s[0]=e-t[0]}var Qt=[0],Ut=[0];function Bs(e,t,s,i){let n=O(e,t,Qt),r=O(n,s,Ut);return O(r,Qt[0]+Ut[0],i)}function O(e,t,s){let i=e+t;return Math.abs(e)>Math.abs(t)?s[0]=e-i+t:s[0]=t-i+e,i}function We(e,t){return e%t}function Ht(e){let t=1-e;if(t===0)return 1;let s;if(t<=.01){let i=t,n=Math.log(i);s=1+i*(.4431471805599453-.25*n+i*(.05680519270997949-.09375*n+i*(.02183137044373718-.05859375*n+i*(.011544521417308362-.042724609375*n+i*(.00714200031339596-.0336456298828125*n+i*(.004854743337164948-.027757644653320312*n+i*(.003514687963781376-.023627042770385742*n)))))))}else{if(e<.016){let i=e;return A()*(1-i*(.25+i*(.046875+i*(.01953125+i*(.01068115234375+i*(.0067291259765625+i*(.004626274108886719+i*(.0033752918243408203+i*.0025710230693221092))))))))}s=ts(0,t,1)-e*ss(0,t,1)/3}return as(s,1,A())}function Rs(e,t,s=Number.NaN){if(x(t>=0&&t<=1),t===0)return e;let i=1,n=e;if(n<0&&(n=-n,i=-1),t===1){let m=Math.round(n/Jt()),c=n-m*Jt();return i*(2*m+Math.sin(c))}let r=A(),u=Math.floor(n/r);1&u?n=(u+1)*r-n:n-=u*r;let o=Math.sin(n),h=Number.isNaN(s)?Ht(t):s,a;if(o===1)a=h+Math.sqrt(1-t)*(n-r);else{let m=n*n;if(.01424*Math.pow(m,4)<=2*L())a=n*(1+m*t*(-1/6+m*((4-3*t)/120-(16+(45*t-60)*t)/5040*m)));else if(t<=.01){let c=Math.sin(2*n),l=Math.sin(4*n),v=Math.sin(6*n),d=Math.sin(8*n),b=Math.sin(10*n);a=n+t*((2*-n+c)/8+t*((-3*n+2*c-.25*l)/64+t*((-20*n+15*c-3*l+v/3)/1024+t*(5*(-140*n+112*c-28*l+16/3*v-.5*d)/65536+7*t*((-63*n+52.5*c-15*l+3.75*v-.625*d+.05*b)/65536+t*(-693*n+594*c-185.625*l+1.375*v-12.375*d+1.8*b-.125*Math.sin(12*n))/1048576)))))}else{let c=o*o,l=Math.cos(n),v=l*l,d=es(o,l,t);a=o*(ts(v,d,1)-t*c*ss(v,d,1)/3)}}return 1&u?a=h*(u+1)-a:a+=h*u,i*a}function Xe(e,t,s=Number.NaN){if(e===0)return 0;let i=1,n=e;e<0&&(n=-n,i=-1);let r=Number.isNaN(s)?Ht(t):s,u=Math.floor(n/r);1&u?n=(u+1)*r-n:n-=u*r;let o=n<=0?0:n>=r?A():Gs(n,t,r);return 1&u?o=A()*(u+1)-o:o+=A()*u,i*o}function ts(e,t,s){x((e!==0?1:0)+(t!==0?1:0)+1>1);let i=e,n=t,r=s;for(;;){let u=Math.sqrt(i*n)+Math.sqrt(n*r)+Math.sqrt(r*i);i=.25*(i+u),n=.25*(n+u),r=.25*(r+u);let o=(i+n+r)/3,h=(o-i)/o,a=(o-n)/o,m=(o-r)/o;if(Math.abs(h)<=.0024&&Math.abs(a)<=.0024&&Math.abs(m)<=.0024){let c=h*a-m*m,l=h*a*m;return(1+(1/24*c-.1-3/44*l-5*c*c/208+c*l/16)*c+(1/14+3*l/104)*l)/Math.sqrt(o)}}}function ss(e,t,s){x(e!==0||t!==0);let i=e,n=t,r=s,u=new Q(0),o=1;for(;;){let h=.2*(i+n+3*r),a=(h-i)/h,m=(h-n)/h,c=(h-r)/h;if(Math.abs(a)<=.0015&&Math.abs(m)<=.0015&&Math.abs(c)<=.0015){let p=a*m,N=c*c,T=p-N,q=p-6*N,M=q+T+T,g=3/26,I=q*(.25*(9/22)*q-.21428571428571427-1.5*g*c*M),D=c*(1/6*M+c*(-.4090909090909091*T+c*g*p));return 3*u.getResult()+o*(1+I+D)/(h*Math.sqrt(h))}let l=Math.sqrt(i),v=Math.sqrt(n),d=Math.sqrt(r),b=l*(v+d)+v*d;u.add(o/(d*(r+b))),o*=.25,i=.25*(i+b),n=.25*(n+b),r=.25*(r+b)}}function es(e,t,s){return e<.999?1-s*Lt(e):1-s+s*Lt(t)}function Gs(e,t,s){if(t===0)return e;if(t===1)return Math.asin(e);let i=0,n=!0;if(e<.2){let u=e*e,o=e*(1+u*t*(1/6+u*((13*t-4)/120+(16-284*t+493*t*t)/5040*u))),h=Math.abs(t*(4944*t-64-31224*t*t+37369*t*t*t)/362880*Math.pow(e,9));if(h<Math.abs(o)*L())return o;i=o,n=h>.1*o}if(n){let u=1-t,o=1-e/s,h=Math.sqrt(o*o+u*u),a=Math.atan2(u,e+L());i=A()+Math.sqrt(h)*(a-A())}let r=0;for(let u=0;u<7;u++){r=Rs(i,t,s);let o=es(Math.sin(i),Math.cos(i),t);if(i-=(r-e)/Math.sqrt(o),u>0&&Math.abs(r-e)<=4*L()*e)break}return i}function Je(e,t,s,i,n){return e===0?i===0?t:i===1?s:n:e===1?i===0?t:i===1?s:at(t,s,i):(e===2&&R("angular interpolation"),void R(""))}function Ke(e,t,s,i,n,r,u,o){if(e===0)for(let h=0;h<r;++h)i[h+n]=u===0?t[h]:u===1?s[h]:o;else if(e===1)if(u===0)S(i,t,n,0,r);else if(u===1)S(i,s,n,0,r);else for(let h=0;h<r;++h)i[h+n]=at(t[h],s[h],u);else if(e===2)if(u===0)S(i,t,n,0,r);else if(u===1)S(i,s,n,0,r);else{let h=0;for(let a=0,m=n;a<r;++a,++m)i[m]=at(t[a],s[a],u),h+=i[m]*i[m];if(h>0){h=Math.sqrt(h);for(let a=n;a<n+r;++a)i[a]/=h}else{for(let a=n;a<n+r;++a)i[a]=0;i[n]=1}}else R("")}function S(e,t,s,i,n){if(n===0)return;let r=0,u=s,o=i;for(;r++<n;)e[u++]=t[o++]}function He(e,t,s){let i=0;for(let n=0;!i&&n<s;++n)i=e[n]-t[n];return i}function W(e,t){return e}function ks(e){e.sort((t,s)=>t<s?-1:t>s?1:0)}function ti(e,t){let s=e.slice(0,t);ks(s),S(e,s,0,0,t)}function si(e,t,s,i){let n=e.slice(t,t+s);n.sort(i),S(e,n,t,0,s)}function ei(e,t){return e<t?-1:e>t?1:0}function ii(e,t,s,i){return e<s?-1:e>s?1:t<i?-1:t>i?1:0}function ni(e,t){if(e.length<2)return e.length;let s=0;for(let i=1;i<e.length;++i)t(e[i],e[s])||(s++,e[i]=W(e[s],e[s]=e[i]));return 1+s}function ri(e,t){e[t]=e.at(-1),e.pop()}function ui(e,t=!1){return{[Symbol.dispose](){this.bForget||e()},bForget:t}}function hi(e,t,s){e.length=t,e.fill(s)}function oi(e,t,s){e.length=s;for(let i=0;i<s;++i)e[i]=new t}function Ss(e,t){let s=new Array(t);for(let i=0;i<t;++i)s[i]=new e;return s}function ai(e,t,s){for(let i=0;i<s;++i)e[i].assign(t[i]);return s}function mi(e,t){let s=e.slice(0,t);for(let i=0;i<t;++i)s[i]=s[i].clone();return s}function ci(e){return Array.from({length:e},()=>null)}function li(e,t){return Array.from({length:t},()=>e())}function Ls(e,t){let s=new Array(e);return s.fill(t),s}function fi(e,t){return t in e&&Object.getOwnPropertyNames(e).length===1}var Vt=class{constructor(...t){this.m_elts=t}get length(){return this.m_elts.length}at(t){return this.m_elts[t]}[Symbol.dispose](){for(let t of this.m_elts)t[Symbol.dispose]()}};function jt(e,t){return{first:e,second:t}}var Fs=Math.PI,Os=2*Math.PI,Qs=.5*Math.PI,Yt=class{constructor(t,s){this.m_cr=t,this.m_cc=s,this.m_v=Ls(t*s,0)}get(t,s){return this.m_v[t*this.m_cc+s]}set(t,s,i){this.m_v[t*this.m_cc+s]=i}inc(t,s){return++this.m_v[t*this.m_cc+s]}},is=new ArrayBuffer(8),ns=new Float64Array(is),rs=new BigUint64Array(is),Us=0x0fffffffffffffn,Vs=0x7ff0000000000000n;function vi(){return Number.EPSILON*se}function U(e){return ns[0]=e,rs[0]}function js(e){return rs[0]=e,ns[0]}function X(e){return U(e)&Us}function $t(e){return Number((U(e)&Vs)>>52n)}function G(e){if(e===0n)return-1n;if(e===1n||-1n===e)return 0n;e<0n&&(e=-e);let t=0n,s=512n,i=1n<<t+s;for(;e>=i;)t+=s,s<<=1n,i<<=s;let n=t;s>>=1n;let r=n+s;for(;s>0n;)e<1n<<r||(n=r),s>>=1n,r=n+s;return n}function Wt(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function bi(e,t,s){return e===t||Math.abs(e-t)<=s||Number.isNaN(e)&&Number.isNaN(t)}function di(e,t){return e<t?-1:e>t?1:0}function _i(e,t){if(e<t)return-1;if(e>t)return 1;if(e===t)return 0;{let s=Number.isNaN(e),i=Number.isNaN(t);return s<i?-1:s>i?1:0}}function pi(){return 2147483647}function xi(){return 32767}function us(){return 2147483647}function Ni(){return-2147483648}var J=us(),Ys=BigInt(J),hs=2166136261,F=16777619;function $s(e){let t=hs,s=e;return t=(t^255&s)*F,s>>=8,t=(t^255&s)*F,s>>=8,t=(t^255&s)*F,s>>=8,t=(t^255&s)*F,t&J}var Ws=14695981039346656037n,k=1099511628211n;function Xs(e){let t=Ws,s=e;return t=(t^0xffn&s)*k,s>>=8n,t=(t^0xffn&s)*k,s>>=8n,t=(t^0xffn&s)*k,s>>=8n,t=(t^0xffn&s)*k,s>>=8n,t=(t^0xffn&s)*k,s>>=8n,t=(t^0xffn&s)*k,s>>=8n,t=(t^0xffn&s)*k,t&Ys}function Js(e){return 1103515245*e+12345&2147483647}function yi(e){let t=hs;for(let s=0,i=e.length;s<i;++s)t=(t^e.charCodeAt(s))*F;return t&J}function ct(e,t){return t+2654435769+(e<<6)+(e>>2)&J}function gi(e,t){return ct(e,os(t))}function Ks(e){return ct(3735928559,e)}function Ti(e,t){return ct(e,Ks(t))}function Ei(e){return $s(e)}function os(e){return Number(Xs(e))}function Hs(e){return ie(e)}function Mi(e){return os(U(Hs(e)))}function wi(e){return Js(e)}var te=100,se=100;function Xt(){return Number.EPSILON*te}function Ii(){return .38196601125010515}function Di(){return 1.4142135623730951}function L(){return Number.EPSILON}function Pi(e,t,s){return e===t||e===s}function as(e,t,s){return e>=t?e<=s?e:s:t}function Ai(e,t,s){let i=e[0];if(i>=t){if(i<=s)return!1;e[0]=s}else e[0]=t;return!0}function qi(e,t){return e>=t?t:e<-t?-t:e}function Jt(){return Fs}function zi(){return Os}function A(){return Qs}var ee=3*A();function Ci(){return ee}function ie(e){return e+0}function Kt(e){return{v:e}}var f=class e{constructor(){this.m_rn=Kt(0n),this.m_rd=Kt(1n),this.m_bNaN=!1,this.m_bNormalized=!1,this.m_power=0,this.m_sign=0}static constructAssign(t,s){let i=t.clone();return s!==void 0&&i.limitPrecisionThis(s),i}static constructDouble(t){return new e().setDouble(t)}static constructInt64(t){return new e().setInt64(t)}static constructRational(t,s){return new e().setRational(t,s)}static constructInt32(t){return this.constructInt64(BigInt(Math.trunc(t)))}[Symbol.toPrimitive](t){return this}compare(t){return this.lt(t)?-1:this.gt(t)?1:0}assignCopy(t){return this.setThis(t)}abs(){return this.clone().absThis()}absThis(){return this.isNAN()||(this.m_sign*=this.m_sign),this}clone(){return new e().setThis(this)}setThis(t){return this.m_bNaN=t.m_bNaN,this.m_bNormalized=t.m_bNormalized,this.m_rn.v=t.m_rn.v,this.m_rd.v=t.m_rd.v,this.m_power=t.m_power,this.m_sign=t.m_sign,this}setZero(){return this.m_rn.v=0n,this.m_rd.v=1n,this.m_bNaN=!1,this.m_power=0,this.m_bNormalized=!0,this.m_sign=0,this}setDouble(t){if(this.setZero(),t===0)return this;if(Number.isInteger(t)&&Math.abs(t)<us())return this.setInt32(t);let s=U(t),i=(s&e.s_em)>>52n,n=!!(s&e.s_sm),r=s&e.s_fm;if(i===e.s_emax)return r?(this.m_rn.v=this.m_rd.v=0n,this.m_bNaN=!0,this):(this.m_rn.v=n?-1n:1n,this.m_rd.v=0n,this);i===0n&&R("denormalized numbers not yet implemented");let u=i-1023n,o=u>=0n?u:0n,h=u<0n?-u:0n;return this.m_rn.v=(1n<<52n|r)<<o,this.m_rd.v=1n<<52n+h,this.m_sign=n?-1:1,this.m_bNormalized=!1,this.normalizeThis()}setInt64(t){return t===0n?this.setZero():(this.m_bNaN=!1,this.m_sign=t>0n?1:-1,this.m_rn.v=t>0n?t:-t,this.m_rd.v=1n,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setRational(t,s){return t===0n?s===0n?this.setNAN():this.setZero():s===0n?t>0n?this.setPositiveInf():this.setNegativeInf():(this.m_sign=(t>0n?1:-1)*(s>0n?1:-1),this.m_rn.v=t>0n?t:-t,this.m_rd.v=s>0n?s:-s,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setInt32(t){return this.setInt64(BigInt(Math.trunc(t)))}getDouble(){return this.convertToDouble()}toDouble(){return this.convertToDouble()}value(){return this.convertToDouble()}isNAN(){return this.m_bNaN}isPositiveInf(){return!this.isNAN()&&this.m_rd.v===0n&&this.m_sign===1}isNegativeInf(){return!this.isNAN()&&this.m_rd.v===0n&&this.m_sign===-1}isFinite(){return!this.isNAN()&&this.m_rd.v!==0n}setNAN(){return this.m_bNaN=!0,this.m_rn.v=0n,this.m_rd.v=0n,this.m_power=0,this.m_bNormalized=!0,this}setPositiveInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=1,this.m_power=0,this}setNegativeInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=-1,this.m_power=0,this}subThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())this.setNAN();else{if(this.isPositiveInf()&&t.isNegativeInf())return this.setPositiveInf(),this;if(this.isNegativeInf()&&t.isNegativeInf())this.setNAN();else if(this.isNegativeInf()&&t.isPositiveInf())return this.setNegativeInf(),this}return this.isNAN()?this:this.opPlusMinus(t,!1)}thisSubAbs(t){return x(0),this}mulThis(t){return t.isNAN()&&this.setNAN(),this.isNAN()?this:(this.m_sign*=t.m_sign,this.m_sign===0?this.setZero():(this.m_rn.v*=t.m_rn.v,this.m_rd.v*=t.m_rd.v,this.m_power+=t.m_power,this.m_bNormalized=!1,this.normalizeThis(),this))}mulDoubleThis(t){return this.mulThis(e.constructDouble(t))}thisMulInt64(t){return x(0),this}thisMulInt32(t){return x(0),this}divThis(t){return this.mulThis(t.clone().invertThis())}divDoubleThis(t){return this.divThis(e.constructDouble(t))}addDoubleThis(t){return this.addThis(e.constructDouble(t))}subDoubleThis(t){return this.subThis(e.constructDouble(t))}mul(t){return this.clone().mulThis(t)}mulBigIntThis(t){return this.mulThis(e.constructInt64(t))}mulDouble(t){return this.clone().mulThis(e.constructDouble(t))}div(t){return this.clone().divThis(t)}divDouble(t){return this.clone().divDoubleThis(t)}add(t){return this.clone().addThis(t)}fmSubThis(t,s){return this.subThis(t.clone().mulThis(s))}fmAddThis(t,s){return this.addThis(t.clone().mulThis(s))}addThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())return this.setPositiveInf(),this;if(this.isPositiveInf()&&t.isNegativeInf())this.setNAN();else{if(this.isNegativeInf()&&t.isNegativeInf())return this.setNegativeInf(),this;this.isNegativeInf()&&t.isPositiveInf()&&this.setNAN()}return this.isNAN()?this:this.opPlusMinus(t,!0)}addDouble(t){return this.clone().addThis(e.constructDouble(t))}sub(t){return this.clone().subThis(t)}subDouble(t){return this.clone().subThis(e.constructDouble(t))}isZero(){return this.m_sign===0}equals(t){return this.clone().subThis(t).isZero()}lt(t){return!this.isNAN()&&!t.isNAN()&&!(this.isPositiveInf()&&t.isPositiveInf()||this.isNegativeInf()&&t.isNegativeInf())&&!this.isPositiveInf()&&(!!t.isPositiveInf()||this.clone().sub(t).LZ())}absLessAbs(t){return this.abs().lt(t.abs())}gt(t){return this.clone().sub(t).GZ()}lte(t){return this.sub(t).LEZ()}gte(t){return this.sub(t).GEZ()}normalizeThis(){if(this.m_bNormalized)return this;if(this.m_rn.v===0n)return this.setZero();let t=0,s=0xffffffffn;for(;(this.m_rn.v&s)===0n&&s<=this.m_rn.v;)s<<=32n,t+=32;s&=this.m_rn.v,s>>=BigInt(t),t+=ht(BigInt.asUintN(32,s))-1;let i=0;for(s=0xffffffffn;(this.m_rd.v&s)===0n&&s<=this.m_rd.v;)s<<=32n,i+=32;return s&=this.m_rd.v,s>>=BigInt(i),i+=ht(BigInt.asUintN(32,s))-1,this.m_rn.v>>=BigInt(t),this.m_rd.v>>=BigInt(i),this.m_power+=t-i,this.m_rn.v>1n&&this.m_rd.v>1n&&(this.m_rn.v%this.m_rd.v===0n?(this.m_rn.v/=this.m_rd.v,this.m_rd.v=1n):this.m_rd.v%this.m_rn.v===0n&&(this.m_rd.v/=this.m_rn.v,this.m_rn.v=1n)),this.m_bNormalized=!0,this}negateThis(){return this.isNAN()||(this.m_sign*=-1),this}negate(){return this.clone().negateThis()}invertThis(){return this.isNAN()?this:this.isPositiveInf()||this.isNegativeInf()?(this.setZero(),this):this.m_rn.v===0n?(this.setPositiveInf(),this):(this.m_rd=W(this.m_rn,this.m_rn=this.m_rd),this.m_power=-this.m_power,this)}limitPrecisionThis(t){if(t===0)return this;if(this.isZero())return this.setZero();if(!this.isFinite())return this;this.normalizeThis();let s=Number(G(this.m_rn.v));if(s>t){let i=s-t;this.m_rn.v>>=BigInt(s-t),this.m_power+=i}if(s=Number(G(this.m_rd.v)),s>t){let i=s-t;this.m_rd.v>>=BigInt(s-t),this.m_power-=i}return this}hiBitIndex(){return Math.max(Number(G(this.m_rn.v)),Number(G(this.m_rd.v)))}ldexp(t){return this.clone().ldexpThis(t)}ldexpThis(t){return t&&(this.m_bNormalized=!1,this.m_power+=t,this.normalizeThis()),this}LZ(){return!this.isNAN()&&this.m_sign===-1}GZ(){return!this.isNAN()&&this.m_sign===1}LEZ(){return!this.isNAN()&&this.m_sign<=0}GEZ(){return!this.isNAN()&&this.m_sign>=0}toString(){return this.toDouble().toString()}sqr(){return this.clone().sqrThis()}sqrThis(){return this.mulThis(this.clone())}static sqrt(t,s){if(t.m_sign<0n&&Gt("MP_value: sqrt(-1)"),t.isZero())return t.clone();let i=52,n=2220446049250313e-31;for(;i<s;)2*i<=s?(n*=n,i*=2):(n*=2220446049250313e-31,i+=52);i+=52;let r=G(t.m_rn.v),u=G(t.m_rd.v),o,h=t.m_power+Number(r-u),a=new e;Math.abs(h)>200?(1&Math.abs(h)&&(h+=1),o=e.constructAssign(t,53).ldexpThis(-h).value(),a.setThis(t).ldexpThis(-h),x(Number.isFinite(o))):(a.setThis(t),o=a.value(),x(Number.isFinite(o)),h=0),o=Math.sqrt(o);let m=e.constructDouble(o),c=e.constructDouble(n);c.mulThis(m).ldexpThis(1);let l=n*o*2,v=m.clone(),d=new e,b;for(let p=0;p<10;++p){v.mulThis(m),d.setThis(a).subThis(v).absThis();let N=d.value();if(b=1,N<.9)for(;N>l;)N*=N,++b;else b=4;if(d.lte(c))break;for(let T=0;T<b;T++)v.setThis(m).divThis(a).invertThis().addThis(m).ldexpThis(-1).limitPrecisionThis(i),m.setThis(v)}return m.ldexpThis(h/2)}static cubicRoot(t,s){if(t.isZero())return t.clone();let i=52,n=2220446049250313e-31;for(;i<s;)2*i<=s?(n*=n,i*=2):(n*=2220446049250313e-31,i+=52);i+=52;let r=Math.pow(Math.abs(t.value()),1/3),u=e.constructDouble(r),o=u.clone();o.sqrThis().mulDoubleThis(3).mulDoubleThis(n),o.limitPrecisionThis(32),t.LZ()&&u.negateThis();for(let h=0;h<10;++h){let a=u.clone();a.sqrThis().mulThis(u);let m=a.clone();if(m.subThis(t),m.absThis().limitPrecisionThis(32),m.lte(o))break;m.setThis(t),m.ldexpThis(1),m.addThis(a);let c=a.clone();c.ldexpThis(1),c.addThis(t),m.divThis(c),u.mulThis(m),u.limitPrecisionThis(i)}return u}isInTheRangeOfDouble(){return x(0),!1}sign(){return this.m_sign}cosAndSin(t,s){x(0)}static nan(){return x(0),new e}convertToDouble(){if(this.m_bNaN)return Number.NaN;if(this.isZero())return 0;if(this.m_rd.v===0n)return this.m_sign===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;let t=this.m_sign===-1,s=this.m_rn.v<<(this.m_power>=0?BigInt(this.m_power):0n),i=this.m_rd.v<<(this.m_power<0?BigInt(-this.m_power):0n),n=s/i,r=Number(n);if(BigInt(r)!==n)return t?-r:r;let u=s-n*i;if(u){let o=G(i)-1023n;o>0n&&(i>>=o,u<<=52n,u>>=o);let h=Number(u);Number.isFinite(h)||(u>>=52n,h=Number(u),o=0n),o>0n&&(h/=Math.pow(2,52)),r+=h/Number(i)}return t?-r:r}signVal(){return this.m_sign===1?1n:this.m_sign===-1?-1n:0n}opPlusMinus(t,s){let i=Math.min(this.m_power,t.m_power),n,r;this.m_power>i?(n=BigInt(this.m_power-i),r=0n):(n=0n,r=BigInt(t.m_power-i));let u=this.signVal()*this.m_rn.v*t.m_rd.v<<n,o=t.signVal()*t.m_rn.v*this.m_rd.v<<r;return this.m_rn.v=s?u+o:u-o,this.m_rd.v*=t.m_rd.v,this.m_power=i,this.m_sign=1,this.m_rn.v<0n&&(this.m_sign=-1,this.m_rn.v=-this.m_rn.v),this.m_bNormalized=!1,this.normalizeThis(),this}};f.s_sm=0x8000000000000000n,f.s_em=0x7ff0000000000000n,f.s_fm=0x000fffffffffffffn,f.s_emax=0x7ffn;var Zi=f.constructInt32(1),Bi=f.constructInt32(0);function ne(e,t){return Ds(e^t)}function re(e,t){let s=$t(e),i=$t(t);return s===i?(s-=53-ne(X(e),X(t)),s):s>i?s:i}function Ri(e,t){for(let s=0,i=0,n=e.length;s<n;s+=2,i++)t[i].x=e[s],t[i].y=e[s+1]}function Gi(e){let t=new Float64Array(2*e.length);for(let s=0,i=e.length;s<i;++s){let n=s<<1;t[n]=e[s].x,t[n+1]=e[s].y}return t}function ki(e){let t=Ss(w,e.length);for(let s=0,i=e.length;s<i;++s)t[s].setCoords(e[s][0],e[s][1]);return t}var w=class e{static construct(t,s){return new e(t,s)}constructor(t,s){t!==void 0?(this.x=t,this.y=s):this.x=this.y=Number.NaN}clone(){return new e(this.x,this.y)}assign(t){this.setCoordsPoint2D(t)}setCoords(t,s){return this.x=t,this.y=s,this}setCoordsPoint2D(t){this.x=t.x,this.y=t.y}isEqualPoint2D(t,s){return s!==void 0?Math.abs(this.x-t.x)<=s&&Math.abs(this.y-t.y)<=s:this.x===t.x&&this.y===t.y}isEqual(t,s,i){return i!==void 0?Math.abs(this.x-t)<=i&&Math.abs(this.y-s)<=i:this.x===t&&this.y===s}equalsPoint2D(t,s){return this.isEqualPoint2D(t,s)}setSub(t,s){this.x=t.x-s.x,this.y=t.y-s.y}addThis(t){return this.x+=t.x,this.y+=t.y,this}setAdd(t,s){return this.x=t.x+s.x,this.y=t.y+s.y,this}absoluteOther(t){}absolute(){return x(0),this}setNegate(){this.x=-this.x,this.y=-this.y}setNegateOther(t){this.x=-t.x,this.y=-t.y}interpolateThis(t,s){}interpolate(t,s,i){x(0)}scaleAddThis(t,s){this.x=this.x*t+s.x,this.y=this.y*t+s.y}setScaleAdd(t,s,i){this.x=s.x*t+i.x,this.y=s.y*t+i.y}scaleOther(t,s){x(0)}scale(t){this.x*=t,this.y*=t}compare(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:0}compareX(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}normalizeOther(t){x(0)}normalize(){let t=this.length();return t?(this.x/=t,this.y/=t):(this.x=1,this.y=0),this}getUnitVector(){return this.clone().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}sqrLength(){return this.x*this.x+this.y*this.y}static averageFast(t,s){return x(0),{}}static average(t,s){let i=new e;if(s===0)return i.setNAN(),i;if(s===1)return i.assign(t[0]),i;let n=new Q(t[0].x),r=new Q(t[0].y);for(let u=1;u<s;u++)n.add(t[u].x),r.add(t[u].y),255&u||(n.normalize(),r.normalize());return i.x=n.getResult()/s,i.y=r.getResult()/s,i}offset(t,s){let i=e.distance(t,s),n=e.construct(this.x,this.y);if(i===0)return e.distance(n,t);let r=s.clone();return r.subThis(t),n.subThis(t),n.crossProduct(r)/i}side(t,s){return t.equals(s)?this.equals(t)?0:1:e.orientationRobust(s,t,this)}static sqrDistance(t,s){let i=t.x-s.x,n=t.y-s.y;return i*i+n*n}static sqrDistanceCoords(t,s,i,n){let r=i-t,u=n-s;return r*r+u*u}static distance(t,s){return Math.sqrt(e.sqrDistance(t,s))}dotProduct(t){return this.x*t.x+this.y*t.y}dotProductAbs(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)}crossProduct(t){return this.x*t.y-this.y*t.x}crossProductAbs(t){return x(0),0}rotateDirect(t,s){let i=this.x*t-this.y*s,n=this.x*s+this.y*t;this.x=i,this.y=n}rotateReverse(t,s){let i=this.x*t+this.y*s,n=-this.x*s+this.y*t;this.x=i,this.y=n}leftPerpendicularThis(){let t=this.x;this.x=-this.y,this.y=t}leftPerpendicularOther(t){let s=t.x;this.x=-t.y,this.y=s}rightPerpendicularThis(){let t=this.x;this.x=this.y,this.y=-t}rightPerpendicularOther(t){let s=t.x;this.x=t.y,this.y=-s}equals(t){return this.x===t.x&&this.y===t.y}notequals(t){return this.x!==t.x||this.y!==t.y}not(){return!this.x&&!this.y}gt(t){return this.y>t.y||this.y===t.y&&this.x>t.x}gte(t){return!this.lt(t)}lt(t){return this.y<t.y||this.y===t.y&&this.x<t.x}lte(t){return!this.gt(t)}subThis(t){return this.x-=t.x,this.y-=t.y,this}divThis(t){return this.x/=t,this.y/=t,this}add(t){return new e(this.x+t.x,this.y+t.y)}sub(t){return new e(this.x-t.x,this.y-t.y)}negateThis(){return this.x=-this.x,this.y=-this.y,this}negate(){return new e(-this.x,-this.y)}mul(t){return new e(this.x*t,this.y*t)}mulThis(t){return this.x*=t,this.y*=t,this}divide(t){return new e(this.x/t,this.y/t)}setNAN(){this.x=this.y=Number.NaN}isNAN(){return Number.isNaN(this.x)||Number.isNaN(this.y)}static getNAN(){return new e(Number.NaN,Number.NaN)}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}isZero(){return this.x===0&&this.y===0}norm(t){switch(t){case 0:{let s=Math.abs(this.x),i=Math.abs(this.y),n=s-i;return n>=0?s:n<=0?i:Number.NaN}case 1:return Math.abs(this.x)+Math.abs(this.y);case 2:return Math.sqrt(this.x*this.x+this.y*this.y);default:B("norm")}}getQuarter(){return e.getQuarterCoords(this.x,this.y)}static getQuarterCoords(t,s){return t>0?s>=0?1:4:s>0?2:t===0?4:3}static compareVectors(t,s){let i=t.getQuarter(),n=s.getQuarter();return n===i?e.orientationRobustImpl(e.construct(0,0),s,t,!0):i<n?-1:1}static compareVectorsOrigin(t,s,i){let n=s.sub(t),r=i.sub(t),u=n.getQuarter(),o=r.getQuarter();return o===u?e.orientationRobustImpl(t,i,s,!0):u<o?-1:1}static orientationRobust(t,s,i){return e.orientationRobustImpl(t,s,i,!1)}static orientationRobustEx(t,s,i,n){if(t.equals(s)||i.equals(n))return 0;let r=s.x-t.x,u=s.y-t.y,o=n.x-i.x,h=n.y-i.y;{let v=e.getQuarterCoords(r,u)-1,d=e.getQuarterCoords(o,h)-1,b=e.d[v][d];if(b!==0)return b}let a=r*h,m=u*o,c=4*L()*(Math.abs(a)+Math.abs(m)),l=a-m;return Math.abs(l)>=c?l<0?-1:l>0?1:0:e.orientationRobustExMp(t,s,i,n)}static orientationRobustExMp(t,s,i,n){let r=f.constructDouble(s.x),u=f.constructDouble(n.x);r.subThis(f.constructDouble(t.x)),u.subThis(f.constructDouble(i.x));let o=f.constructDouble(s.y),h=f.constructDouble(n.y);return o.subThis(f.constructDouble(t.y)),h.subThis(f.constructDouble(i.y)),r.mulThis(h),o.mulThis(u),r.subThis(o),r.LZ()?-1:r.GZ()?1:0}static orientationNonRobust(t,s,i){let n=s.sub(t).crossProduct(i.sub(t));return n<0?-1:n>0?1:0}static orientationRobustImpl(t,s,i,n){if(s.isEqualPoint2D(t)||i.isEqualPoint2D(t)||s.isEqualPoint2D(i))return 0;let r=s.x-t.x,u=s.y-t.y,o=i.x-t.x,h=i.y-t.y;if(!n){let c=e.getQuarterCoords(r,u)-1,l=e.getQuarterCoords(o,h)-1,v=e.d[c][l];if(v!==0)return v}let a=(Math.abs(r)+Math.abs(u)+Math.abs(o)+Math.abs(h))*(Math.abs(s.x)+Math.abs(s.y)+Math.abs(i.x)+Math.abs(i.y))*8*mt(),m=r*h-u*o;if(Math.abs(m)>a)return m<0?-1:1;if(E(s.x,t.x)&&E(i.y,t.y)&&E(s.y,t.y)&&E(i.x,t.x)&&y(r,h)&&y(u,o)){let c=r*h,l=u*o;if(E(c,l)){let v=c-l;return v<0?-1:v>0?1:0}}return e.orientationRobustMp(t,s,i)}static orientationRobustMp(t,s,i){let n=f.constructDouble(s.x),r=f.constructDouble(i.x);{let h=f.constructDouble(t.x);n.subThis(h),r.subThis(h)}let u=f.constructDouble(i.y),o=f.constructDouble(s.y);{let h=f.constructDouble(t.y);u.subThis(h),o.subThis(h)}return n.mulThis(u),o.mulThis(r),n.subThis(o),n.LZ()?-1:n.GZ()?1:0}static inCircleRobust(t,s,i,n){let r=new _,u=new _;r.set(t.x),r.subThis(n.x),u.set(t.y),u.subThis(n.y);let o=new _,h=new _;o.set(s.x),o.subThis(n.x),h.set(s.y),h.subThis(n.y);let a=new _,m=new _;a.set(i.x),a.subThis(n.x),m.set(i.y),m.subThis(n.y);let c=r.mulE(h).subE(u.mulE(o)),l=o.mulE(m).subE(h.mulE(a)),v=r.mulE(m).subE(u.mulE(a)),d=r.mulE(r).addE(u.mulE(u)),b=o.mulE(o).addE(h.mulE(h)),p=a.mulE(a).addE(m.mulE(m)),N=d.mulE(l).subE(b.mulE(v)).addE(p.mulE(c));if(!N.isFuzzyZero()){let T=N.value();return T<0?-1:T>0?1:0}return e.inCircleRobustMp(t,s,i,n)}static inCircleRobustMp(t,s,i,n){do{if(!E(t.x,n.x)||!E(t.y,n.y)||!E(s.x,n.x)||!E(s.y,n.y)||!E(i.x,n.x)||!E(i.y,n.y))break;let M=t.x-n.x,g=t.y-n.y,I=s.x-n.x,D=s.y-n.y,z=i.x-n.x,C=i.y-n.y;if(!y(M,D)||!y(g,I)||!y(I,C)||!y(D,z)||!y(M,C)||!y(g,z)||!y(M,M)||!y(g,g)||!y(I,I)||!y(D,D)||!y(z,z)||!y(C,C))break;let lt=M*D,ft=g*I,vt=I*C,bt=D*z,dt=M*C,_t=g*z,pt=M*M,xt=g*g,Nt=I*I,yt=D*D,gt=z*z,Tt=C*C;if(!E(lt,ft)||!E(vt,bt)||!E(dt,_t)||!V(pt,xt)||!V(Nt,yt)||!V(gt,Tt))break;let Et=lt-ft,Mt=vt-bt,wt=dt-_t,It=pt+xt,Dt=Nt+yt,Pt=gt+Tt;if(!y(It,Mt)||!y(Dt,wt)||!y(Pt,Et))break;let At=It*Mt,qt=Dt*wt,zt=Pt*Et;if(!E(At,qt))break;let Ct=At-qt;if(!V(Ct,zt))break;let Zt=Ct+zt;return Zt<0?-1:Zt>0?1:0}while(!1);let r=f.constructDouble(n.x),u=f.constructDouble(n.y),o=f.constructDouble(t.x),h=f.constructDouble(t.y);o.subThis(r),h.subThis(u);let a=f.constructDouble(s.x),m=f.constructDouble(s.y);a.subThis(r),m.subThis(u);let c=f.constructDouble(i.x),l=f.constructDouble(i.y);c.subThis(r),l.subThis(u);let v=o.mul(m).sub(h.mul(a)),d=a.mul(l).sub(m.mul(c)),b=o.mul(l).sub(h.mul(c)),p=o.mul(o).add(h.mul(h)),N=a.mul(a).add(m.mul(m)),T=c.mul(c).add(l.mul(l)),q=p.mul(d).sub(N.mul(b)).add(T.mul(v));return q.LZ()?-1:q.GZ()?1:0}static inCircleRobustMp3Point(t,s,i){let n=f.constructDouble(t.x),r=f.constructDouble(t.y),u=f.constructDouble(s.x),o=f.constructDouble(s.y),h=f.constructDouble(i.x),a=f.constructDouble(i.y),m=h.mul(h).add(a.mul(a)).sub(h.mul(n).add(a.mul(r)).add(h.mul(u)).add(a.mul(o))).add(n.mul(u).add(r.mul(o)));return m.LZ()?-1:m.GZ()?1:0}static inCircleRobust3Point(t,s,i){let n=new _(t.x),r=new _(t.y),u=new _(s.x),o=new _(s.y),h=new _(i.x),a=new _(i.y),m=h.mulE(h).addE(a.mulE(a)).subE(h.mulE(n).addE(a.mulE(r)).addE(h.mulE(u)).addE(a.mulE(o))).addE(n.mulE(u).addE(r.mulE(o)));if(!m.isFuzzyZero()){let c=m.value();return c<0?-1:c>0?1:0}return e.inCircleRobustMp3Point(t,s,i)}static calculateCircleCenterFromThreePoints(t,s,i){if(t.equals(i)||t.equals(s)||i.equals(s))return e.getNAN();let n=ue(t,s,i);return n.isNAN()?he(t,s,i):n}static calculateAngle(t,s){return Math.atan2(t.crossProduct(s),t.dotProduct(s))}static isBisectorRobust(t,s,i){return x(0),!1}static size(){return 2}get 0(){return this.x}get 1(){return this.y}set 0(t){this.x=t}set 1(t){this.y=t}static compareZorder(t,s){let i=e.c_compare_zorder_xx[t.x<0?1:0]|e.c_compare_zorder_yy[t.y<0?1:0],n=e.c_compare_zorder_xx[s.x<0?1:0]|e.c_compare_zorder_yy[s.y<0?1:0];if(i===n){let r=0,u=0;for(let o=0;o<2;++o){let h=re(t[o],s[o]);h>r&&(r=h,u=o)}return t[u]<s[u]}return i<n}static lerp(t,s,i){let n=new e;return St(t,s,i,n),n}static getClosestCoordinate(t,s,i,n=!1){let r=e.getNAN();r.setSub(s,t);let u=r.sqrLength();if(u===0)return .5;if(s.isEqualPoint2D(i))return 1;let o=e.getNAN();o.setSub(i,t);let h=o.dotProduct(r)/u;return n||(h<0?h=0:h>1&&(h=1)),h}static intersectLinesAtOnePoint(t,s,i,n){if(t.equals(s)||i.equals(n))return e.getNAN();let r=s.x-t.x,u=i.x-n.x,o=s.y-t.y,h=i.y-n.y,a=r*h-u*o;if(!a)return e.getNAN();let m=a;if(m===0)return e.getNAN();let c=(i.x-t.x)*h-(i.y-t.y)*u;c/=m;let l=new e;return St(t,s,c,l),l.isFinite()?l:e.getNAN()}toString(){return`[${this.x},${this.y}]`}};function ue(e,t,s){let i=new _(t.x);i.subThis(e.x);let n=new _(t.y);n.subThis(e.y);let r=new _(s.x);r.subThis(e.x);let u=new _(s.y);u.subThis(e.y);let o=i.clone();o.mulThisE(u);let h=n.clone();if(h.mulThisE(r),o.subThisE(h),o.value()===0)return w.getNAN();o.mulThis(2);let a=i.clone();a.mulThisE(i);let m=n.clone();m.mulThisE(n);let c=a.clone();c.addThisE(m);let l=r.clone();l.mulThisE(r);let v=u.clone();v.mulThisE(u);let d=l.clone();d.addThisE(v);let b=n.clone();b.mulThisE(d),h=u.clone(),h.mulThisE(c),b.subThisE(h),b.divThisE(o);let p=i.clone();p.mulThisE(d),h=r.clone(),h.mulThisE(c),p.subThisE(h),p.divThisE(o);let N=w.construct(e.x-b.value(),e.y+p.value()),T=e.sub(N).length(),q=t.sub(N).length(),M=s.sub(N).length(),g=1e-15*(T+Math.abs(e.x)+Math.abs(t.x)+Math.abs(s.x)+Math.abs(e.y)+Math.abs(t.y)+Math.abs(s.y));return Math.abs(T-q)<=g&&Math.abs(T-M)<=g&&b.eps()<g&&p.eps()<g?N:w.getNAN()}function he(e,t,s){let i=f.constructDouble(t.x);i.subDoubleThis(e.x);let n=f.constructDouble(t.y);n.subDoubleThis(e.y);let r=f.constructDouble(s.x);r.subDoubleThis(e.x);let u=f.constructDouble(s.y);u.subDoubleThis(e.y);let o=i.clone();o.mulThis(u);let h=n.clone();if(h.mulThis(r),o.subThis(h),o.isZero())return w.getNAN();o.mulDoubleThis(2);let a=i.clone();a.mulThis(i);let m=n.clone();m.mulThis(n);let c=a.clone();c.addThis(m);let l=r.clone();l.mulThis(r);let v=u.clone();v.mulThis(u);let d=l.clone();d.addThis(v);let b=n.clone();b.mulThis(d),h=u.clone(),h.mulThis(c),b.subThis(h),b.divThis(o);let p=i.clone();return p.mulThis(d),h=r.clone(),h.mulThis(c),p.subThis(h),p.divThis(o),w.construct(e.x-b.value(),e.y+p.value())}w.dimensions=2,w.d=[[0,1,0,-1],[-1,0,1,0],[0,-1,0,1],[1,0,-1,0]],w.c_compare_zorder_xx=[2,0],w.c_compare_zorder_yy=[1,0];export{x as a,Z as b,oe as c,ae as d,me as e,ce as f,Bt as g,ls as h,fs as i,vs as j,le as k,Rt as l,fe as m,ve as n,B as o,be as p,de as q,_e as r,pe as s,R as t,Gt as u,bs as v,xe as w,Ne as x,ye as y,ge as z,_s as A,Te as B,Ee as C,Me as D,we as E,Q as F,j as G,_ as H,Pe as I,Y as J,Ae as K,qe as L,ze as M,Ce as N,Ze as O,Be as P,Re as Q,Ge as R,zs as S,Cs as T,ke as U,Se as V,Le as W,at as X,Fe as Y,Oe as Z,St as _,Qe as $,Lt as aa,Ue as ba,Ve as ca,je as da,Ye as ea,$e as fa,We as ga,Ht as ha,Rs as ia,Xe as ja,Je as ka,Ke as la,S as ma,He as na,W as oa,ks as pa,ti as qa,si as ra,ei as sa,ii as ta,ni as ua,ri as va,ui as wa,hi as xa,oi as ya,Ss as za,ai as Aa,mi as Ba,ci as Ca,li as Da,Ls as Ea,fi as Fa,Vt as Ga,jt as Ha,Fs as Ia,Os as Ja,Qs as Ka,Yt as La,vi as Ma,Wt as Na,bi as Oa,di as Pa,_i as Qa,pi as Ra,xi as Sa,us as Ta,Ni as Ua,yi as Va,ct as Wa,gi as Xa,Ks as Ya,Ti as Za,Ei as _a,Mi as $a,wi as ab,Xt as bb,Ii as cb,Di as db,L as eb,Pi as fb,as as gb,Ai as hb,qi as ib,Jt as jb,zi as kb,A as lb,Ci as mb,ie as nb,f as ob,Zi as pb,Bi as qb,Ri as rb,Gi as sb,ki as tb,w as ub};
