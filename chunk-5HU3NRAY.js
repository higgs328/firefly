import{a as H,b as f}from"./chunk-U7H5KNVZ.js";import{a as T}from"./chunk-6ZSOJV5L.js";import{a as F,b as S,c as v,d as z,e as x}from"./chunk-D7UZS622.js";import{a as p}from"./chunk-6F25LG6O.js";import{b as D}from"./chunk-2LI2GKBQ.js";import{y as B}from"./chunk-QBWJMFH5.js";import{a as b,b as k}from"./chunk-VTHXE323.js";var g={light:{color:[153,153,153,.25],width:"1px"},dark:{color:[153,153,153,.25],width:"1px"},darker:{color:[26,26,26,.25],width:"1px"}},c={lightBasemaps:{primary:"relationship-blue-orange-brown",secondary:["relationship-brewer-yellow-blue-black","relationship-brewer-pink-blue-purple","relationship-purple-green-blue","relationship-blue-green-purple","relationship-blue-orange-green","relationship-mustard-blue-wine","relationship-pink-blue-purple","relationship-olive-blue-green","relationship-yellow-cyan-blue","relationship-blue-pink-purple","relationship-purple-green-wine","relationship-blue-peach-purple","relationship-mint-mustard-green","relationship-purple-mustard-darkpurple","relationship-blue-orange-purple","relationship-pink-periwinkle-violet","relationship-blue-tan-green","relationship-blue-red-pink","relationship-blue-green-brightgreen","relationship-blue-orange-lavender","relationship-pink-purple-peach","relationship-purple-mustard-eggshell","relationship-blue-brick-green","relationship-orange-purple-lavender","relationship-brown-purple-lilac","relationship-teal-yellow-lightteal"]},darkBasemaps:{primary:"relationship-blue-green-brightgreen",secondary:["relationship-blue-red-pink","relationship-blue-orange-lavender","relationship-pink-purple-peach","relationship-purple-mustard-eggshell","relationship-blue-brick-green","relationship-orange-purple-lavender","relationship-brown-purple-lilac","relationship-teal-yellow-lightteal","relationship-blue-orange-brown","relationship-brewer-yellow-blue-black","relationship-brewer-pink-blue-purple","relationship-purple-green-blue","relationship-blue-green-purple","relationship-blue-orange-green","relationship-mustard-blue-wine","relationship-pink-blue-purple","relationship-olive-blue-green","relationship-yellow-cyan-blue","relationship-blue-pink-purple","relationship-purple-green-wine","relationship-blue-peach-purple","relationship-mint-mustard-green","relationship-purple-mustard-darkpurple","relationship-blue-orange-purple","relationship-pink-periwinkle-violet","relationship-blue-tan-green"]}},m="#aaaaaa",E="8px",L="2px",w=F({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for visualizing features based on relationship between two attributes.",schemes:{point:{light:{common:{noDataColor:m,outline:g.light,size:E},primary:c.lightBasemaps.primary,secondary:c.lightBasemaps.secondary},dark:{common:{noDataColor:m,outline:g.darker,size:E},primary:c.darkBasemaps.primary,secondary:c.darkBasemaps.secondary}},polyline:{light:{common:{noDataColor:m,width:L},primary:c.lightBasemaps.primary,secondary:c.lightBasemaps.secondary},dark:{common:{noDataColor:m,width:L},primary:c.darkBasemaps.primary,secondary:c.darkBasemaps.secondary}},polygon:{light:{common:{noDataColor:m,outline:g.light,fillOpacity:.8},primary:c.lightBasemaps.primary,secondary:c.lightBasemaps.secondary},dark:{common:{noDataColor:m,outline:g.dark,fillOpacity:.8},primary:c.darkBasemaps.primary,secondary:c.darkBasemaps.secondary}}}}}});function Z(e){return S(w,e)}function C(e){let a="default",r=x({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme,theme:w.get(a)});if(!r)return;let{schemesInfo:n,basemapId:o,basemapTheme:l}=r,i=k(b({},e),{basemap:o});return{primaryScheme:I(i,n.primary,n.common),secondarySchemes:n.secondary.map(t=>I(i,t,n.common)).filter(B),basemapId:o,basemapTheme:l}}function _(e){return v(e.name,C(e))}function $(e){return z(e.includedTags,e.excludedTags,C(e))}function j(e){if(!e)return;let a=b({},e);return a.colorsForClassBreaks=a.colorsForClassBreaks.map(r=>({numClasses:r.numClasses,colors:r.colors.map(n=>n.map(o=>new p(o)))})),a.tags=[...a.tags],a.noDataColor&&(a.noDataColor=new p(a.noDataColor)),"outline"in a&&a.outline&&(a.outline={color:a.outline.color&&new p(a.outline.color),width:a.outline.width}),a}function A(e,a){e=D(e);let r=[],n=(a||"HH").split(""),o=n[0],l=n[1];o==="L"&&e.reverse();let i=l==="H";return e.forEach(t=>{i&&t.reverse(),r=r.concat(t)}),r}function M(e,a,r){let n;return e.colorsForClassBreaks.some(o=>(o.numClasses===a&&(n=o.colors),!!n)),n=n?.map(o=>o.map(l=>new p(l))),n?A(n,r):null}function R(e,a){let r=a?e:j(e);return r.colorsForClassBreaks.forEach(n=>{let o=n.colors.reverse(),l=[];for(let i=0;i<n.numClasses;i++){let t=[];o.forEach(s=>{t.push(s[i])}),l.push(t)}n.colors=l}),r}function ee(e){let a=e.theme||"default",r=e.geometryType,n=e.colors,o=e.numClasses,l=w.get(a);if(!l)return[];let i=l.supportedBasemaps,t=[];return i.forEach(s=>{let h=C({theme:a,basemap:s,geometryType:r});if(h){let u=O(h.primaryScheme,n,o);u&&t.push(u),h.secondarySchemes.forEach(N=>{u=O(N,n,o),u&&t.push(u)})}}),t}function W(e,a,r,n){let o,l=M(e,r,n);return l&&H(a,l)===1&&(o=e),o}function d(e,a,r,n){let o,l=1;do o=W(e,a,r,n),o||(e=R(e),l++);while(!o&&l<=4);return o}function O(e,a,r){return d(e,a,r,"HH")||d(e,a,r,"HL")||d(e,a,r,"LH")||d(e,a,r,"LL")}function I(e,a,r){let n=e.geometryType!=="mesh"&&e.worldScale?e.view:null,o=T[a],l=e.theme||"default";if(!o)return;let i=l+"/"+e.basemap+"/"+a,t=[];for(let s in o)if(s!=="stops"&&s!=="name"&&s!=="tags"){let h=+s,u=o[s];t.push({numClasses:h,colors:u})}switch(e.geometryType){case"point":case"multipoint":{let s=r;return q({id:i,name:o.name,tags:o.tags,colorsForClassBreaks:t,noDataColor:s.noDataColor,opacity:1,outline:s.outline,size:s.size},n)}case"polyline":{let s=r;return G({id:i,name:o.name,tags:o.tags,colorsForClassBreaks:t,noDataColor:s.noDataColor,opacity:1,width:s.width},n)}case"polygon":{let s=r;return J({id:i,name:o.name,tags:o.tags,colorsForClassBreaks:t,noDataColor:s.noDataColor,opacity:s.fillOpacity,outline:s.outline})}case"mesh":{let s=r;return K({id:i,name:o.name,tags:o.tags,colorsForClassBreaks:t,noDataColor:s.noDataColor,opacity:s.fillOpacity})}}}function q(e,a){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:y(e.colorsForClassBreaks),noDataColor:new p(e.noDataColor),outline:{color:new p(e.outline.color),width:e.outline.width},size:a?f(e.size,a):e.size,opacity:e.opacity}}function G(e,a){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:y(e.colorsForClassBreaks),noDataColor:new p(e.noDataColor),opacity:e.opacity,width:a?f(e.width,a):e.width}}function J(e){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:y(e.colorsForClassBreaks),noDataColor:new p(e.noDataColor),outline:{color:new p(e.outline.color),width:e.outline.width},opacity:e.opacity}}function K(e){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:y(e.colorsForClassBreaks),noDataColor:new p(e.noDataColor),opacity:e.opacity}}function y(e){return e.map(a=>({numClasses:a.numClasses,colors:a.colors.map(r=>r.map(n=>new p(n)))}))}export{Z as a,C as b,_ as c,$ as d,j as e,A as f,M as g,R as h,ee as i};
