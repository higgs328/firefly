import{a as y}from"./chunk-4HN3Y3CL.js";import"./chunk-GYTQK3AJ.js";import{a as V}from"./chunk-4IWNSJVE.js";import"./chunk-5REY7VVO.js";import{a as E,b as l}from"./chunk-2AIDZIZ4.js";import{r as K,t as N,u as m}from"./chunk-Z7TBAZRW.js";import"./chunk-Z5UBWN4B.js";import{a as b,b as A,c as D,d as P}from"./chunk-RNGFPXC6.js";import"./chunk-LXWUQH7X.js";import"./chunk-RZU6EEB3.js";import{a as _}from"./chunk-TSG4MDJV.js";import{a as T}from"./chunk-HCW4M77K.js";import{a as x}from"./chunk-QKVTMI24.js";import{a as O}from"./chunk-GGYZRKBV.js";import{a as L}from"./chunk-37PSR6DC.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-5ZFVJPU5.js";import{a as I}from"./chunk-H25DKJGS.js";import"./chunk-BEONHHQH.js";import"./chunk-6DALCDDU.js";import{f as M}from"./chunk-PBAMEKFE.js";import"./chunk-XIZ7IH6M.js";import"./chunk-JD66UCS7.js";import"./chunk-FU7RO3AR.js";import"./chunk-4YRY3D3A.js";import"./chunk-ZZ5UYT7M.js";import"./chunk-U4XVPHQU.js";import"./chunk-XR5FT7TQ.js";import"./chunk-5BPM64SU.js";import"./chunk-TC77DYTW.js";import"./chunk-F2BQ2GD6.js";import"./chunk-R3XLNYYB.js";import"./chunk-DA3SDKGO.js";import"./chunk-ZOEPYNM4.js";import"./chunk-57VFBGF3.js";import"./chunk-GWBRHLNH.js";import"./chunk-BJH4F4SM.js";import"./chunk-Z3RBZHAK.js";import"./chunk-KALOJIUA.js";import"./chunk-KMMTNF7G.js";import"./chunk-MIS6QMFE.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import"./chunk-D3CUKSGS.js";import{a as w}from"./chunk-VCCMJ6BV.js";import{a as j}from"./chunk-QK56OQGR.js";import"./chunk-FXCL7YYQ.js";import"./chunk-K75TK42V.js";import"./chunk-CELWVZPW.js";import"./chunk-DYTVXYAV.js";import"./chunk-BOVYXYHK.js";import"./chunk-KVM6SHDX.js";import"./chunk-HX2VGIR2.js";import"./chunk-ERDKAICI.js";import"./chunk-EQZWYK27.js";import"./chunk-JLPLCY2B.js";import"./chunk-6CPVQBKS.js";import"./chunk-2GJBUR2F.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-YPMM52MU.js";import"./chunk-BBR7CJCO.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import{a as S}from"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import{a as u}from"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{c as v,i as g}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as i}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as o}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as c}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import{s as f}from"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import{b as n}from"./chunk-YOFFGXOB.js";import{g as d}from"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as p,b as h,f as a}from"./chunk-VTHXE323.js";var t=class extends E(T(O(L(w(I(x(_(j)))))))){constructor(...e){super(...e),this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.path=null,this.definitionExpression=null}initialize(){this.addHandles(v(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,g))}normalizeCtorArgs(e,r){return typeof e=="string"?p({url:e},r):e}readModifications(e,r,s){this._modificationsSource={url:u(e,s),context:s}}set elevationInfo(e){e!=null&&e.mode!=="absolute-height"||this._set("elevationInfo",e),this._validateElevationInfo(e)}load(e){return a(this,null,function*(){return this.addResolvingPromise(this._doLoad(e)),this})}_doLoad(e){return a(this,null,function*(){let r=e?.signal;try{yield this.loadFromPortal({supportedTypes:["Scene Service"]},e)}catch(s){f(s)}if(yield this._fetchService(r),this._modificationsSource!=null){let s=yield y.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin("modifications",s,this._modificationsSource.context.origin),this._modificationsSource=null}yield this._fetchIndexAndUpdateExtent(this.nodePages,r)})}beforeSave(){if(this._modificationsSource!=null)return this.load().then(()=>{},()=>{})}saveAs(e,r){return a(this,null,function*(){return this._debouncedSaveOperations(l.SAVE_AS,h(p({},r),{getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"}),e)})}save(){return a(this,null,function*(){let e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return this._debouncedSaveOperations(l.SAVE,e)})}validateLayer(e){if(e.layerType&&e.layerType!=="IntegratedMesh")throw new n("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new n("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new n("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}_validateElevationInfo(e){let r="Integrated mesh layers";m(d.getLogger(this),K(r,"absolute-height",e)),m(d.getLogger(this),N(r,e))}};i([o({type:String,readOnly:!0})],t.prototype,"geometryType",void 0),i([o({type:["show","hide"]})],t.prototype,"listMode",void 0),i([o({type:["IntegratedMeshLayer"]})],t.prototype,"operationalLayerType",void 0),i([o({json:{read:!1},readOnly:!0})],t.prototype,"type",void 0),i([o({type:b,readOnly:!0})],t.prototype,"nodePages",void 0),i([o({type:[A],readOnly:!0})],t.prototype,"materialDefinitions",void 0),i([o({type:[D],readOnly:!0})],t.prototype,"textureSetDefinitions",void 0),i([o({type:[P],readOnly:!0})],t.prototype,"geometryDefinitions",void 0),i([o({readOnly:!0})],t.prototype,"serviceUpdateTimeStamp",void 0),i([o({type:y}),V({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],t.prototype,"modifications",void 0),i([S(["web-scene","portal-item"],"modifications")],t.prototype,"readModifications",null),i([o(M)],t.prototype,"elevationInfo",null),i([o({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],t.prototype,"path",void 0),t=i([c("esri.layers.IntegratedMeshLayer")],t);var pe=t;export{pe as default};
