import{a as x}from"./chunk-7F5DJLJT.js";import{c as b,d as W,j as M,m as g}from"./chunk-NJWTSROP.js";import{a as h}from"./chunk-ARRCN5K3.js";import{b as j}from"./chunk-YOFFGXOB.js";import{b as f}from"./chunk-2LI2GKBQ.js";function m(n){if(n&&typeof n=="object"&&"type"in n&&n.type==="mesh")throw new j("Mesh geometries are not supported for this operation")}function q(n){n.forEach(m)}var N=57.29577951308232,P=.017453292519943;function S(n){return n*N}function G(n){return n*P}function z(n){return n/h.radius}function B(n){return Math.PI/2-2*Math.atan(Math.exp(-n/h.radius))}function R(n){return n.wkid!=null||n.wkt!=null}var w=[0,0];function y(n,e,t,r,l){let o=n,a=l;if(a.spatialReference=t,"x"in o&&"x"in a)[a.x,a.y]=e(o.x,o.y,w,r);else if("xmin"in o&&"xmin"in a)[a.xmin,a.ymin]=e(o.xmin,o.ymin,w,r),[a.xmax,a.ymax]=e(o.xmax,o.ymax,w,r);else if("paths"in o&&"paths"in a||"rings"in o&&"rings"in a){let i="paths"in o?o.paths:o.rings,p=[],s;for(let d=0;d<i.length;d++){let c=i[d];s=[],p.push(s);for(let u=0;u<c.length;u++)s.push(e(c[u][0],c[u][1],[0,0],r)),c[u].length>2&&s[u].push(c[u][2]),c[u].length>3&&s[u].push(c[u][3])}"paths"in a?a.paths=p:a.rings=p}else if("points"in o&&"points"in a){let i=o.points,p=[];for(let s=0;s<i.length;s++)p[s]=e(i[s][0],i[s][1],[0,0],r),i[s].length>2&&p[s].push(i[s][2]),i[s].length>3&&p[s].push(i[s][3]);a.points=p}return l}function k(n,e){let t=n&&(R(n)?n:n.spatialReference),r=e&&(R(e)?e:e.spatialReference);return!(n&&"type"in n&&n.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!t||!r)&&(!!W(r,t)||g(r)&&M(t)||g(t)&&M(r))}function C(n,e){if(n==null)return null;let t=n.spatialReference,r=e&&(R(e)?e:e.spatialReference);return k(t,r)?W(t,r)?f(n):g(r)?y(n,T,x.WebMercator,!1,f(n)):M(r)?y(n,L,x.WGS84,!1,f(n)):null:null}function T(n,e,t=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);let r=G(e);return t[0]=G(n)*h.radius,t[1]=h.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),t}function L(n,e,t=[0,0],r=!1){if(n===b[0])t[0]=-180;else if(n===b[1])t[0]=180;else{let l=S(n/h.radius);t[0]=r?l:l-360*Math.floor((l+180)/360)}return t[1]=S(Math.PI/2-2*Math.atan(Math.exp(-e/h.radius))),t}function D(n,e=!1,t=f(n)){return m(n),m(t),y(n,T,x.WebMercator,e,t)}function F(n,e=!1,t=f(n)){return m(n),m(t),y(n,L,x.WGS84,e,t)}export{m as a,q as b,z as c,B as d,k as e,C as f,T as g,L as h,D as i,F as j};
