import{a as F,b as ae,d as fe,e as me}from"./chunk-NFIPKH6V.js";import{a as v}from"./chunk-JPU2PQZC.js";import{a as oe,b as d,c as ce,l as _e}from"./chunk-5QEXLALV.js";import{a as le}from"./chunk-DGTD7Y73.js";import{e as H,f as c,g as w,h as D,i as f,j as ue,k as de,l as he}from"./chunk-LI2SX4T6.js";import{d as ie}from"./chunk-BWO7LS2H.js";import{d as pe}from"./chunk-HEVQSRJ2.js";import{b as ne}from"./chunk-4PTIEWMT.js";import{a as p}from"./chunk-TG2UTNEO.js";import{g as se}from"./chunk-XRGPJ3QY.js";import{b as te,g as O,h as re}from"./chunk-2LI2GKBQ.js";import{a as _}from"./chunk-QBWJMFH5.js";import{a as V}from"./chunk-VTHXE323.js";var ge=new WeakMap;function Re(r,e,t=!1){let s=`\u{1F6D1} DEPRECATED - ${e}`;if(!t)return void r.warn(s);let i=ge.get(r);i||(i=new Set,ge.set(r,i)),i.has(e)||(i.add(e),r.warn(s))}var ye="https://www.esriurl.com/";function Ke(r,e,t,s={}){_("esri-deprecation-warnings")&&T(r,`This widget is deprecated. Use the ${e} component instead.`,V({see:[`${e} component reference: ${ye}${t}/`,`Esri's move to web components: ${ye}components-transition-plan/`],replacement:`<${t}></${t}>`,warnOnce:!0},s))}function Ze(r,e,t={}){_("esri-deprecation-warnings")&&T(r,`Module: ${e}`,t)}function ve(r,e,t={}){if(_("esri-deprecation-warnings")){let{moduleName:s}=t;T(r,`Function: ${(s?s+"::":"")+e+"()"}`,t)}}function Je(r,e,t={}){if(_("esri-deprecation-warnings")){let{moduleName:s}=t;T(r,`Property: ${(s?s+"::":"")+e}`,t)}}function Qe(r,e,t,s={}){if(_("esri-deprecation-warnings")){let{moduleName:i}=s;T(r,`'${(i?i+"::":"")+e}' value: ${t}`,s)}}function Xe(r,e,t={}){_("esri-deprecation-warnings")&&T(r,`Multiple argument constructor: ${e}`,V({warnOnce:!0,replacement:`new ${e}({ <your properties here> })`},t))}function T(r,e,t={}){if(_("esri-deprecation-warnings")){let{replacement:s,version:i,see:n,warnOnce:a}=t,o=e;if(s&&(o+=`
	\u{1F6E0}\uFE0F Replacement: ${s}`),i&&(o+=`
	\u2699\uFE0F Version: ${i}`),n)if(Array.isArray(n)){o+=`
	\u{1F517} See for more details:`;for(let l of n)o+=`
		${l}`}else o+=`
	\u{1F517} See ${n} for more details.`;Re(r,o,a)}}var u;(function(r){r[r.DEFAULTS=0]="DEFAULTS",r[r.COMPUTED=1]="COMPUTED",r[r.SERVICE=2]="SERVICE",r[r.PORTAL_ITEM=3]="PORTAL_ITEM",r[r.WEB_SCENE=4]="WEB_SCENE",r[r.WEB_MAP=5]="WEB_MAP",r[r.LINK_CHART=6]="LINK_CHART",r[r.USER=7]="USER"})(u||(u={}));var rt=u.USER+1;function W(r){switch(r){case"defaults":return u.DEFAULTS;case"service":return u.SERVICE;case"portal-item":return u.PORTAL_ITEM;case"web-scene":return u.WEB_SCENE;case"web-map":return u.WEB_MAP;case"link-chart":return u.LINK_CHART;case"user":return u.USER;default:return null}}function S(r){switch(r){case u.DEFAULTS:return"defaults";case u.SERVICE:return"service";case u.PORTAL_ITEM:return"portal-item";case u.WEB_SCENE:return"web-scene";case u.WEB_MAP:return"web-map";case u.LINK_CHART:return"link-chart";case u.USER:return"user"}}function st(r){return S(r)}function it(r){return W(r)}function nt(r){return S(r)}var b=class extends le{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new w(this),this.flags=0,this.flags=c.Dirty|(t.nonNullable?c.NonNullable:0)|(t.hasOwnProperty("value")?c.HasDefaultValue:0)|(t.get===void 0?c.DepTrackingInitialized:0)|(t.dependsOn===void 0?c.AutoTracked:0)}destroy(){this.flags&c.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&D(this);let t=e.store,s=this.propertyName,i=this.flags,n=t.get(s);if(i&c.Computing||~i&c.Dirty&&t.has(s))return n;this.flags|=c.Computing;let a=e.host,o;i&c.AutoTracked?o=f(this.trackingTarget,this.metadata.get,a):(he(a,this),o=this.metadata.get.call(a)),this.flags|=c.DepTrackingInitialized,t.set(s,o,u.COMPUTED);let l=t.get(s);return l===n?this.flags&=~c.Dirty:ue(this.commit,this),this.flags&=~c.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~c.Dirty,this.onCommitted()}onInvalidated(){~this.flags&c.Overridden&&(this.flags|=c.Dirty);let e=this._observers;if(e&&e.length>0)for(let t of e)t.onInvalidated()}onCommitted(){let e=this._observers;if(e&&e.length>0){let t=e.slice();for(let s of t)s.onCommitted()}}};var R=class r{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){let t=new r;return this._values.forEach((s,i)=>{e&&e.has(i)||t.set(i,te(s))}),t}get(e){return this._values.get(e)}originOf(){return u.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}};function U(r,e,t){return r!==void 0}function we(r,e,t,s){return r!==void 0&&(!(t==null&&r.flags&c.NonNullable)||(s.lifecycle,d.INITIALIZING,!1))}var B=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=d.INITIALIZING,this.store=new R,this.mutable=!0,this._origin=u.USER;let t=this.host.constructor.__accessorMetadata__;for(let s in t){let i=new b(s,t[s]);this.propertiesByName.set(s,i)}this.metadata=t}initialize(){this.lifecycle=d.CONSTRUCTING}constructed(){this.lifecycle=d.CONSTRUCTED}destroy(){this.lifecycle=d.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==d.INITIALIZING}get(e){let t=this.propertiesByName.get(e);if(t.metadata.get)return t.getComputed(this);this.mutable&&D(t);let s=this.store;return s.has(e)?s.get(e):t.metadata.value}originOf(e){let t=this.store.originOf(e);if(t===void 0){let s=this.propertiesByName.get(e);if(s!==void 0&&s.flags&c.HasDefaultValue)return"defaults"}return S(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){let t=this.propertiesByName.get(e);if(U(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){let s=this.propertiesByName.get(e);U(s)&&this._internalSet(s,t)}getDependsInfo(e,t,s){let i=this.propertiesByName.get(t);if(!U(i))return"";let n=new w,a=f(n,()=>i.metadata.get?.call(e)),o=`${s}${e.declaredClass.split(".").pop()}.${t}: ${a}
`,l=n.accessed??new Set;if(l.size===0)return o;s+="  ";for(let h of l)h instanceof b&&(o+=`${s}${h.propertyName}: undefined
`);return o}setAtOrigin(e,t,s){let i=this.propertiesByName.get(e);if(U(i))return this._setAtOrigin(i,t,s)}isOverridden(e){let t=this.propertiesByName.get(e);return t!==void 0&&!!(t.flags&c.Overridden)}clearOverride(e){let t=this.propertiesByName.get(e);t&&t.flags&c.Overridden&&(t.flags&=~c.Overridden,t.notifyChange())}override(e,t){let s=this.propertiesByName.get(e);if(!we(s,e,t,this))return;let i=s.metadata.cast;if(i){let n=this._cast(i,t),{valid:a,value:o}=n;if(j.release(n),!a)return;t=o}s.flags|=c.Overridden,this._internalSet(s,t)}set(e,t){let s=this.propertiesByName.get(e);if(!we(s,e,t,this))return;let i=s.metadata.cast;if(i){let a=this._cast(i,t),{valid:o,value:l}=a;if(j.release(a),!o)return;t=l}let n=s.metadata.set;n?n.call(this.host,t):this._internalSet(s,t)}setDefaultOrigin(e){this._origin=W(e)}getDefaultOrigin(){return S(this._origin)}notifyChange(e){let t=this.propertiesByName.get(e);t!==void 0&&t.notifyChange()}invalidate(e){let t=this.propertiesByName.get(e);t!==void 0&&t.invalidate()}commit(e){let t=this.propertiesByName.get(e);t!==void 0&&t.commit()}_internalSet(e,t){let s=this.lifecycle!==d.INITIALIZING?this._origin:u.DEFAULTS;this._setAtOrigin(e,t,s)}_setAtOrigin(e,t,s){let i=this.store,n=e.propertyName;i.has(n,s)&&O(t,i.get(n))&&~e.flags&c.Overridden&&s===i.originOf(n)||(e.invalidate(),i.set(n,t,s),e.commit(),de(this.host,e))}_cast(e,t){let s=j.acquire();return s.valid=!0,s.value=t,e&&(s.value=e.call(this.host,t,s)),s}},G=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}},j=new v(G);var Ue;function Y(){return Ue}var Te;(function(r){r[r.Ignore=0]="Ignore",r[r.Destroy=1]="Destroy",r[r.ThrowError=2]="ThrowError"})(Te||(Te={}));function Be(r){r.length=0}var N=class{constructor(e=50,t=50){this._pool=new v(Array,void 0,Be,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return K.acquire()}static release(e){return K.release(e)}static prune(){K.prune()}},K=new N(100);var q=class extends v{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){let t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};function Ie(r,e){for(let t of r.values())if(e(t))return!0;return!1}function Ee(r,e){if(!e)return r;for(let t of e)t!=null&&r.add(t);return r}function Ut(r,e){return e!=null&&r.add(e),r}function qe(r,e){let t=new Set;return Ee(t,r),Ee(t,e),t}function Me(r,e){let t=new Set;for(let s of e)r.has(s)&&t.add(s);return t}function Bt(r,e){if(!r||!e)return!1;if(r===e)return!0;for(let t of r)if(!e.has(t))return!1;return!0}function qt(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}function Pe(r,e){let t=new Set(r);for(let s of e)t.delete(s);return t}function Mt(r,e){return Pe(qe(r,e),Me(r,e))}function Pt(r){let e;for(e of r);return e}var $e=0,zt=0;function M(){return++$e}var E=class extends w{constructor(e){super(new Z(e)),this._observer&&Oe.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&Oe.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Z=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;let e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=ze}},Oe=new FinalizationRegistry(r=>{r.deref()?.destroy()});function ze(){}var I=!1,P=[];function J(r,e){let t=new E(n),s=null,i=!1;function n(){if(!t||i)return;if(I)return void Se(n);let o=s;t.clear(),I=!0,i=!0,s=f(t,r),i=!1,I=!1,e(s,o),be()}function a(){t&&(t.destroy(),t=null,s=null)}return i=!0,s=f(t,r),i=!1,p(a)}function Q(r,e){let t=new E(i),s=null;function i(){e(s,a)}function n(){t&&(t.destroy(),t=null),s=null}function a(){return t?(t.clear(),s=f(t,r),s):null}return a(),p(n)}function jt(r,e){let t=!1,s=!1,i=!!e?.sync,n=new E(()=>{t||s||(s=!0,i?a():queueMicrotask(a))});function a(){s=!1,n&&!t&&(I?Se(a):(n.clear(),I=!0,t=!0,f(n,r),t=!1,I=!1,be()))}function o(){n&&(n.destroy(),n=null)}return t=!0,f(n,r),t=!1,p(o)}function Se(r){P.includes(r)||P.unshift(r)}function be(){for(;P.length;)P.pop()()}var A;(function(r){r[r.Untracked=0]="Untracked",r[r.Tracked=1]="Tracked"})(A||(A={}));var y=class{constructor(){this.uid=M(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,t,s,i,n){return this.pool.acquire(A.Untracked,e,t,s,i,n,O)}static acquireTracked(e,t,s,i){return this.pool.acquire(A.Tracked,e,t,s,null,null,i)}notify(e,t){this.type===A.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,s,i,n,a,o){this.uid=M(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=s,this.getValue=i,this.target=n,this.path=a,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=M(),this.removed=!0}};y.pool=new q(y);var $=new N,m=new Set,z;function L(r){m.delete(r),m.add(r),z||(z=pe(xe))}function Le(r){if(r.removed)return;let e=r.oldValue,t=r.getValue();r.equals(e,t)||(r.oldValue=t,r.notify(t,e))}function Ne(r){for(let e of m.values())e.target===r&&(e.removed=!0)}function xe(){let r=10;for(;z&&r--;){z=null;let e=Ve(),t=$.acquire();for(let s of e){let i=s.uid;Le(s),i===s.uid&&s.removed&&t.push(s)}for(let s of m)s.removed&&(t.push(s),m.delete(s));for(let s of t)y.pool.release(s);$.release(t),$.release(e),X.forEach(s=>s())}}function Ve(){let r=$.acquire();r.length=m.size;let e=0;for(let t of m)r[e]=t,++e;return m.clear(),r}var X=new Set;function nr(r){return X.add(r),p(()=>X.delete(r))}function He(r,e,t){let s=H(r,e,t,(i,n,a)=>{let o,l,h=Q(()=>F(i,n),(k,C)=>{i.__accessor__?.lifecycle===d.DESTROYED||o&&o.uid!==l?s.remove():(o||(o=y.acquireUntracked(k,a,C,i,n),l=o.uid),L(o))});return p(()=>{h.remove(),o&&(o.uid!==l||o.removed||(o.removed=!0,L(o)),o=null),s=h=null})});return s}function Fe(r,e,t){let s=H(r,e,t,(i,n,a)=>{let o=!1;return J(()=>F(i,n),(l,h)=>{i.__accessor__.lifecycle!==d.DESTROYED?o||(o=!0,O(h,l)||a.call(i,l,h,n,i),o=!1):s.remove()})});return s}function Ae(r,e,t,s=!1){return r.__accessor__&&r.__accessor__.lifecycle!==d.DESTROYED?s?Fe(r,e,t):He(r,e,t):p()}function We(r,e,t){let s,i,n=Q(r,(a,o)=>{s&&s.uid!==i?n.remove():(s||(s=y.acquireTracked(a,e,o,t),i=s.uid),L(s))});return p(()=>{n.remove(),s&&(s.uid!==i||s.removed||(s.removed=!0,L(s)),s=null),n=null})}function je(r,e,t){let s=!1;return J(r,(i,n)=>{s||(s=!0,t(n,i)||e(i,n),s=!1)})}function or(r,e,t=!1,s=re){return t?je(r,e,s):We(r,e,s)}function ar(r){return Ie(m,e=>e.oldValue===r)}var Ce,De;function Ge(r){if(r==null)return{value:r};if(Array.isArray(r))return{type:[r[0]],value:null};switch(typeof r){case"object":return r.constructor?.__accessorMetadata__||r instanceof Date?{type:r.constructor,value:r}:r;case"boolean":return{type:Boolean,value:r};case"string":return{type:String,value:r};case"number":return{type:Number,value:r};case"function":return{type:r,value:null};default:return}}var g=Symbol("Accessor-Handles"),ee=Symbol("Accessor-Initialized"),ke=class r{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");let{properties:t,declaredClass:s,constructor:i}=e;delete e.declaredClass,delete e.properties,delete e.constructor;let n=this;class a extends n{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}ce(a.prototype);for(let o in e){let l=e[o];a.prototype[o]=typeof l=="function"?function(...h){let k=this.inherited,C;this.inherited=function(...x){if(n.prototype[o])return n.prototype[o].apply(this,x)};try{C=l.apply(this,h)}catch(x){throw this.inherited=k,x}return this.inherited=k,C}:e[o]}for(let o in t){let l=Ge(t[o]);me(l)(a.prototype,o)}return _e(s)(a)}static freeze(e){return e instanceof r?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof r?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[Ce]=null,this[De]=!1,this.constructor===r)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");let t=new B(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:t}),e.length>0&&(t.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0]),Y()?.onInstanceConstruct(this)}postscript(){let e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[ee]=!0}initialize(){}[oe](){this[g]=ne(this[g])}destroy(){this.destroyed||(Ne(this),this.__accessor__.destroy(),Y()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[ee]}get destroyed(){return this.__accessor__?.lifecycle===d.DESTROYED||!1}commitProperty(e){ae(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return fe(this,e,t),this}watch(e,t,s){return ve(se.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),Ae(this,e,t,s)}addHandles(e,t){if(this.destroyed){let s=Array.isArray(e)?e:[e];for(let i of s)i.remove();return}(this[g]??=new ie).add(e,t)}removeHandles(e){this[g]?.remove(e)}removeAllHandles(){this[g]?.removeAll()}removeHandlesReference(e){this[g]?.removeReference(e)}hasHandles(e){return this[g]?.has(e)===!0}_override(e,t){t===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){t==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}};Ce=g,De=ee;export{Ke as a,Ze as b,ve as c,Je as d,Qe as e,Xe as f,T as g,u as h,rt as i,W as j,S as k,st as l,it as m,nt as n,N as o,q as p,Ie as q,Ee as r,Ut as s,qe as t,Me as u,Bt as v,qt as w,Pe as x,Mt as y,Pt as z,zt as A,M as B,E as C,jt as D,nr as E,or as F,ar as G,ke as H};
