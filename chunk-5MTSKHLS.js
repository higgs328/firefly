import{b as y}from"./chunk-MFCSEXHS.js";import{b as R}from"./chunk-2TX472ZB.js";import{c as w}from"./chunk-7QNKS2X6.js";import{a as x}from"./chunk-VCCMJ6BV.js";import{a as I}from"./chunk-QK56OQGR.js";import{a as d}from"./chunk-DZFUQCB6.js";import{a as B}from"./chunk-V2JYXY4D.js";import{a as b}from"./chunk-KVM6SHDX.js";import{m as v}from"./chunk-ZQIC5NFT.js";import{a as m}from"./chunk-7F5DJLJT.js";import{o as c}from"./chunk-AUAZP44J.js";import{a as o}from"./chunk-QGVBCWUY.js";import{e as a}from"./chunk-NFIPKH6V.js";import{l as T}from"./chunk-5QEXLALV.js";import{b as g}from"./chunk-YOFFGXOB.js";import{a as f,f as u}from"./chunk-VTHXE323.js";var h,l=new B("0/0/0",0,0,0,void 0),i=h=class extends w(x(R(I))){constructor(){super(...arguments),this.tileInfo=d.create({spatialReference:m.WebMercator,size:256}),this.type="base-tile",this.fullExtent=new v(-20037508342787e-6,-2003750834278e-5,2003750834278e-5,20037508342787e-6,m.WebMercator),this.spatialReference=m.WebMercator}addResolvingPromise(e){super.addResolvingPromise(e)}getTileBounds(e,t,r,s){let n=s||b();return l.level=e,l.row=t,l.col=r,l.extent=n,this.tileInfo.updateTileInfo(l),l.extent=void 0,n}fetchTile(e,t,r,s={}){let{signal:n}=s,L=this.getTileUrl(e,t,r),M={responseType:"image",signal:n,query:f({},this.refreshParameters)};return c(L??"",M).then(p=>p.data)}fetchImageBitmapTile(n,L,M){return u(this,arguments,function*(e,t,r,s={}){let{signal:p}=s;if(this.fetchTile!==h.prototype.fetchTile){let q=yield this.fetchTile(e,t,r,s);return y(q,e,t,r,p)}let P=this.getTileUrl(e,t,r)??"",U={responseType:"blob",signal:p,query:f({},this.refreshParameters)},{data:W}=yield c(P,U);return y(W,e,t,r,p)})}getTileUrl(){throw new g("basetilelayer:gettileurl-not-implemented","getTileUrl() is not implemented")}};o([a({type:d})],i.prototype,"tileInfo",void 0),o([a({type:["show","hide"]})],i.prototype,"listMode",void 0),o([a({readOnly:!0,value:"base-tile"})],i.prototype,"type",void 0),o([a({nonNullable:!0})],i.prototype,"fullExtent",void 0),o([a()],i.prototype,"spatialReference",void 0),i=h=o([T("esri.layers.BaseTileLayer")],i);var X=i;export{X as a};
