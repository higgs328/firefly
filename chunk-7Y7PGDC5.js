import{a as D}from"./chunk-DIGHQB3J.js";import"./chunk-6OM462YN.js";import"./chunk-6KHHUDVU.js";import"./chunk-RUR3FBR3.js";import"./chunk-WCHIR27X.js";import{a as g}from"./chunk-PT2T74VZ.js";import{a as $}from"./chunk-TGSXSDDB.js";import{a as m}from"./chunk-FHBFWDFD.js";import"./chunk-BBM5BVWD.js";import"./chunk-NTU4GX2J.js";import"./chunk-7LVUNMSI.js";import"./chunk-PTFN55DA.js";import"./chunk-6LW5LY2X.js";import"./chunk-HFE2PHQ6.js";import"./chunk-5JVT33KX.js";import"./chunk-F7UGNZLD.js";import"./chunk-QCZ3ZIGQ.js";import"./chunk-XR5FT7TQ.js";import"./chunk-LORHDXEB.js";import"./chunk-DA3SDKGO.js";import"./chunk-ZOEPYNM4.js";import"./chunk-57VFBGF3.js";import"./chunk-GWBRHLNH.js";import"./chunk-BJH4F4SM.js";import"./chunk-Z3RBZHAK.js";import{a as C,b as x,k as T}from"./chunk-IHATPE6U.js";import"./chunk-PU4AK46X.js";import"./chunk-MDZTV2VL.js";import"./chunk-RNC4P66O.js";import"./chunk-7LHOQXZT.js";import"./chunk-BCREO4Q5.js";import"./chunk-U4QEPZJ3.js";import"./chunk-KJUZWSCL.js";import"./chunk-3WO6D7MU.js";import"./chunk-BUZ3SPLE.js";import"./chunk-K75TK42V.js";import"./chunk-VV5G7VY5.js";import"./chunk-OLOKUDVI.js";import"./chunk-ZTOZWLEE.js";import"./chunk-RJWOVI3M.js";import"./chunk-RSDQHAJX.js";import"./chunk-BOVYXYHK.js";import"./chunk-DZFUQCB6.js";import"./chunk-V2JYXY4D.js";import"./chunk-KVM6SHDX.js";import"./chunk-PIHANKUA.js";import"./chunk-EQZWYK27.js";import"./chunk-2GJBUR2F.js";import"./chunk-DKGGDYJI.js";import"./chunk-5LA3PVK5.js";import"./chunk-IR6XCBC4.js";import"./chunk-C6JPAW54.js";import"./chunk-WD3OPXCN.js";import"./chunk-FA3WGIU4.js";import"./chunk-WWVPA6PE.js";import"./chunk-YPMM52MU.js";import"./chunk-BBR7CJCO.js";import"./chunk-ZQIC5NFT.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import{a as M}from"./chunk-AXYQJCCX.js";import{a}from"./chunk-5XCFNEYX.js";import{a as k}from"./chunk-GQL2MBZT.js";import{b as I}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import{b as f}from"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{b as B}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as i}from"./chunk-QGVBCWUY.js";import{a as _}from"./chunk-MYO4NP2N.js";import{e as o}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as w}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import{g as y}from"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var l="esri-basemap-gallery",r={base:l,sourceLoading:`${l}--source-loading`,loader:`${l}__loader`,item:`${l}__item`,itemContainer:`${l}__item-container`,itemContent:`${l}__item-content`,itemTitle:`${l}__item-title`,itemTagsContainer:`${l}__item-tags-container`,itemThumbnail:`${l}__item-thumbnail`,selectedItem:`${l}__item--selected`,itemError:`${l}__item--error`};var s=class extends k{constructor(e,t){super(e,t),this.disabled=!1,this.headingLevel=2,this.messages=null,this.viewModel=new D,this._focusBasemapItemEnabled=!1,_(y.getLogger(this),"Basemap Gallery","arcgis-basemap-gallery",{version:"4.32"})}initialize(){this.addHandles(B(()=>this.source,()=>this.viewModel.loadSource(),{sync:!0,initial:!0}))}loadDependencies(){return I({scrim:()=>import("./chunk-R5U5AYSV.js"),chip:()=>import("./chunk-YJHYFSU4.js")})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(e){this.viewModel.activeBasemap=e}get icon(){return"basemap"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get source(){return this.viewModel.source}set source(e){this.viewModel.source=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){let e=this.source.state==="loading",t=this.disabled||this.viewModel.state==="disabled",n={[r.sourceLoading]:e,[m.disabled]:t};return a("div",{class:this.classes(r.base,m.widget,m.panel,n),key:"container"},this._getContext())}_getContext(){if(this.viewModel.state==="unsupported")return a("div",{class:m.empty,key:"empty-message"},a(g,{level:this.headingLevel},this.messages.unsupported));if(this.source.state==="loading")return a("div",{class:r.loader,key:"loader"});let e=this.viewModel.items;return e.length>0?a("ul",{"aria-disabled":this.disabled,"aria-label":this.label,bind:this,class:r.itemContainer,key:"item-container",onkeydown:this._handleKeyDown,role:"radiogroup"},e.map((t,n)=>this._renderBasemapGalleryItem(t,n)).toArray()):a("div",{class:m.empty,key:"empty-message"},a(g,{level:this.headingLevel},this.messages.noBasemaps))}_getRoundRobinIndex(e,t){return(e+t)%t}_handleKeyDown(e){let{key:t}=e;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t))return;e.preventDefault();let{items:n,activeBasemapIndex:d}=this.viewModel,h=t==="ArrowUp"||t==="ArrowLeft"?this._getRoundRobinIndex(Math.max(d-1,-1),n.length):this._getRoundRobinIndex(d+1,n.length),p=n.at(h);p?.state==="ready"&&(this.viewModel.activeBasemap=p.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(e){this._focusBasemapItemEnabled&&e.tabIndex===0&&(e.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(e){let t=e.currentTarget["data-item"];t.state==="ready"&&(this.viewModel.activeBasemap=t.basemap)}_renderBasemapGalleryItem(e,t){let n=T(e.basemap)||f("esri/themes/base/images/basemap-toggle-64.svg"),d=e.basemap.title,h=e.basemap.portalItem?.snippet,p=e.error?.message||h||d,{viewModel:{state:u,activeBasemapIndex:b}}=this,L=this.disabled||u==="disabled",c=b===t,A=c||b===-1&&t===0?0:-1,E=u==="loading",R={[r.selectedItem]:c,[r.itemError]:e.state==="error"},v=`basemapgallery-item-${e.uid}`;return a("li",{afterUpdate:this._focusBasemapItem,"aria-checked":c.toString(),"aria-disabled":L.toString(),"aria-labelledby":v,bind:this,class:this.classes(r.item,R),"data-item":e,key:e.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:"radio",tabIndex:A,title:p},a("img",{alt:"",class:r.itemThumbnail,src:n}),a("div",{class:r.itemContent,key:"content"},a("div",{class:r.itemTitle,key:"title"},a("span",{id:v},d)),C(e.basemap)?this._renderTags(e.basemap):null),e.state==="loading"||c&&E?a("calcite-scrim",null,a("span",{"aria-hidden":"true",class:m.loaderAnimation,key:"loader",role:"presentation"})):null)}_renderTags(e){return a("div",{class:r.itemTagsContainer,key:"tag"},this._render3DTag(),x(e)?this._renderBetaTag():null)}_render3DTag(){let{messages:e}=this;return a("calcite-chip",{key:"tag-3d",label:e.tag3D,scale:"s"},this.messages.tag3D)}_renderBetaTag(){let{messages:e}=this;return a("calcite-chip",{appearance:"outline-fill",key:"tag-beta",label:e.tagBeta,scale:"s"},this.messages.tagBeta)}};i([o()],s.prototype,"activeBasemap",null),i([o()],s.prototype,"disabled",void 0),i([o()],s.prototype,"headingLevel",void 0),i([o()],s.prototype,"icon",null),i([o()],s.prototype,"label",null),i([o(),M("esri/widgets/BasemapGallery/t9n/BasemapGallery")],s.prototype,"messages",void 0),i([o()],s.prototype,"source",null),i([o()],s.prototype,"view",null),i([o()],s.prototype,"viewModel",void 0),i([o()],s.prototype,"_focusBasemapItemEnabled",void 0),i([$()],s.prototype,"_handleClick",null),s=i([w("esri.widgets.BasemapGallery")],s);var ae=s;export{ae as default};
