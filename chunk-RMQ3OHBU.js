import{a}from"./chunk-FPCHE4I2.js";import{a as p}from"./chunk-EBLTZITF.js";import{a as r}from"./chunk-T7DXJKX7.js";import{a as i}from"./chunk-QGVBCWUY.js";import{e}from"./chunk-NFIPKH6V.js";import{l as s}from"./chunk-5QEXLALV.js";import{b as l}from"./chunk-YOFFGXOB.js";import{f as n}from"./chunk-VTHXE323.js";var o=class extends a(r.EventedAccessor){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.view?.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}go(){return n(this,null,function*(){if(!this.view?.ready)throw new l("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");let t=new AbortController;this._goingHomeController=t;try{yield this.view?.when(),yield this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null})}cancelGo(){this._cancelGo()}_cancelGo(){let{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};i([e()],o.prototype,"_goingHomeController",void 0),i([e({readOnly:!0})],o.prototype,"state",null),i([e()],o.prototype,"view",null),i([e({type:p})],o.prototype,"viewpoint",null),i([e()],o.prototype,"go",null),i([e()],o.prototype,"cancelGo",null),o=i([s("esri.widgets.Home.HomeViewModel")],o);var C=o;export{C as a};
