import{d as R}from"./chunk-Z3MWEX65.js";import{a as T}from"./chunk-4D3QHJI2.js";import{a as z,d as B,e as V,f as D,g as E}from"./chunk-E2J2V7JN.js";import{a as N}from"./chunk-6F25LG6O.js";import{a as s}from"./chunk-5XCFNEYX.js";import{a as $}from"./chunk-4PTIEWMT.js";import{a as L}from"./chunk-QBWJMFH5.js";var ot=0;function P(){return ot++}var at=0;function C(){return at++}var st=0;function q(){return st++}var lt="http://www.w3.org/2000/svg",Y=L("android"),ht=L("chrome")||Y&&Y>=4?"auto":"optimizeLegibility",ft={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},ct=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,l={},a={},ut=Math.PI;function I(t,e){let i=t*(ut/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function Z(t){return t.map(e=>`${e.command} ${e.values.join(" ")}`).join(" ").trim()}function J(t,e,i,n,r){if(t){if(t.type==="circle")return s("circle",{cx:t.cx,cy:t.cy,fill:e,"fill-rule":"evenodd",r:t.r,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-dashoffset":i.dashOffset,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width});if(t.type==="ellipse")return s("ellipse",{cx:t.cx,cy:t.cy,fill:e,"fill-rule":"evenodd",rx:t.rx,ry:t.ry,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width});if(t.type==="rect")return s("rect",{fill:e,"fill-rule":"evenodd",height:t.height,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width,width:t.width,x:t.x,y:t.y});if(t.type==="image")return s("image",{alt:r||"image",height:t.height,href:t.src,preserveAspectRatio:"none",width:t.width,x:t.x,y:t.y});if(t.type==="path"){let o=typeof t.path!="string"?Z(t.path):t.path;return s("path",{d:o,fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width})}if(t.type==="text")return $(n),s("text",{"dominant-baseline":n.dominantBaseline,fill:e,"fill-rule":"evenodd","font-family":n.font.family,"font-size":n.font.size,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,kerning:n.kerning,rotate:n.rotate,stroke:i.color,"stroke-dasharray":i.dashArray,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-miterlimit":"4","stroke-width":i.width,"text-anchor":n.align,"text-decoration":n.decoration,"text-rendering":ht,x:t.x,y:t.y},t.text)}return null}function K(t){if(!t)return{fill:"none",pattern:null,linearGradient:null};if(!("type"in t))return{fill:new N(t).toString(),pattern:null,linearGradient:null};if(t.type==="pattern"){let i=`patternId-${P()}`;return{fill:`url(#${i})`,pattern:{id:i,x:t.x,y:t.y,width:t.width,height:t.height,image:{x:0,y:0,width:t.width,height:t.height,href:t.src}},linearGradient:null}}let e=`linearGradientId-${C()}`;return{fill:`url(#${e})`,pattern:null,linearGradient:{id:e,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stops:t.colors.map(i=>({offset:i.offset,color:i.color&&new N(i.color).toString()}))}}}function X(t){let e={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};return t&&(t.width!=null&&(e.width=t.width),t.cap&&(e.cap=t.cap),t.join&&(e.join=t.join.toString()),t.color&&(e.color=new N(t.color).toString()),t.dashArray&&(e.dashArray=t.dashArray),t.dashoffset&&(e.dashOffset=t.dashoffset),t.style&&!t.dashArray&&(e.dashArray=R(t).join(",")||"none")),e}function tt(t,e){let i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(t){let n=t.alignBaseline,r=n==="baseline"?"auto":n==="top"?"text-top":n==="bottom"?"hanging":n;i.align=t.align,i.dominantBaseline=r,i.decoration=t.decoration,i.kerning=t.kerning?"auto":"0",i.rotate=t.rotated?"90":"0",$(e),i.font.style=e.style||"normal",i.font.variant=e.variant||"normal",i.font.weight=e.weight||"normal",i.font.size=e.size&&e.size.toString()||"10pt",i.font.family=e.family||"serif"}return i}function dt(t){let{pattern:e,linearGradient:i}=t;if(e)return s("pattern",{height:e.height,id:e.id,patternUnits:"userSpaceOnUse",width:e.width,x:e.x,y:e.y},s("image",{height:e.image.height,href:e.image.href,width:e.image.width,x:e.image.x,y:e.image.y}));if(i){let n=i.stops.map((r,o)=>s("stop",{key:`${o}-stop`,offset:r.offset,"stop-color":r.color}));return s("linearGradient",{gradientUnits:"userSpaceOnUse",id:i.id,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2},n)}return null}function yt(t,e){if(!t||t.length===0)return null;let i=[];for(let n of t){let{shape:r,fill:o,stroke:h,font:d}=n,u=K(o),y=X(h),k=r.type==="text"?tt(r,d):null,w=J(r,u.fill,y,k);w&&i.push(w)}return s("mask",{id:e,maskUnits:"userSpaceOnUse"},s("g",null,i))}function _(t,e,i){return E(t,z(t),[e,i])}function H(t,e,i,n,r){return D(t,z(t),[e,i]),t[4]=t[4]*e-n*e+n,t[5]=t[5]*i-r*i+r,t}function pt(t,e,i,n){let r=e%360*Math.PI/180;V(t,z(t),r);let o=Math.cos(r),h=Math.sin(r),d=t[4],u=t[5];return t[4]=d*o-u*h+n*h-i*o+i,t[5]=u*o+d*h-i*h-n*o+n,t}function g(t,e){l&&"left"in l?(l.left!=null&&l.left>t&&(l.left=t),(l.right==null||l.right<t)&&(l.right=t),(l.top==null||l.top>e)&&(l.top=e),(l.bottom==null||l.bottom<e)&&(l.bottom=e)):l={left:t,bottom:e,right:t,top:e}}function Q(t){let e=t.args,i=e.length,n;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(n=0;n<i;n+=2)g(e[n],e[n+1]);a.x=e[i-2],a.y=e[i-1];break;case"H":for(n=0;n<i;++n)g(e[n],a.y);a.x=e[i-1];break;case"V":for(n=0;n<i;++n)g(a.x,e[n]);a.y=e[i-1];break;case"m":{let r=0;for(("x"in a)||(g(a.x=e[0],a.y=e[1]),r=2),n=r;n<i;n+=2)g(a.x+=e[n],a.y+=e[n+1]);break}case"l":case"t":for(n=0;n<i;n+=2)g(a.x+=e[n],a.y+=e[n+1]);break;case"h":for(n=0;n<i;++n)g(a.x+=e[n],a.y);break;case"v":for(n=0;n<i;++n)g(a.x,a.y+=e[n]);break;case"c":for(n=0;n<i;n+=6)g(a.x+e[n],a.y+e[n+1]),g(a.x+e[n+2],a.y+e[n+3]),g(a.x+=e[n+4],a.y+=e[n+5]);break;case"s":case"q":for(n=0;n<i;n+=4)g(a.x+e[n],a.y+e[n+1]),g(a.x+=e[n+2],a.y+=e[n+3]);break;case"A":for(n=0;n<i;n+=7)g(e[n+5],e[n+6]);a.x=e[i-2],a.y=e[i-1];break;case"a":for(n=0;n<i;n+=7)g(a.x+=e[n+5],a.y+=e[n+6])}}function W(t,e,i){let n=ft[t.toLowerCase()],r;typeof n=="number"&&(n?e.length>=n&&(r={action:t,args:e.slice(0,e.length-e.length%n)},i.push(r),Q(r)):(r={action:t,args:[]},i.push(r),Q(r)))}function gt(t){let e=(typeof t.path!="string"?Z(t.path):t.path).match(ct),i=[];if(l={},a={},!e)return null;let n="",r=[],o=e.length;for(let d=0;d<o;++d){let u=e[d],y=parseFloat(u);isNaN(y)?(n&&W(n,r,i),r=[],n=u):r.push(y)}W(n,r,i);let h={x:0,y:0,width:0,height:0};return l&&"left"in l&&(h.x=l.left,h.y=l.top,h.width=l.right-l.left,h.height=l.bottom-l.top),h}function mt(t){let e={x:0,y:0,width:0,height:0};if(t.type==="circle")e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if(t.type==="ellipse")e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if(t.type==="image"||t.type==="rect")e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if(t.type==="path"){let i=gt(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function xt(t){let e={x:0,y:0,width:0,height:0},i=null,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(let o of t)i?(i.x=Math.min(i.x,o.x),i.y=Math.min(i.y,o.y),n=Math.max(n,o.x+o.width),r=Math.max(r,o.y+o.height)):(i=e,i.x=o.x,i.y=o.y,n=o.x+o.width,r=o.y+o.height);return i&&(i.width=n-i.x,i.height=r-i.y),i}function wt(t,e,i,n,r,o,h,d,u){let y=(h&&o?I(o,e):e)/2,k=(h&&o?I(o,i):i)/2;if(u){let x=u[0],p=u[1];y=(h&&o?I(o,x):x)/2,k=(h&&o?I(o,p):p)/2}let w=t.width+n,f=t.height+n,m=T(),c=T(),M=!1;if(r&&w!==0&&f!==0){let x=e!==i?e/i:w/f,p=e>i?e:i,v=1,G=1;isNaN(p)||(x>1?(v=p/w,G=p/x/f):(G=p/f,v=p*x/w)),B(c,c,H(m,v,G,y,k)),M=!0}let b=t.x+(w-n)/2,S=t.y+(f-n)/2;if(B(c,c,_(m,y-b,k-S)),!M&&(w>e||f>i)){let x=w/e>f/i,p=(x?e:i)/(x?w:f);B(c,c,H(m,p,p,b,S))}return d&&B(c,c,_(m,d[0],d[1])),o&&B(c,c,pt(m,o,b,S)),`matrix(${c[0]},${c[1]},${c[2]},${c[3]},${c[4]},${c[5]})`}function kt(t,e,i){let n=t?.effects.find(y=>y.type==="bloom");if(!n)return null;let{strength:r,radius:o}=n,h=r>0?o:0,d=(r+h)*e,u=4*r+1;return s("filter",{filterUnits:"userSpaceOnUse",height:"300%",id:`bloom${i}`,width:"300%",x:"-100%",y:"-100%"},s("feMorphology",{in:"SourceGraphic",operator:"dilate",radius:(r+.5*h)*(5**(e/100)*(.4+e/100)),result:"dilate"}),s("feGaussianBlur",{in:"dilate",result:"blur",stdDeviation:d/25}),s("feGaussianBlur",{in:"blur",result:"intensityBlur",stdDeviation:d/50}),s("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},s("feFuncR",{slope:u,type:"linear"}),s("feFuncG",{slope:u,type:"linear"}),s("feFuncB",{slope:u,type:"linear"})),s("feMerge",null,s("feMergeNode",{in:"intensityBlur"}),s("feMergeNode",{in:"intensityBrightness"}),s("feGaussianBlur",{stdDeviation:r/10})))}function Nt(t,e,i,n={}){let r=[],o=[],h=q(),d=kt(n.effectView,e,h),u=null;if(d){let f=n.effectView?.effects.find(b=>b.type==="bloom"),m=(f.strength?f.strength+f.radius/2:0)/3,c=e+e*m,M=i+i*m;u=[Math.max(c,10),Math.max(M,10)]}let y=e,k=i;if(n.useRotationSize)for(let f=0;f<t.length;f++){let m=n.rotations?.[f]??0;y=Math.max(I(m,e),y),k=Math.max(I(m,i),k)}for(let f=0;f<t.length;f++){let m=t[f],c=[],M=[],b=0,S=0,x=0;for(let j of m){let{shape:A,fill:et,stroke:U,font:it,offset:F}=j;n.ignoreStrokeWidth||A.type==="text"||(b+=U?.width||0);let O=K(et),nt=X(U),rt=A.type==="text"?tt(A,it):null;r.push(dt(O)),c.push(J(A,O.fill,nt,rt,n.ariaLabel)),M.push(mt(A)),F&&(S+=F[0],x+=F[1])}let p=n.rotations?.[f]??0;n.useRotationSize&&(S+=(y-I(p,e))/2,x+=(k-I(p,i))/2);let v=wt(xt(M),e,i,b,n.scale??!1,p,n.useRotationSize??!1,[S,x],u),G=null;if(n.masking){let j=`mask-${f}`,A=n.masking[f];r.push(yt(A,j)),G=`url(#${j})`}o.push(G?s("g",{mask:G},s("g",{transform:v},c)):s("g",{transform:v},c))}return d&&($(u),y=u[0],k=u[1]),s("svg",{"aria-label":n.ariaLabel,focusable:!1,height:k,role:"img",style:"display: block;",width:y,xmlns:lt},d,s("defs",null,r),d?s("g",{filter:`url(#bloom${h})`},o):o)}export{J as a,K as b,X as c,dt as d,mt as e,xt as f,wt as g,Nt as h};
