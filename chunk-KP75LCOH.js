import{d}from"./chunk-ES4WUTEM.js";import{a as f}from"./chunk-AVMO6LCR.js";import{f as s,o as u}from"./chunk-F5AJITOA.js";import{da as m}from"./chunk-KALOJIUA.js";import{a as l}from"./chunk-DYTVXYAV.js";import{f as r}from"./chunk-VTHXE323.js";var p="<",c=">";function T(e,A,a,t){let i="";return A===0?i=`${p} `:A===a&&(i=`${c} `),i+(t?u(e,t):d(e))}var y=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];function g(e){return r(this,null,function*(){if(!("visualVariables"in e)||!e.visualVariables)return null;let A=e.visualVariables.find(o=>o.type==="color");if(!A)return null;let a=null,t=null;if(A.stops){if(A.stops.length===1)return A.stops[0].color;a=A.stops[0].value,t=A.stops[A.stops.length-1].value}let i=a!=null&&t!=null?a+(t-a)/2:0,{getColor:n}=yield import("./chunk-R45N3IFT.js");return n(A,i)??null})}function E(e,A){return r(this,null,function*(){let a=e.trailCap,t=e.trailWidth||1,i=A||(yield g(e))||e.color;return new f({cap:a,color:i,width:t})})}function w(e,A){if(!A.field)return null;if("featureReduction"in e)switch(e.featureReduction?.type){case"cluster":case"binning":{let a=e.featureReduction.fields.find(({name:t})=>t.toLowerCase()===A.field.toLowerCase());return a&&"getField"in e?e.getField(a.onStatisticField):null}}return"getField"in e?e.getField?.(A.field):null}function I(e,A){let a="popupTemplate"in e?e.popupTemplate?.fieldInfos:null;if(a?.length&&A)return a.find(t=>t.fieldName?.toLowerCase()===A.toLowerCase())?.format?.dateFormat}function B(e,A,a){let t=w(e,A);if(!t||!s(t)&&!m(t))return null;let i=I(e,t.name);if(!i&&t.type==="date"){let n=0,o=0;A.stops?(n=A.stops?.at(0)?.value??n,o=A.stops?.at(-1)?.value??o):"minDataValue"in A&&"maxDataValue"in A&&(n=A.minDataValue??n,o=A.maxDataValue??o),i=o-n>2*l.days?"short-date":"short-date-short-time"}return{fieldType:t.type,format:i,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in e?e.preferredTimeZone:null,viewTimeZone:a,datesInUnknownTimezone:"datesInUnknownTimezone"in e&&e.datesInUnknownTimezone}}}function F(e){if("authoringInfo"in e)return e.authoringInfo?.visualVariables?.find(({theme:A})=>A==="reference-size")}export{p as a,c as b,T as c,y as d,g as e,E as f,B as g,F as h};
