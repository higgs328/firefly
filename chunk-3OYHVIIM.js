import{a as y}from"./chunk-S3NN56BI.js";import{a as g,b as h,c as v}from"./chunk-6RBQSBA2.js";import{o as l}from"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import{f}from"./chunk-CCJU4DSH.js";import{a as t}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as a}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as d}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import{b as p}from"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as i,b as n,f as w}from"./chunk-VTHXE323.js";var o=class extends f{constructor(r){super(r),this.moment=null,this.success=!1}};t([a({type:Date,json:{type:Number,write:{writer:(r,s)=>{s.moment=r?r.getTime():null}}}})],o.prototype,"moment",void 0),t([a({type:Boolean,json:{write:!0}})],o.prototype,"success",void 0),o=t([d("esri.rest.versionManagement.gdbVersion.support.PostResult")],o);var S=o;var m=new Map;function T(r,s,e,V){return w(this,null,function*(){if(m.has(r)||(yield y(m,r)),(m.get(r)?.serverVersion??0)<=11.1)throw new p("post:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!s)throw new p("post:missing-guid","guid for version is missing");let c=h(r),u=e.toJSON();e.rows&&(u.rows=JSON.stringify(e.rows));let j=g(c.query,n(i({query:v(n(i({},u),{f:"json"}))},V),{method:"post"}));s.startsWith("{")&&(s=s.slice(1,-1));let N=`${c.path}/versions/${s}/post`,{data:O}=yield l(N,j);return S.fromJSON(O)})}export{T as post,m as serverVersionCacheMap};
