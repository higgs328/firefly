import{a as ee}from"./chunk-OB7VB62O.js";import{a as te}from"./chunk-RUNI4ZN4.js";import{a as k}from"./chunk-K7K2PAOL.js";import{a as Z}from"./chunk-UMRL4FCR.js";import"./chunk-UDMXK7SH.js";import{a as Q,h as W,j as R,n as X,o as Y,r as f,s as N}from"./chunk-ZEWUF6OQ.js";import"./chunk-JUJYL7GW.js";import{b as J}from"./chunk-PT2T74VZ.js";import"./chunk-ZQ2SHTTW.js";import{a as K}from"./chunk-EPKVBNFW.js";import"./chunk-TGSXSDDB.js";import{a as M}from"./chunk-FHBFWDFD.js";import"./chunk-2HQALWZQ.js";import"./chunk-ZTR6OS44.js";import"./chunk-VRTKAD2J.js";import"./chunk-DBLKLHK2.js";import{a as V}from"./chunk-K75TK42V.js";import"./chunk-EQZWYK27.js";import{a as U}from"./chunk-GHKL3NOH.js";import"./chunk-MDSLION2.js";import{a as O}from"./chunk-AXYQJCCX.js";import{a as d}from"./chunk-5XCFNEYX.js";import{a as z}from"./chunk-GQL2MBZT.js";import{b as q}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import{o as T}from"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import{a as A,c as G,j as H,k as j}from"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import{b as C}from"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as i}from"./chunk-QGVBCWUY.js";import{H as S}from"./chunk-MYO4NP2N.js";import{e as s}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as P}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as I,b as F,f as E}from"./chunk-VTHXE323.js";var u=class extends S{constructor(){super(...arguments),this.baseLayers=!0,this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.editTitleButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!0,this.referenceLayers=!0,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};i([s({type:Boolean,nonNullable:!0})],u.prototype,"baseLayers",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"catalogLayerList",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"closeButton",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"collapseButton",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"editTitleButton",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"errors",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"filter",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"flow",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"heading",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"referenceLayers",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"statusIndicators",void 0),i([s({type:Boolean,nonNullable:!0})],u.prototype,"temporaryLayerIndicators",void 0),u=i([P("esri.widgets.BasemapLayerList.BasemapLayerListVisibleElements")],u);var $=u;var y="esri-basemap-layer-list",b=`${y}__item`,v={base:y,actionMenu:`${y}__action-menu`,actionGroup:`${y}__action-group`,filterNoResults:`${y}__filter-no-results`,item:b,itemActive:`${b}--active`,itemContentBottom:`${b}-content-bottom`,itemMessage:`${b}-message`,itemActionIcon:`${b}-action-icon`,itemActionImage:`${b}-action-image`,itemTableIcon:`${b}-table-icon`,itemTemporaryIcon:`${b}-temporary-icon`,itemCatalogIcon:`${b}-catalog-icon`,statusIndicator:`${y}__status-indicator`,editingForm:`${y}__editing-form`,publishing:`${y}__publishing`,updating:`${y}__updating`,editing:`${y}__editing`,connectionStatus:`${y}__connection-status`,connectionStatusConnected:`${y}__connection-status--connected`,visibleToggle:`${y}__visible-toggle`,visibleIcon:`${y}__visible-icon`,section:`${y}__section`};var oe=C.ofType(Z),ie="nested",ae=".*\\S+.*",x="data-basemap-layer-type",l=class extends V.IdentifiableMixin(z){constructor(e,t){super(e,t),this._baseListEl=null,this._referenceListEl=null,this._activeItem=null,this._tooltipReferenceMap=new Map,this._editTitleInput=null,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._focusEditingFlowItem=!1,this._layerListMap=new U,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`basemap-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.editingTitle=!1,this.filterPlaceholder="",this.baseFilterPredicate=null,this.baseFilterText="",this.referenceFilterPredicate=null,this.referenceFilterText="",this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new C(["knowledge-graph"]),this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minFilterItems=Q,this.openedLayers=new C,this.openedLayerLists=new C,this.tableList=null,this.selectedItems=new oe,this.selectionMode="none",this.tileOptions=null,this.viewModel=new k,this.visibilityAppearance="default",this.visibleElements=new $,this._canMove=({dragEl:o,fromEl:r,toEl:n},p)=>{let a=p==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,m=f(o);if(!m?.sortable)return!1;let h=f(r),_=N(r),L=f(n),g=N(n),B=!!_&&!!g&&_===g,w={selected:m,from:h,to:L},c=r.group,le=n.group,re=h?.layer?.type??"",ne=L?.layer?.type??"",D=new Set(["map-image","catalog","knowledge-graph"]);return c&&le&&typeof a=="function"?a.call(null,w):B&&!D.has(re)&&!D.has(ne)&&m?.layer?.type!=="sublayer"},this._onSelectedDragItemLayerUidChange=o=>{this._selectedDragItemLayerUid=o},this._onTriggerAction=(o,r)=>{this.triggerAction(o,r)},this._onTooltipReferenceChange=(o,r)=>{r?this._tooltipReferenceMap.set(o,r):this._tooltipReferenceMap.delete(o)},this._onTablesOpen=o=>{this.openedLayers.push(o.layer),this._focusLayerFlowItem=o.layer?.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onCatalogOpen=o=>{this.openedLayers.push(o.layer?.parent),this._focusLayerFlowItem=o.layer?.uid},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=o=>{if(this.visibilityAppearance!=="default")return;let r=Array.from(o.composedPath()).find(n=>n.classList?.contains(v.item));this._activeItem=f(r)},this._onCalciteListOrderChange=o=>{let{_lastDragDetail:r}=this,{toEl:n,fromEl:p,dragEl:a,newIndex:m}=o;if(!p||!n||r?.newIndex===m&&r?.dragEl===a&&r?.toEl===n&&r?.fromEl===p)return;this._lastDragDetail=o,this._selectedDragItemLayerUid=a.value;let h=p,_=n;if(h!==_)this._moveLayerFromChildList({toEl:_,fromEl:h,dragEl:a,newIndex:m});else{let L=Array.from(p.children).filter(g=>g?.matches("calcite-list-item")).map(g=>g.value);this._sortLayers(h,L)}}}initialize(){this.addHandles([G(()=>this.openedLayers,"change",()=>this._handleOpenedLayersChange(),H),A(()=>[this.viewModel.referenceItems.toArray(),this.viewModel.baseItems.toArray()],()=>W(this.selectedItems),j),A(()=>[this.baseFilterPredicate,this._baseListEl],()=>R(this._baseListEl,this.baseFilterPredicate)),A(()=>[this.referenceFilterPredicate,this._referenceListEl],()=>R(this._referenceListEl,this.referenceFilterPredicate))])}loadDependencies(){return q({action:()=>import("./chunk-X23M5IZ6.js"),block:()=>import("./chunk-LVVNNI43.js"),label:()=>import("./chunk-S24JESVO.js"),input:()=>import("./chunk-SS6GQCI6.js"),button:()=>import("./chunk-K3RCADAN.js"),flow:()=>import("./chunk-5V3M627Q.js"),"flow-item":()=>import("./chunk-OQ4LXJHQ.js"),list:()=>import("./chunk-4MPCQ5DO.js"),notice:()=>import("./chunk-PEKK3NZO.js"),tooltip:()=>import("./chunk-24BDRL23.js")})}destroy(){this._tooltipReferenceMap.clear(),this._destroyOpenedLayerLists()}get _visibleBaseItems(){return this.baseItems?.filter(e=>!e.hidden&&(this.visibleElements.errors||!e.error))}get _visibleReferenceItems(){return this.referenceItems?.filter(e=>!e.hidden&&(this.visibleElements.errors||!e.error))}get _openedPanelItems(){return this._visibleReferenceItems.concat(this._visibleBaseItems).flatten(e=>e.children).filter(({hidden:e,panel:t})=>!e&&t?.open&&!t.disabled&&t.flowEnabled)}get _totalBaseItems(){return this.viewModel.baseItems.flatten(e=>e.children.filter(t=>t.layer?.type!=="catalog-dynamic-group")).length}get _totalReferenceItems(){return this.viewModel.referenceItems.flatten(e=>e.children.filter(t=>t.layer?.type!=="catalog-dynamic-group")).length}get _baseFilterEnabled(){return this._totalBaseItems>=this.minFilterItems&&this.visibleElements.filter}get _referenceFilterEnabled(){return this._totalReferenceItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){let{openedLayers:e}=this;return e.toArray().map((t,o)=>this._renderLayerFlowItem(t,o===e.length-1))}get basemapTitle(){return this.viewModel.basemapTitle}set basemapTitle(e){this.viewModel.basemapTitle=e}get baseListItemCreatedFunction(){return this.viewModel.baseListItemCreatedFunction}set baseListItemCreatedFunction(e){this.viewModel.baseListItemCreatedFunction=e}get icon(){return"layers"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get referenceListItemCreatedFunction(){return this.viewModel.referenceListItemCreatedFunction}set referenceListItemCreatedFunction(e){this.viewModel.referenceListItemCreatedFunction=e}get baseItems(){return this.viewModel.baseItems}get referenceItems(){return this.viewModel.referenceItems}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){let{state:e}=this.viewModel,t={[M.hidden]:e==="loading",[M.disabled]:e==="disabled"};return d("div",{class:this.classes(v.base,M.widget,M.panel,t)},this._renderItems())}_createCatalogLayerList(e){return E(this,null,function*(){let{default:t}=yield import("./chunk-2IUGMG6U.js"),{headingLevel:o,catalogOptions:r,view:n,filterPlaceholder:p,minFilterItems:a,selectionMode:m,visibilityAppearance:h,_onCatalogOpen:_,_onTablesOpen:L,layerTablesEnabled:g}=this;return new t(F(I({headingLevel:o,view:n,filterPlaceholder:p,minFilterItems:a,selectionMode:m,visibilityAppearance:h},r),{catalogLayer:e,layerTablesEnabled:g,onCatalogOpen:_,onTablesOpen:L}))})}_getTableListParams(e){switch(e.type){case"knowledge-graph":return F(I({},this.knowledgeGraphOptions),{tables:e.tables});case"map-image":return F(I({},this.mapImageOptions),{tables:e.subtables});case"tile":return F(I({},this.tileOptions),{tables:e.subtables});default:return null}}_createTableList(e){return E(this,null,function*(){let{default:t}=yield import("./chunk-RZ3L7PHE.js"),{headingLevel:o,selectionMode:r,dragEnabled:n}=this;return new t(I({headingLevel:o,selectionMode:r,dragEnabled:n},this._getTableListParams(e)))})}_createFlowList(e,t){return E(this,null,function*(){let{_layerListMap:o}=this,r=o.get(e);if(r)return r;let n=e.type==="catalog"?yield this._createCatalogLayerList(e):yield this._createTableList(e);return t.aborted||o.set(e,n),n})}_handleOpenedLayersChange(){return E(this,null,function*(){let{_layerListMap:e,openedLayers:t,openedLayerLists:o}=this;this._openedLayersController?.abort();let r=new AbortController,{signal:n}=r;this._openedLayersController=r,e.forEach((m,h)=>{t.includes(h)||(m.destroy(),e.delete(h))});let p=yield Promise.all(t.map(m=>this._createFlowList(m,n)));if(n.aborted)return;o.removeAll(),o.addMany(p);let a=o.at(-1);a?"catalogLayer"in a?(this._set("catalogLayerList",a),this._set("tableList",null)):(this._set("catalogLayerList",null),this._set("tableList",a)):(this._set("catalogLayerList",null),this._set("tableList",null))})}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(e){return e?d("calcite-tooltip",{key:`tooltip-${e.layer?.uid}`,overlayPositioning:"fixed",referenceElement:this._tooltipReferenceMap.get(e.layer?.uid)},this.messages.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){return e.incompatible?this._renderItemTooltip(e):e.children?.filter(t=>!t.hidden).toArray().map(t=>this._renderItemTooltipNodes(t))}_renderItemTooltips(){return this._visibleReferenceItems.concat(this._visibleBaseItems)?.toArray().map(e=>this._renderItemTooltipNodes(e))}_focusLayerFlowItemNode(e){this._focusLayerFlowItem===e.dataset.layerUid&&(this._focusLayerFlowItem=null,T(e))}_renderPanelFlowItems(){let{_openedPanelItems:e,openedLayers:t}=this;return e.toArray().map(({title:o,panel:r},n)=>{let p=()=>this._handlePanelFlowItemBack(r);return d("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:o,heading:r.title,headingLevel:this.headingLevel,key:`flow-panel-${r.uid}`,selected:!t.length&&n===e.length-1,onCalciteFlowItemBack:a=>{a.preventDefault(),p()}},r.render(),d("calcite-button",{appearance:"transparent",onclick:p,slot:"footer-actions",width:"full"},this.messagesCommon.back))})}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusEditingFlowItemNode(e){this._focusEditingFlowItem&&(this._focusEditingFlowItem=!1,T(e))}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,T(e))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,T(e))}_renderItem(e,t,o,r){return d(ee,{activeItem:this._activeItem,canMove:this._canMove,css:v,displayMode:ie,dragEnabled:!t&&this.dragEnabled,item:e,key:`layerListItem-${e.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:o,parentTitles:r,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:e,fromEl:t,dragEl:o,newIndex:r}){let n=f(o),p=f(e),a=f(t),m=se(t),h=se(e);m&&h&&this.viewModel.moveListItem({targetItem:n,fromParentItem:a,toParentItem:p,newIndex:r,from:m,to:h})}_handleCalciteListDragEnd(e){let{fromEl:t,dragEl:o,oldIndex:r}=e;t.insertBefore(o,t.children[r])}_sortLayers(e,t){if(e)if(e===this._referenceListEl||e===this._baseListEl){let o=e===this._referenceListEl?"reference":"base",r=o==="base"?this.view?.map?.basemap?.baseLayers:o==="reference"?this.view?.map?.basemap?.referenceLayers:null;X(r,t)}else{let o=f(e);if(!o)return;Y(o,t)}}_handleCalciteListChange(e){let{selectionMode:t,selectedItems:o}=this;if(t==="none")return;let r=e.target.selectedItems.map(n=>f(n)).filter(Boolean);o.removeAll(),o.addMany(r)}_renderEditingInput(){let{messages:e}=this,{basemapTitle:t}=this.viewModel;return d("div",{class:v.editing},d("calcite-label",null,e.basemapTitle,d("calcite-input",{afterCreate:o=>this._editTitleInput=o,label:e.basemapTitle,name:"basemaptitle",pattern:ae,placeholder:e.basemapTitle,required:!0,title:e.basemapTitle,type:"text",value:t??void 0})))}_renderCancelButton(){let{messagesCommon:{cancel:e}}=this;return d("calcite-button",{appearance:"outline",bind:this,label:e,onclick:this._toggleEditingTitle,slot:"footer",title:e,width:"full"},e)}_renderSubmitButton(){let{messagesCommon:e}=this;return d("calcite-button",{label:e.form.submit,slot:"footer",title:e.form.submit,type:"submit",width:"full"},e.form.ok)}_renderEditingForm(){return this.editingTitle?d("form",{bind:this,class:v.editingForm,onsubmit:this._formSubmit},d("calcite-flow-item",{afterCreate:this._focusEditingFlowItemNode,afterUpdate:this._focusEditingFlowItemNode,bind:this,heading:this.visibleElements.heading?this.messages.basemapTitle:void 0,headingLevel:this.headingLevel,selected:this.openedLayers.length===0&&this._openedPanelItems.length===0,onCalciteFlowItemBack:e=>{e.preventDefault(),this._toggleEditingTitle()}},this._renderEditingInput(),this._renderCancelButton(),this._renderSubmitButton())):null}_renderEditTitleButton(){let{editingTitle:e,visibleElements:t,messagesCommon:o}=this,r=o.edit;return t.editTitleButton&&!e?d("calcite-action",{bind:this,icon:"pencil",onclick:this._toggleEditingTitle,slot:"header-actions-end",text:r,title:r}):null}_renderNoLayersInfoMessage(e){return d("div",{slot:"message"},e)}_renderNoLayersInfo(e,t){return d("div",{class:v.itemMessage},d("calcite-notice",{icon:"information",key:t,kind:"info",open:!0,width:"full"},this._renderNoLayersInfoMessage(e)))}_renderItems(){let{collapsed:e,visible:t,visibleElements:{closeButton:o,collapseButton:r,heading:n,flow:p},messages:a,viewModel:m}=this,h=[d("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:o,closed:!t,collapsed:e,collapsible:r,heading:n?m.basemapTitle??a.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",selected:!this.editingTitle&&this.openedLayers.length===0&&this._openedPanelItems.length===0,onCalciteFlowItemClose:()=>this.visible=!1},this._renderEditTitleButton(),this._renderReferenceSection(),this._renderBaseSection()),this._renderEditingForm(),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return t?[p?d("calcite-flow",{key:"root-flow"},h):h,this._renderItemTooltips()]:null}_renderLayerFlowItem(e,t){let{messages:o,openedLayers:r}=this,n=e.title||this.messages.untitledLayer;return d("calcite-flow-item",{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":e.uid,description:n,heading:o[e.type==="catalog"?"catalogLayers":"tables"],headingLevel:this.headingLevel,key:`flow-layer-list-${e.uid}`,selected:t,onCalciteFlowItemBack:p=>{p.preventDefault(),r.pop();let a=r.at(-1);a?this._focusLayerFlowItem=a.uid:this._focusRootFlowItem=!0}},this._layerListMap.get(e)?.render())}_renderList(e,t,o){let{messages:r,dragEnabled:n,selectionMode:p,filterPlaceholder:a,baseFilterText:m,referenceFilterText:h,_baseFilterEnabled:_,_referenceFilterEnabled:L,_rootGroupUid:g}=this,B=t==="reference"?r.noReferenceLayers:r.noBaseLayers,w=t==="reference"?L:_;return d("calcite-block",{class:v.section,collapsible:!0,heading:t==="reference"?r.referenceHeading:r.baseHeading,headingLevel:J(this.headingLevel),key:`block-${t}`,open:!0},e?.length===0?this._renderNoLayersInfo(B,t):null,d("calcite-list",{afterCreate:c=>{t==="reference"?this._referenceListEl=c:this._baseListEl=c,c.addEventListener("focusin",this._setActiveItem),c.addEventListener("focusout",this._clearActiveItem)},afterRemoved:c=>{t==="reference"?this._referenceListEl=null:this._baseListEl=null,c.removeEventListener("focusin",this._setActiveItem),c.removeEventListener("focusout",this._clearActiveItem)},canPull:c=>this._canMove(c,"pull"),canPut:c=>this._canMove(c,"put"),displayMode:ie,filterProps:te,[x]:t,"data-layer-type":g,dragEnabled:n,filterEnabled:w,filterPlaceholder:a,filterText:w?t==="reference"?h:m:"",group:g,key:`list-${t}`,label:r.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:p,onCalciteListChange:c=>this._handleCalciteListChange(c),onCalciteListDragEnd:c=>this._handleCalciteListDragEnd(c.detail),onCalciteListFilter:c=>this[t==="reference"?"referenceFilterText":"baseFilterText"]=c.currentTarget?.filterText??"",onCalciteListOrderChange:c=>this._onCalciteListOrderChange(c.detail)},e?.toArray().map(c=>this._renderItem(c,o)),e?.length&&w?d("div",{class:v.filterNoResults,slot:"filter-no-results"},d("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoLayersInfoMessage(B))):null))}_renderBaseSection(){let{_visibleBaseItems:e}=this;return this.visibleElements.baseLayers?this._renderList(e,"base",e?.length===1):null}_renderReferenceSection(){return this.visibleElements.referenceLayers?this._renderList(this._visibleReferenceItems,"reference",!1):null}_toggleEditingTitle(){let{editingTitle:e}=this,t=!e;this.editingTitle=t,t?this._focusEditingFlowItem=!0:this._focusRootFlowItem=!0}_formSubmit(e){e.preventDefault();let t=this._editTitleInput?.value;t?.trim()&&(this.basemapTitle=t),this._toggleEditingTitle()}};function se(e){return e?.closest(`[${x}]`)?.getAttribute(x)}i([s()],l.prototype,"_baseListEl",void 0),i([s()],l.prototype,"_referenceListEl",void 0),i([s()],l.prototype,"_activeItem",void 0),i([s()],l.prototype,"_tooltipReferenceMap",void 0),i([s()],l.prototype,"_focusRootFlowItem",void 0),i([s()],l.prototype,"_focusPanelFlowItem",void 0),i([s()],l.prototype,"_focusLayerFlowItem",void 0),i([s()],l.prototype,"_focusEditingFlowItem",void 0),i([s()],l.prototype,"_layerListMap",void 0),i([s()],l.prototype,"_visibleBaseItems",null),i([s()],l.prototype,"_visibleReferenceItems",null),i([s()],l.prototype,"_openedPanelItems",null),i([s()],l.prototype,"_totalBaseItems",null),i([s()],l.prototype,"_totalReferenceItems",null),i([s()],l.prototype,"_baseFilterEnabled",null),i([s()],l.prototype,"_referenceFilterEnabled",null),i([s()],l.prototype,"_renderedOpenLayerFlowItems",null),i([s()],l.prototype,"basemapTitle",null),i([s({readOnly:!0})],l.prototype,"catalogLayerList",void 0),i([s()],l.prototype,"catalogOptions",void 0),i([s()],l.prototype,"collapsed",void 0),i([s()],l.prototype,"dragEnabled",void 0),i([s()],l.prototype,"editingTitle",void 0),i([s()],l.prototype,"filterPlaceholder",void 0),i([s()],l.prototype,"baseFilterPredicate",void 0),i([s()],l.prototype,"baseFilterText",void 0),i([s()],l.prototype,"referenceFilterPredicate",void 0),i([s()],l.prototype,"referenceFilterText",void 0),i([s()],l.prototype,"listItemCanGiveFunction",void 0),i([s()],l.prototype,"listItemCanReceiveFunction",void 0),i([s()],l.prototype,"baseListItemCreatedFunction",null),i([s()],l.prototype,"headingLevel",void 0),i([s()],l.prototype,"icon",null),i([s()],l.prototype,"knowledgeGraphOptions",void 0),i([s()],l.prototype,"label",null),i([s()],l.prototype,"layerTablesEnabled",void 0),i([s()],l.prototype,"mapImageOptions",void 0),i([s(),O("esri/widgets/BasemapLayerList/t9n/BasemapLayerList")],l.prototype,"messages",void 0),i([s(),O("esri/t9n/common")],l.prototype,"messagesCommon",void 0),i([s()],l.prototype,"minFilterItems",void 0),i([s({readOnly:!0})],l.prototype,"openedLayers",void 0),i([s({readOnly:!0})],l.prototype,"openedLayerLists",void 0),i([s()],l.prototype,"referenceListItemCreatedFunction",null),i([s({readOnly:!0})],l.prototype,"tableList",void 0),i([s({readOnly:!0})],l.prototype,"baseItems",null),i([s({readOnly:!0})],l.prototype,"referenceItems",null),i([s({type:oe})],l.prototype,"selectedItems",void 0),i([s()],l.prototype,"selectionMode",void 0),i([s()],l.prototype,"tileOptions",void 0),i([s()],l.prototype,"view",null),i([K("trigger-action"),s({type:k})],l.prototype,"viewModel",void 0),i([s()],l.prototype,"visibilityAppearance",void 0),i([s({type:$,nonNullable:!0})],l.prototype,"visibleElements",void 0),l=i([P("esri.widgets.BasemapLayerList")],l);var ze=l;export{ze as default};
