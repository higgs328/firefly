import{a as x}from"./chunk-BXOYLRAQ.js";import"./chunk-THGBGAPW.js";import{a as M}from"./chunk-PT2T74VZ.js";import{a as v}from"./chunk-FHBFWDFD.js";import"./chunk-VCGCOU7C.js";import"./chunk-FTYEGPVQ.js";import"./chunk-4IWNSJVE.js";import"./chunk-5REY7VVO.js";import"./chunk-EIFP2BIJ.js";import"./chunk-H2NTHPNN.js";import"./chunk-RZU6EEB3.js";import"./chunk-KLXERNY4.js";import"./chunk-LORHDXEB.js";import"./chunk-3JGYBNJA.js";import"./chunk-K75TK42V.js";import"./chunk-EQZWYK27.js";import"./chunk-VIEK2X23.js";import"./chunk-XKIFGPJO.js";import"./chunk-PEW2PLAN.js";import"./chunk-Q6Y4JG7Q.js";import"./chunk-7F5DJLJT.js";import"./chunk-CX5IFQZJ.js";import"./chunk-NJWTSROP.js";import"./chunk-D3R25AF2.js";import"./chunk-ARRCN5K3.js";import{a as b}from"./chunk-AXYQJCCX.js";import{a as i}from"./chunk-5XCFNEYX.js";import{a as L}from"./chunk-GQL2MBZT.js";import{b as w}from"./chunk-EBIFNV2H.js";import"./chunk-MGGSCSBE.js";import"./chunk-Z6BYFM7E.js";import"./chunk-CFRDSUTM.js";import"./chunk-FB4M3WPV.js";import"./chunk-SLAWDKDA.js";import"./chunk-4N4D2YQX.js";import"./chunk-G4DZJMGT.js";import"./chunk-3VRDAJCX.js";import"./chunk-WTB3O6DJ.js";import"./chunk-7P44K2YD.js";import"./chunk-32OAXCA4.js";import"./chunk-UST6HCE7.js";import"./chunk-K5T5FD5C.js";import"./chunk-MVHHPJM7.js";import"./chunk-VDO6JJ3Y.js";import"./chunk-WFKZLI6F.js";import"./chunk-X2B63YVS.js";import"./chunk-BAEF3CT6.js";import"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import"./chunk-CCJU4DSH.js";import"./chunk-TG45K3WR.js";import"./chunk-RAI4DTMT.js";import"./chunk-ACP3S2CH.js";import"./chunk-HVAXZ2NA.js";import"./chunk-T7DXJKX7.js";import"./chunk-TYYVNQUR.js";import{a as s}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as r}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l as g}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import{z as _}from"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import"./chunk-VTHXE323.js";var n="esri-slice",o={base:n,actions:`${n}__actions`,cancelButton:`${n}__cancel-button`,container:`${n}__container`,error:`${n}__error`,excludeButton:`${n}__exclude-button`,hint:`${n}__hint`,hintText:`${n}__hint-text`,layerItem:`${n}__layer-item`,layerList:`${n}__layer-list`,layerListHeading:`${n}__layer-list-title`,newSliceButton:`${n}__clear-button`},l=class extends L{constructor(e,t){super(e,t),this.headingLevel=3,this.messages=null,this.viewModel=new x,this._onNewSliceClick=()=>{_(this.viewModel.start())}}loadDependencies(){return w({action:()=>import("./chunk-X23M5IZ6.js"),button:()=>import("./chunk-K3RCADAN.js"),"list-item":()=>import("./chunk-MRM6JRFU.js"),list:()=>import("./chunk-4MPCQ5DO.js")})}get active(){return this.viewModel.active}get analysis(){return this.viewModel.analysis}set analysis(e){this.viewModel.analysis=e}get excludedLayers(){return this.viewModel.excludedLayers}set excludedLayers(e){this.viewModel.excludedLayers=e}get excludeGroundSurface(){return this.viewModel.excludeGroundSurface}set excludeGroundSurface(e){this.viewModel.excludeGroundSurface=e}get icon(){return"slice"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}get hasVoxelLayers(){let e=this.viewModel?.view;return e!=null&&e.allLayerViews.some(t=>t.type==="voxel-3d")}render(){return i("div",{class:this.classes(o.base,v.widget,v.panel),role:"presentation"},this.visible?i("div",{class:o.container},this.viewModel.supported?[this._renderHint(),this._renderLayerList(),this._renderActions()]:this._renderUnsupported()):null)}_renderUnsupported(){return i("div",{class:o.error,key:"unsupported"},i("p",null,this.messages.unsupported))}_renderHint(){let{hasVoxelLayers:e,messages:t,viewModel:p}=this,{active:c,layersMode:d,state:y}=p,a=null;return c&&(d==="exclude"?a=t.excludeHint:y==="ready"&&(a=e?t.voxelHint:t.hint)),a?i("div",{class:o.hint,key:"hint"},i("p",{class:o.hintText},a),i("p",{class:o.hintText},t.verticalHint)):null}_renderLayerList(){let{excludedLayers:e,excludeGroundSurface:t,headingLevel:p,messages:c,viewModel:d}=this,{layersMode:y,state:a}=d,u=a==="slicing"||a==="sliced",h=e?e.toArray().map(m=>this._renderLayerItem({uid:m.uid,title:m.title,onClick:()=>(this.excludedLayers.remove(m),!1)})):[];return t&&h.push(this._renderLayerItem({uid:"ground",title:c.ground,onClick:()=>(this.excludeGroundSurface=!1,!1)})),y!=="exclude"&&u&&h.length!==0?i("div",{class:o.layerList,key:"settings"},i(M,{class:o.layerListHeading,level:p},c.excludedLayers),i("calcite-list",{label:c.excludedLayers,selectionMode:"none"},h)):null}_renderActions(){let{messages:e,viewModel:t}=this,{active:p,state:c}=t,d=c==="disabled",y=c==="slicing"||c==="sliced",a=t.layersMode==="exclude",u=[];return p&&!y||a||u.push(i("calcite-button",{class:o.newSliceButton,disabled:d,key:"new-slice",onclick:this._onNewSliceClick},e.newSlice)),y&&!a&&u.push(i("calcite-button",{appearance:"outline-fill",class:o.excludeButton,disabled:d,key:"exclude",onclick:()=>t.enterExcludeLayerMode()},e.excludeLayer)),p&&a&&u.push(i("calcite-button",{appearance:"outline-fill",class:o.cancelButton,disabled:d,key:"cancel-exclude",onclick:()=>t.exitExcludeLayerMode()},e.cancel)),u.length===0?null:i("div",{class:o.actions},u)}_renderLayerItem(e){let t=this.messages.includeLayer;return i("calcite-list-item",{class:o.layerItem,"data-testid":`list-item-${e.uid}`,key:e.uid,label:e.title??""},i("calcite-action",{icon:"x",onclick:e.onClick,scale:"s",slot:"actions-end",text:t,title:t}))}};s([r()],l.prototype,"active",null),s([r({constructOnly:!0,nonNullable:!0})],l.prototype,"analysis",null),s([r()],l.prototype,"excludedLayers",null),s([r()],l.prototype,"excludeGroundSurface",null),s([r()],l.prototype,"headingLevel",void 0),s([r()],l.prototype,"icon",null),s([r()],l.prototype,"label",null),s([r(),b("esri/widgets/Slice/t9n/Slice")],l.prototype,"messages",void 0),s([r()],l.prototype,"view",null),s([r({type:x})],l.prototype,"viewModel",void 0),s([r()],l.prototype,"visible",null),s([r()],l.prototype,"hasVoxelLayers",null),l=s([g("esri.widgets.Slice")],l);var D=l;export{D as default};
