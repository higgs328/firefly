import{c as Se,d as _e,e as $}from"./chunk-F33AQILK.js";import{a as we,b as ve,c as Te}from"./chunk-SLYLIYF3.js";import{a as Ve}from"./chunk-SSPYZF7P.js";import{a as ke}from"./chunk-XX3XW27Y.js";import{a as A}from"./chunk-43SGVIEU.js";import{b as be}from"./chunk-XI2SE6JJ.js";import{a as G}from"./chunk-AGCOSXCD.js";import{c as xe,d as Le,f as Oe,g as Re}from"./chunk-5F4AB6OO.js";import{a as Me}from"./chunk-MFVOVHMW.js";import{a as ye}from"./chunk-6IXNUXNR.js";import{a as k}from"./chunk-CSSRRM4C.js";import{d as R,e as T}from"./chunk-63BBKXWS.js";import{b as O}from"./chunk-LV6YLDIT.js";import{a as ge,b as me}from"./chunk-BCZNXIFZ.js";import{t as ue}from"./chunk-42A4XARZ.js";import{a as ce}from"./chunk-AXZXNRJJ.js";import{a as fe}from"./chunk-BC7GBJHB.js";import{a as de}from"./chunk-EBLTZITF.js";import{a as pe}from"./chunk-TUUOR3MF.js";import{b as z}from"./chunk-LSUTLFVQ.js";import{a as oe}from"./chunk-3QCWBHPT.js";import{a as ae,b as ne}from"./chunk-JFBLKPWZ.js";import{a as se}from"./chunk-B7PAC3NI.js";import{a as he}from"./chunk-NIRJWS2D.js";import{a as le}from"./chunk-LAX5536Z.js";import{d as re}from"./chunk-DA3SDKGO.js";import{h as ie}from"./chunk-RNC4P66O.js";import{a as te}from"./chunk-DZFUQCB6.js";import{a as _,k as K,l as ee}from"./chunk-KVM6SHDX.js";import{f as Q}from"./chunk-NJWTSROP.js";import{a as J}from"./chunk-G4DZJMGT.js";import{a as V,k as v}from"./chunk-TG45K3WR.js";import{b as I}from"./chunk-ACP3S2CH.js";import{a as j}from"./chunk-T7DXJKX7.js";import{a as p}from"./chunk-QGVBCWUY.js";import{e as d}from"./chunk-NFIPKH6V.js";import{l as Z}from"./chunk-5QEXLALV.js";import{i as X}from"./chunk-P6QFA5MM.js";import{c as E}from"./chunk-BWO7LS2H.js";import{b as B}from"./chunk-4PTIEWMT.js";import{b as L}from"./chunk-YOFFGXOB.js";import{g as D}from"./chunk-XRGPJ3QY.js";import{a as M,y as P}from"./chunk-QBWJMFH5.js";import{a as U,b as Y,f as y}from"./chunk-VTHXE323.js";function g(){return Promise.all([import("./chunk-GBQUOJ3C.js"),import("./chunk-4THIOL43.js")])}var x=()=>g().then(()=>import("./chunk-GRIXIU7N.js")),b=()=>g().then(()=>import("./chunk-CQMAE2QW.js")),Ce={"base-dynamic":()=>g().then(()=>import("./chunk-HI5G3WU6.js")),"base-tile":x,"bing-maps":x,catalog:()=>g().then(()=>import("./chunk-7BLU7ULV.js")),"catalog-dynamic-group":()=>g().then(()=>import("./chunk-LRNUZFP2.js")),"catalog-footprint":()=>g().then(()=>import("./chunk-3HVPXLHG.js")),csv:b,"geo-rss":()=>g().then(()=>import("./chunk-F67INIPD.js")),feature:b,geojson:b,parquet:b,graphics:()=>g().then(()=>import("./chunk-LM5T52FE.js")),group:()=>g().then(()=>import("./chunk-AK4Q5EM5.js")),imagery:()=>g().then(()=>import("./chunk-JFYYWN2X.js")),"imagery-tile":()=>g().then(()=>import("./chunk-ULBSMNWH.js")),kml:()=>g().then(()=>import("./chunk-J3NVNVUO.js")),"knowledge-graph":()=>g().then(()=>import("./chunk-VHKTNJBI.js")),"link-chart":()=>g().then(()=>import("./chunk-VHKTNJBI.js")),"knowledge-graph-sublayer":b,"map-image":()=>g().then(()=>import("./chunk-DOVEN5CB.js")),"map-notes":()=>g().then(()=>import("./chunk-MH2XAQBG.js")),media:()=>g().then(()=>import("./chunk-N3AMJMO3.js")),"ogc-feature":()=>g().then(()=>import("./chunk-3V3JLX6A.js")),"open-street-map":x,"oriented-imagery":b,route:()=>g().then(()=>import("./chunk-EP6M2ZPB.js")),stream:()=>g().then(()=>import("./chunk-WCHIUL42.js")),"subtype-group":()=>g().then(()=>import("./chunk-UCOZNWLZ.js")),tile:x,"vector-tile":()=>g().then(()=>import("./chunk-JQAPWK2V.js")),video:()=>g().then(()=>import("./chunk-C2SYQMBG.js")),wcs:()=>g().then(()=>import("./chunk-ULBSMNWH.js")),"web-tile":x,wfs:b,wms:()=>g().then(()=>import("./chunk-LT32VIBL.js")),wmts:()=>g().then(()=>import("./chunk-4JZ6XDPW.js")),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function Ye(e){let t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new L(`${i}:view-not-supported`,`${t} is not supported in 2D`)}var q={hasLayerViewModule:e=>Ce[e.type]!=null,importLayerView:e=>{let t=Ce[e.type];if(t==null)throw Ye(e);return t(e)}};var S={added:[],removed:[]},N=new Set,Be=new se(0,0,0,0);function Xe(e,t){let i=Q(t);if(!i)return null;let[r,s]=i.valid;return e[2]>s?[_([e[0],e[1],s,e[3]]),_([r,e[1],r+e[2]-s,e[3]])]:e[0]<r?[_([r,e[1],e[2],e[3]]),_([s-(r-e[0]),e[1],s,e[3]])]:null}var C=class extends j{constructor(t){super(),this._tiles=new Map,this._index=oe(9,M("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||K(t)===0||ee(t)===0)return[];let i=Xe(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){let i={added:[],removed:[]};for(let r of t.added)if(!this.has(r)){let s=new z(this.tileScheme,r);this._tiles.set(r,s),this._index.insert(s),i.added.push(s)}for(let r of t.removed)if(this.has(r)){let s=this.get(r);this._tiles.delete(r),this._index.remove(s),i.removed.push(s)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){let i=this.tileScheme.getTileCoverage(t,0);if(!i)return;let{spans:r,lodInfo:s}=i,{level:u}=s;if(r.length>0)for(let{row:a,colFrom:o,colTo:c}of r)for(let l=o;l<=c;l++){let f=Be.set(u,a,s.normalizeCol(l),s.getWorldForColumn(l)).id;if(N.add(f),!this.has(f)){let m=new z(this.tileScheme,f);this._tiles.set(f,m),this._index.insert(m),this.tiles.push(m),S.added.push(m)}}for(let a=this.tiles.length-1;a>=0;a--){let o=this.tiles[a];N.has(o.id)||(this._tiles.delete(o.id),this.tiles.splice(a,1),this._index.remove(o),S.removed.push(o))}(S.added.length||S.removed.length)&&this.emit("update",S),ae.pool.release(i),N.clear(),S.added.length=0,S.removed.length=0}};function Ee(e,t,i){return y(this,null,function*(){let r=T(t)?R(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let s=new Set,u=new Set,a=!1,o=null,c=null;i?.include?De(i.include,Pe(e,n=>{s.add(n),F(n,w=>u.add(w))},(n,w)=>{u.add(n),s.add(w)},n=>{o||(o=new Set),o.add(n)},n=>s.add(n),()=>a=!0)):(a=!0,s=new Set(e.allLayerViews),s.forEach(n=>{F(n,w=>u.add(w))})),i?.exclude&&De(i.exclude,Pe(e,n=>{s.delete(n),F(n,w=>u.delete(w))},n=>u.delete(n),n=>{c||(c=new Set),c.add(n)}));let l=e.toMap(r),f=e.allLayerViews.filter(n=>!n.suspended&&s.has(n)&&n.clips.every(w=>O(e,w,r,l))).reverse(),m=[...a?e.graphicsView.hitTest(l).map(n=>({type:"graphic",graphic:n,layer:null,mapPoint:l})):[],...yield Promise.all(f.map(n=>n.hitTest(l,r)).toArray())].filter(P).flat().filter(P);return m=m.filter(n=>n.type!=="graphic"||n.layer?.type!=="subtype-group"||u.has(n.graphic.layer)),o&&(m=m.filter(n=>!("graphic"in n)||!n.graphic||o?.has(W(n.graphic)))),c&&(m=m.filter(n=>!("graphic"in n)||!n.graphic||!c?.has(W(n.graphic)))),{screenPoint:r,results:m}})}function Pe(e,t,i,r,s,u){return a=>{if(a instanceof le){if(a.layer===e)u?.();else{let o=e.allLayerViews.find(c=>c.layer===a.layer);o&&s?.(o)}r(W(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){let o=e.allLayerViews.find(c=>c.layer===a.parent);o&&i(a,o)}else{let o=e.allLayerViews.find(c=>c.layer===a);o&&t(o)}}}function De(e,t){if(e)if(E(e))for(let i of e)if(E(i))for(let r of i)t(r);else t(i);else t(e)}function W(e){let t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function F({layer:e},t){e?.type==="subtype-group"&&e.sublayers.forEach(i=>{t(i)})}var Ie={flipY:!0,premultipliedAlpha:!0};function ze(e,t){return y(this,null,function*(){let i=yield Ae(e,t),{format:r,quality:s}=Oe(t?.format,t?.quality);return xe(i,{format:r,quality:s},Ie)})}function Ge(e,t){return y(this,null,function*(){let i=yield Ae(e,t);return Le(i,Ie)})}function Ae(e,t){let i=Je(t||{},je(e.stage,e.size),e.size,e.padding),r=Ze(t,e.allLayerViews);return e.stage.takeScreenshot(i,r,e.backgroundColor,t?.rotation)}function Ze(e={},t){if(!e.layers)return;let i=[];return e.layers.forEach(r=>{let s=t.find(u=>u.layer.id===r.id);s?.container&&i.push(s.container)}),i}function je(e,t){return Math.min(4,Re(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function Je(e,t,i,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let s=null;e.width!=null&&e.height!=null?s=[e.width,e.height]:e.width==null&&e.height!=null?s=[e.height,e.height]:e.width!=null&&e.height==null?s=[e.width,e.width]:e.width==null&&e.height==null&&(s=null);let u=i[0]-(r.left+r.right),a=i[1]-(r.top+r.bottom),o,c,l=e.area||{x:0,y:0,width:u,height:a};if(s){let f=u/a,m=s[0]/s[1];if(m>f){let n=l.width/m;l={x:l.x,y:Math.round(l.y+(l.height-n)/2),width:l.width,height:Math.round(n)}}else{let n=l.height*m;l={x:Math.round(l.x+(l.width-n)/2),y:l.y,width:Math.round(n),height:l.height}}}else s=[l.width,l.height];return s[0]>l.width?(o=Math.min(s[0]/l.width,t),c=s[0]/l.width/o):(o=1,c=s[0]/l.width),{cropArea:{x:Math.round((l.x+r.left)*o),y:Math.round((l.y+r.top)*o),width:Math.round(l.width*o),height:Math.round(l.height*o)},outputScale:c,resolutionScale:o}}var $e,qe,Ne,Fe,We,He,Ue;function Qe(){return y(this,null,function*(){let[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:r,MagnifierView2D:s,GridView2D:u,Stage:a}]=yield Promise.all([import("./chunk-GBQUOJ3C.js"),import("./chunk-4THIOL43.js")]);qe=e,Ne=t,Fe=i,We=r,He=s,Ue=u,$e=a})}var h=class extends Se(we(ve(Ve(be)))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new pe({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new G({actionMap:new Me({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new I,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new A,this.type="2d",this.view2dType=null,this.ui=new $,this.test={takeScreenshot:t=>y(this,null,function*(){return Ge(this._getScreenshotView(t),t)})},this.padding={top:0,right:0,bottom:0,left:0},he()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=B(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new C(this.featuresTilingScheme)}get constraintsInfo(){let e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return{lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get initialExtentRequired(){if(!this.stateManager)return!1;let{scale:e,constraints:t,center:i,viewpoint:r,extent:s}=this,u=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!s&&(t?.effectiveLODs||(u=-1),(!i||e===0&&u===-1)&&(r?.targetGeometry==null||r.targetGeometry.type!=="extent"&&!r.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){let e=this._getDefaultViewpoint();if(!e)return!1;let t=e.targetGeometry,i=this.spatialReference;return re(t.spatialReference,i)}get background(){return k(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get highlightOptions(){return ge(this)}set highlightOptions(e){me(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){let e=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(i=>!i.destroyed&&!("layerViews"in i)&&i.updating===!0)||e);if(M("esri-2d-log-updating")){let i=this.allLayerViews.reduce((r,s)=>Y(U({},r),{[`${s.layer.id}(${s.layer.type})`]:!s.destroyed&&!("layerViews"in s)&&s.updating}),{});console.log(`Updating MapView: ${t}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(i)}
-> updatingMagnifier: ${e}
`)}return t}get visibleArea(){let e=this.stateManager.visibleArea;return e&&new ie({rings:[e.map(t=>[t[0],t[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}hitTest(e,t){return y(this,null,function*(){return Ee(this,e,t)})}takeScreenshot(e){return y(this,null,function*(){return ze(this._getScreenshotView(e),e)})}toMap(e){if(!this.ready)return null;let t=T(e)?R(this,e):e;return this.stateManager.toMap(t)}toScreen(e,t){return this.stateManager.toScreen(e,t)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return k(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return k(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return q.hasLayerViewModule(e)}importLayerView(e){return q.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(D.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return y(this,null,function*(){let t=this.toMap(e),i=yield this.hitTest(e),r=this.allLayerViews.toArray().filter(c=>c.clips.every(l=>O(this,l,e,t))).reverse(),s=new globalThis.Map(r.map(c=>[c.layer.uid,c])),u=[],a=0,o=0;for(;a<i.results.length||o<r.length;){let c=i.results.at(a);if(c&&c.type!=="graphic"){++a;continue}let l=s.get((c?.layer??c?.graphic.layer)?.uid);if((!c||l)&&o<r.length&&r.at(o)!==l){let f=r.at(o);"fetchPopupFeaturesAtLocation"in f&&u.push({mapPoint:t,layerView:f}),++o}else c&&(u.push({graphic:c.graphic,layerView:l}),++a)}return{hits:u,location:t}})}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){return y(this,null,function*(){let e=Te(this.type);if(M("safari")&&M("safari")<9&&(e=new L("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:M("safari")})),e!=null)throw D.getLogger(this).warn("#validate()",e.message),e})}loadAsyncDependencies(){return Qe()}_getDefaultViewpoint(){let{constraints:e,initialExtent:t,map:i,padding:r,size:s}=this;if(!e)return null;let u=i&&"initialViewProperties"in i?i.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),o=u?.viewpoint,c=o?.targetGeometry?.extent??t,l=c?.center,f=o?.rotation??0,m=o?.scale||c&&fe(c,[s[0]-r.left-r.right,s[1]-r.top-r.bottom]),n=a.center??l,w=a.rotation??f,H=a.scale??m;return n&&H?new de({targetGeometry:n,scale:H,rotation:w}):null}_startup(){this.timeline.begin("MapView Startup");let e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;let t=new $e(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=t,this._magnifierView=new He,this._magnifierView.magnifier=this.magnifier,this._gridView=new Ue;let i=new Fe({view:this});this._set("labelManager",i);let r=new _e({view:this});this._set("animationManager",r);let s=new We({view:this,animationManager:r});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),t.on("webgl-error",a=>this.fatalError=a.error),V(()=>this.stationary,a=>t.stationary=a,v),V(()=>this.background,a=>{t.backgroundColor=a?.color,this._magnifierView.backgroundColor=a?.color},v),V(()=>this.magnifier,a=>this._magnifierView.magnifier=a,v),V(()=>this.grid,a=>this._gridView.grid=a,v),V(()=>this.renderingOptions,a=>t.renderingOptions=a,v),V(()=>this.highlights.items.map(a=>({name:a.name,options:{fillColor:a.color,haloColor:a.haloColor,fillOpacity:a.fillOpacity,haloOpacity:a.haloOpacity,haloWidth:a.haloWidth,haloBlur:a.haloBlur}})),()=>{t.highlightGradient=ue(t.highlightGradient,this.highlights.items)},v),V(()=>this.state.id,()=>t.state=this.state,v)],"map-view"),this._updateStageChildren();let u=this._resolveWhenReady;this._resolveWhenReady=[],u.forEach(a=>a(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this.stage.addChild(t.container)});let e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){let e=new ne(te.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);let t=new qe({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Ne(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){let e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){let{allLayerViews:t,padding:i,size:r,stage:s}=this;return{allLayerViews:t,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:i,size:r,stage:s}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(let t of this.allLayerViews)t.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(let t of this.allLayerViews)t.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};h.type="2d",p([d({constructOnly:!0})],h.prototype,"deactivatedWebGLExtensions",void 0),p([d({constructOnly:!0})],h.prototype,"debugWebGLExtensions",void 0),p([d({readOnly:!0})],h.prototype,"featuresTilingScheme",void 0),p([d({readOnly:!0})],h.prototype,"graphicsTileStore",null),p([d()],h.prototype,"graphicsView",void 0),p([d()],h.prototype,"constraintsInfo",null),p([d()],h.prototype,"initialExtentRequired",null),p([d()],h.prototype,"labelManager",void 0),p([d({type:G,nonNullable:!0})],h.prototype,"navigation",void 0),p([d({constructOnly:!0})],h.prototype,"renderCanvas",void 0),p([d()],h.prototype,"renderingOptions",void 0),p([d({constructOnly:!0})],h.prototype,"supersampleScreenshotsEnabled",void 0),p([d({readOnly:!0})],h.prototype,"supportsGround",void 0),p([d()],h.prototype,"defaultsFromMapSettings",null),p([d({readOnly:!0})],h.prototype,"typeSpecificPreconditionsReady",null),p([d({type:ye})],h.prototype,"background",null),p([d()],h.prototype,"center",null),p([d({type:I})],h.prototype,"floors",void 0),p([d()],h.prototype,"grid",void 0),p([d({type:ce})],h.prototype,"highlightOptions",null),p([d()],h.prototype,"map",void 0),p([d()],h.prototype,"padding",null),p([d({readOnly:!0})],h.prototype,"rendering",null),p([d({readOnly:!0})],h.prototype,"resolution",null),p([d()],h.prototype,"scale",null),p([d({constructOnly:!0})],h.prototype,"spatialReferenceLocked",void 0),p([d({readOnly:!0})],h.prototype,"tileInfo",null),p([d({type:A,readOnly:!0})],h.prototype,"timeline",void 0),p([d({readOnly:!0})],h.prototype,"type",void 0),p([d({readOnly:!0})],h.prototype,"updating",null),p([d({readOnly:!0})],h.prototype,"view2dType",void 0),p([d({readOnly:!0})],h.prototype,"visibleArea",null),p([d()],h.prototype,"zoom",null),p([d({readOnly:!0})],h.prototype,"navigating",null),p([d(),J(e=>e instanceof ke?e:X($,e))],h.prototype,"ui",void 0),h=p([Z("esri.views.View2D")],h);var ci=h;export{ci as a};
