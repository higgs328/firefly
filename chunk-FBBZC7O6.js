import{a as w}from"./chunk-S3NN56BI.js";import{a as f,b as h,c as v}from"./chunk-6RBQSBA2.js";import{o as d}from"./chunk-AUAZP44J.js";import"./chunk-PVDFCTA4.js";import"./chunk-KNVXE32P.js";import"./chunk-76ATOSLU.js";import{f as u}from"./chunk-CCJU4DSH.js";import{a as s}from"./chunk-QGVBCWUY.js";import"./chunk-MYO4NP2N.js";import{e as t}from"./chunk-NFIPKH6V.js";import"./chunk-JPU2PQZC.js";import{l}from"./chunk-5QEXLALV.js";import"./chunk-P6QFA5MM.js";import"./chunk-DGTD7Y73.js";import"./chunk-LI2SX4T6.js";import"./chunk-BWO7LS2H.js";import"./chunk-HEVQSRJ2.js";import"./chunk-OVHPPCBL.js";import"./chunk-SNFOAZZQ.js";import"./chunk-AML4XSEF.js";import"./chunk-4PTIEWMT.js";import"./chunk-TG2UTNEO.js";import{b as a}from"./chunk-YOFFGXOB.js";import"./chunk-XRGPJ3QY.js";import"./chunk-6MRUJ2UW.js";import"./chunk-2LI2GKBQ.js";import"./chunk-QBWJMFH5.js";import{a as i,b as n,f as m}from"./chunk-VTHXE323.js";var r=class extends u{constructor(o){super(o),this.hasConflicts=!1,this.moment=null,this.didPost=!1,this.success=!1}};s([t({type:Boolean,json:{write:!0}})],r.prototype,"hasConflicts",void 0),s([t({type:Date,json:{type:Number,write:{writer:(o,e)=>{e.moment=o?o.getTime():null}}}})],r.prototype,"moment",void 0),s([t({type:Boolean,json:{write:!0}})],r.prototype,"didPost",void 0),s([t({type:Boolean,json:{write:!0}})],r.prototype,"success",void 0),r=s([l("esri.rest.versionManagement.gdbVersion.support.ReconcileResult")],r);var y=r;var p=new Map;function T(o,e,g,j){return m(this,null,function*(){if(p.has(o)||(yield w(p,o)),(p.get(o)?.serverVersion??0)<=11.1)throw new a("reconcile:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!e)throw new a("reconcile:missing-guid","guid for version is missing");let c=h(o),V=g.toJSON(),S=f(c.query,n(i({query:v(n(i({},V),{f:"json"}))},j),{method:"post"}));e.startsWith("{")&&(e=e.slice(1,-1));let b=`${c.path}/versions/${e}/reconcile`,{data:q}=yield d(b,S);return y.fromJSON(q)})}export{T as reconcile,p as serverVersionCacheMap};
