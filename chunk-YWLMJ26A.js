import{a as v,c as F}from"./chunk-QAWNU3UJ.js";import{a as _}from"./chunk-HRQT4R6X.js";import{a as U,b}from"./chunk-44BHLWQ4.js";import{a as M}from"./chunk-NAFOM5UA.js";import{a as H}from"./chunk-6F25LG6O.js";import{a as h}from"./chunk-MIS6QMFE.js";import{b as N}from"./chunk-OLOKUDVI.js";import{a as A}from"./chunk-PEW2PLAN.js";import{a as O}from"./chunk-CX5IFQZJ.js";import{b as L}from"./chunk-BAEF3CT6.js";import{a as k,b as q}from"./chunk-PVDFCTA4.js";import{C as I,E as R,I as j,z as D}from"./chunk-76ATOSLU.js";import{f as d}from"./chunk-CCJU4DSH.js";import{a as t}from"./chunk-QGVBCWUY.js";import{H as P}from"./chunk-MYO4NP2N.js";import{e}from"./chunk-NFIPKH6V.js";import{l as n}from"./chunk-5QEXLALV.js";import{g as z}from"./chunk-XRGPJ3QY.js";import{b as u}from"./chunk-2LI2GKBQ.js";import{a as f,b as y}from"./chunk-VTHXE323.js";var g,J=L()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"}),a=g=class extends d{constructor(r){super(r)}readHref(r,o,i){return r?k(r,i):o.dataURI}writeHref(r,o,i,p){r&&(R(r)?o.dataURI=r:(o.href=q(r,p),I(o.href)&&(o.href=D(o.href))))}clone(){return new g({href:this.href,primitive:this.primitive})}};t([e({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.prototype,"href",void 0),t([A("href")],a.prototype,"readHref",null),t([O("href",{href:{type:String},dataURI:{type:String}})],a.prototype,"writeHref",null),t([h(J)],a.prototype,"primitive",void 0),a=g=t([n("esri.symbols.support.IconSymbol3DLayerResource")],a);var sr="circle";var w,l=w=class extends P{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new w({x:this.x,y:this.y})}};t([e({type:Number})],l.prototype,"x",void 0),t([e({type:Number})],l.prototype,"y",void 0),l=w=t([n("esri.symbols.support.Symbol3DAnchorPosition2D")],l);var S,m=S=class extends d{constructor(r){super(r),this.color=new H([0,0,0,1]),this.size=N(1)}clone(){let r={color:this.color!=null?this.color.clone():null,size:this.size};return new S(r)}};t([e(U({colorRequiredOnWrite:!0}))],m.prototype,"color",void 0),t([e(y(f({},b),{json:{write:{isRequired:!0}}}))],m.prototype,"size",void 0),m=S=t([n("esri.symbols.support.Symbol3DIconOutline")],m);var c,C="esri.symbols.IconSymbol3DLayer",s=c=class extends M{constructor(r){super(r),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new c({anchor:this.anchor,anchorPosition:u(this.anchorPosition),enabled:this.enabled,material:u(this.material),outline:u(this.outline),resource:u(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(r){let o=r.color||v,i=T(r),p=r.outline&&r.outline.width>0?{size:r.outline.width,color:(r.outline.color||v).clone()}:null;return new c({size:r.size,angle:r.angle,resource:{primitive:$(r.style)},material:{color:o},outline:p,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(r){let o=!r.color||F(r.color)?v:r.color,i=T(r);return new c({size:r.width<=r.height?r.height:r.width,angle:r.angle,resource:{href:r.url},material:{color:o.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(r){return new c({resource:{href:j({mediaType:"application/json",data:JSON.stringify(r.data)})}})}};t([e({type:_,json:{write:!0}})],s.prototype,"material",void 0),t([e({type:a,json:{write:!0}})],s.prototype,"resource",void 0),t([h({Icon:"icon"},{readOnly:!0})],s.prototype,"type",void 0),t([e(y(f({},b),{json:{write:{isRequired:!0}}}))],s.prototype,"size",void 0),t([h({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],s.prototype,"anchor",void 0),t([e({type:l,json:{type:[Number],read:{reader:r=>new l({x:r[0],y:r[1]})},write:{writer:(r,o)=>{o.anchorPosition=[r.x,r.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],s.prototype,"anchorPosition",void 0),t([e({type:m,json:{write:!0}})],s.prototype,"outline",void 0),t([e({type:Number,json:{write:!0,default:0}})],s.prototype,"angle",void 0),s=c=t([n(C)],s);var $r=s;function T(r){let o="width"in r?r.width:r.size,i="height"in r?r.height:r.size,p=B(r.xoffset),x=B(r.yoffset);return(p||x)&&o&&i?{x:-p/o,y:x/i}:null}function B(r){return isFinite(r)?r:0}var W={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function $(r){return W[r]||(z.getLogger(C).warn(`${r} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}export{sr as a,l as b,$r as c};
